{"ast":null,"code":"import Breadcrumbs from\"@mui/material/Breadcrumbs\";import HomeIcon from\"@mui/icons-material/Home\";import ExpandMoreIcon from\"@mui/icons-material/ExpandMore\";import{emphasize,styled}from\"@mui/material/styles\";import Chip from\"@mui/material/Chip\";import MenuItem from\"@mui/material/MenuItem\";import Select from\"@mui/material/Select\";import React,{useEffect,useState,useRef,useCallback}from\"react\";import Rating from\"@mui/material/Rating\";import{FaCloudUploadAlt}from\"react-icons/fa\";import{Icon}from\"@mui/material\";import Button from\"@mui/material/Button\";import CloseIcon from\"@mui/icons-material/Close\";import api from\"../../../api/api\";import{useParams}from\"react-router-dom\";// import { htmlToMarkdown } from 'html-to-markdown';\nimport TurndownService from\"turndown\";import Loading from\"../../../components/loading\";import ReactQuill from\"react-quill\";import\"react-quill/dist/quill.snow.css\";import{useNavigate}from\"react-router-dom\";import{normalizeFileName,convertToWords}from\"../../../utils/formart\";import{red}from\"@mui/material/colors\";import{baseURL_,base_}from\"../../../utils/env\";//breadcrumb code\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const StyledBreadcrumb=styled(Chip)(_ref=>{let{theme}=_ref;const backgroundColor=theme.palette.mode===\"light\"?theme.palette.grey[100]:theme.palette.grey[800];return{backgroundColor,height:theme.spacing(3),color:theme.palette.text.primary,fontWeight:theme.typography.fontWeightRegular,\"&:hover, &:focus\":{backgroundColor:emphasize(backgroundColor,0.06)},\"&:active\":{boxShadow:theme.shadows[1],backgroundColor:emphasize(backgroundColor,0.12)}};});const ProductAdd=_ref2=>{let{history}=_ref2;const navigate=useNavigate();const reactQuillRef=useRef();const[fileExcel,setFileExcel]=useState(null);const[name,setName]=useState(\"\");const[brand,setBrand]=useState(\"\");const[quantity,setQuantity]=useState(0);const[discount,setDiscount]=useState(0);const[price,setPrice]=useState(0);const[depscription,setDepscription]=useState(\"\");const[dataCategory,setdataCategory]=useState();const[selectedCategoryOption,setSelectedCategoryOption]=useState(\"\");const[images,setImages]=useState([]);const[isLoading,setIsLoading]=useState(false);const[inputColor,setInputColor]=useState(\"\");const[inputSize,setInputSize]=useState(\"\");const[sizeValue,setSizeValue]=useState([]);const[colorValue,setColorValue]=useState([]);const[formFields,setFormFields]=useState({color:[],size:[],url:[],pathDep:[]});const[dataUser,setdataUser]=useState();const turndownService=new TurndownService();const data=localStorage.getItem(\"userData\");const id=localStorage.getItem(\"_id\");useEffect(()=>{if(data){setdataUser(JSON.parse(data));}},[id]);const getDataCate=async()=>{try{const responsive=await api.get(\"\".concat(baseURL_,\"/categori/\"));if(responsive.data.status===true){setdataCategory(responsive.data.data);}}catch(error){console.log(\"error\",error);}};useEffect(()=>{getDataCate();},[]);const handleKeyColor=e=>{if(e.key===\"Enter\"){e.preventDefault();if(inputColor.trim()!==\"\"){const newColors=inputColor.split(\",\").map(color=>color.trim()).filter(color=>color!==\"\");const uniqueColors=newColors.filter(i=>!colorValue.includes(i));setColorValue(prevColors=>[...prevColors,...uniqueColors]);setInputColor(\"\");setFormFields(prevFields=>({...prevFields,color:[...new Set([...prevFields.color,...uniqueColors])]}));}}};const removeColor=index=>{setColorValue(prevColors=>prevColors.filter((_,i)=>i!==index));setFormFields(prevFields=>({...prevFields,color:prevFields.color.filter((_,i)=>i!==index)}));};// size\nconst handleKeySize=e=>{if(e.key===\"Enter\"){e.preventDefault();if(inputSize.trim()!==\"\"){const newSize=inputSize.split(\",\").map(size=>size.trim()).filter(size=>size!==\"\");const uniqueSize=newSize.filter(i=>!sizeValue.includes(i));setSizeValue(prev=>[...prev,...uniqueSize]);setFormFields(prevFields=>({...prevFields,size:[...new Set([...prevFields.size,...uniqueSize])]}));setInputSize(\"\");}}};// Hàm để xóa màu khỏi mảng colors\nconst removeSize=index=>{setSizeValue(prev=>prev.filter((_,i)=>i!==index));setFormFields(prevFields=>({...prevFields,size:prevFields.size.filter((_,i)=>i!==index)}));};const onChangeImages=e=>{const files=Array.from(e.target.files);const newImagesWithRenamed=files.map(file=>{const renamedFile=new File([file],normalizeFileName(file.name),{type:file.type});return renamedFile;});// console.log('New image name:',newImagesWithRenamed);\nconst newImages=newImagesWithRenamed.filter(file=>!images.some(image=>image.name===file.name));setImages(prevImages=>[...prevImages,...newImages]);setFormFields(prevFields=>({...prevFields,url:[...prevFields.url,...newImagesWithRenamed]}));};const handleRemoveImage=index=>{setImages(prevImages=>prevImages.filter((_,i)=>i!==index));setFormFields(prevFields=>({...prevFields,url:formFields.url.filter((_,i)=>i!==index)}));};const upfile=async()=>{const formData=new FormData();// Thêm các file từ formFields.url vào FormData\nformFields.url.forEach(image=>{formData.append(\"files\",image);});try{const response=await api.post(\"\".concat(baseURL_,\"/uploads\"),formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});return response.status;}catch(error){console.error(\"Upload failed\",error);}};const updateImg=async idProduct=>{try{const response=await api.post(\"\".concat(baseURL_,\"/imgshose\"),{productId:idProduct,images:formFields.url.slice(1).map(image=>image.name)});return response.status;}catch(error){console.error(\"Upload failed\",error);}};// console.log(\"Upload\",formFields)\n// console.log(\"formFields.url\",formFields.url.slice(1).map((image) => image))\nconst submitForm=async e=>{e.preventDefault();if(name===\"\"){return window.alert(\"Please input name enter\");}if(brand===\"\"){return window.alert(\"Please input brand enter\");}if(quantity===0){return window.alert(\"Please input quantity enter\");}// if (discount === 0) {\n//   return window.alert(\"Please input discount enter\");\n// }\n// if (description === \"\") {\n//   return window.alert(\"Please input description enter\");\n// }\nif(colorValue.length===0){return window.alert(\"Please input color enter\");}if(images.length===0){return window.alert(\"Please input images enter\");}if(sizeValue.length===0){return window.alert(\"Please input size enter\");}if(selectedCategoryOption===\"\"){return window.alert(\"Please input dataCategory enter\");}try{setIsLoading(true);const file=await upfile();const jsonData={userId:dataUser.email,parentCategory:selectedCategoryOption,name:name,brand:brand,price:price,quantity:parseInt(quantity),discount:parseFloat(discount!==0?discount:0),color:formFields.color.filter(color=>color.trim()!==\"\"),description:depscription,size:formFields.size.filter(color=>color.trim()!==\"\"),imageUrl:normalizeFileName(formFields.url[0].name)};// turndownService.turndown(depscription)\n// console.log(\"jsonData\", jsonData);\nconsole.log(\"depscription\",depscription);const response=await api.post(\"\".concat(baseURL_,\"/shose\"),jsonData,{headers:{\"Content-Type\":\"application/json\"}});if(response.data.status===true){// console.log(\"response\", response.data.data._id);\nconst img=await updateImg(response.data.data._id);// console.log(\"img\", img);\nif(img===200){window.alert(\"Đã thêm sản phẩm thành công\");navigate(\"/products\");}else{window.alert(\"Error\");}}// console.log(response.data);\n}catch(error){console.error(\"Cấu hình lỗi:\",error.message);}finally{setIsLoading(false);}};const submitFile=async e=>{e.preventDefault();if(fileExcel){const formData=new FormData();formData.append(\"excelFile\",fileExcel);api.post(\"\".concat(baseURL_,\"/shose/upload/\").concat(id),formData).then(response=>{if(response.status===200){alert(\"Bạn đã cập nhật thành công!\");}else{alert(\"\\u0110\\xE3 x\\u1EA3y ra l\\u1ED7i: \".concat(response.data));}}).catch(error=>{console.error(error);alert(\"Đã xảy ra lỗi: \"+error.message);});}else{console.log(\"No file selected\");alert(\"H\\xE3y ch\\u1ECDn file\");}};const handleFileUpload=async(file,endpoint)=>{const formData=new FormData();formData.append(\"file\",file);const response=await fetch(\"\".concat(baseURL_).concat(endpoint),{method:\"POST\",body:formData});if(response.ok){const data=await response.json();return data.url;}else{throw new Error(\"Failed to upload file\");}};const imageHandler=useCallback(()=>{const input=document.createElement(\"input\");input.setAttribute(\"type\",\"file\");input.setAttribute(\"accept\",\"image/*\");input.setAttribute(\"multiple\",true);input.click();input.onchange=async()=>{if(input.files!==null&&input.files.length>0){const file=input.files[0];const renamedFile=new File([file],normalizeFileName(file.name),{type:file.type});// Đọc ảnh và hiển thị ngay lập tức\nconst reader=new FileReader();reader.onload=()=>{const dataURL=reader.result;const quill=reactQuillRef.current.getEditor();const cursorPosition=quill.getSelection().index||0;quill.insertEmbed(cursorPosition,\"image\",dataURL,\"user\");// Tải ảnh lên server và thay thế base64 bằng URL\nhandleFileUpload(renamedFile,\"/upload-image\").then(Purl=>{console.log(\"Purl\",Purl);const editor=quill.root;const images=editor.getElementsByTagName(\"img\");for(let i=0;i<images.length;i++){if(images[i].src===dataURL){images[i].src=baseURL_+''+Purl;break;}}}).catch(error=>{console.error(\"Error uploading image:\",error);// Tìm và xóa ảnh base64 đã chèn\nconst editor=quill.root;const images=editor.getElementsByTagName(\"img\");for(let i=0;i<images.length;i++){if(images[i].src===dataURL){images[i].parentNode.removeChild(images[i]);break;}}alert(\"Lỗi update ảnh.\");});};reader.readAsDataURL(renamedFile);}};},[reactQuillRef]);const videoHandler=useCallback(()=>{const url=prompt(\"Please enter the video URL (YouTube, TikTok) or choose a file to upload:\");if(url){let embedUrl=\"\";if(url.includes(\"youtube.com\")||url.includes(\"youtu.be\")){var _url$split$;const videoId=((_url$split$=url.split(\"v=\")[1])===null||_url$split$===void 0?void 0:_url$split$.split(\"&\")[0])||url.split(\"/\").pop();embedUrl=\"https://www.youtube.com/embed/\".concat(videoId);}else if(url.includes(\"tiktok.com\")){var _url$split$2;const videoId=(_url$split$2=url.split(\"/video/\")[1])===null||_url$split$2===void 0?void 0:_url$split$2.split(\"?\")[0];embedUrl=\"https://www.tiktok.com/embed/v2/\".concat(videoId);}else{alert(\"Invalid URL format. Please enter a valid YouTube or TikTok URL.\");return;}const range=reactQuillRef.current.getEditor().getSelection();reactQuillRef.current.getEditor().insertEmbed(range.index,\"video\",embedUrl);}else{const input=document.createElement(\"input\");input.setAttribute(\"type\",\"file\");input.setAttribute(\"accept\",\"video/*\");input.click();input.onchange=async()=>{const file=input.files[0];const renamedFile=new File([file],normalizeFileName(file.name),{type:file.type});// console.log(\"Uploading video\", file);\ntry{// Handle the video file upload\nconst PathUrl=await handleFileUpload(renamedFile,\"/upload-video\");const range=reactQuillRef.current.getEditor().getSelection();reactQuillRef.current.getEditor().insertEmbed(range.index,\"video\",\"\".concat(base_)+PathUrl);}catch(error){alert(\"Error uploading video.\");console.error(\"Error uploading video:\",error);}};}},[reactQuillRef]);const decodeHTML=html=>{var txt=document.createElement(\"textarea\");txt.innerHTML=html;return txt.value;};const handleEditorChange=(content,delta,source,editor)=>{console.log('handleEditorChange',content);setDepscription(content);};return/*#__PURE__*/_jsx(_Fragment,{children:isLoading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"right-content w-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow border-0 w-100 flex-row p-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Product Upload\"}),/*#__PURE__*/_jsxs(Breadcrumbs,{\"aria-label\":\"breadcrumb\",className:\"ml-auto breadcrumbs_\",children:[/*#__PURE__*/_jsx(StyledBreadcrumb,{component:\"a\",href:\"#\",label:\"Dashboard\",icon:/*#__PURE__*/_jsx(HomeIcon,{fontSize:\"small\"})}),/*#__PURE__*/_jsx(StyledBreadcrumb,{component:\"a\",label:\"Products\",href:\"#\",deleteIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{})}),/*#__PURE__*/_jsx(StyledBreadcrumb,{label:\"Product Upload\",deleteIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow border-0 w-100 p-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Upload File Product \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:submitFile,children:[/*#__PURE__*/_jsx(\"h5\",{style:{color:\"red\"},className:\"mb-4\",children:\"L\\u01AFU \\xDD: khi s\\u1EED d\\u1EE5ng th\\xEAm b\\u1EB1ng file excel c\\xF3 d\\u1EA1ng .xlsx\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:20,marginRight:20},children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\" \",\"+ G\\u1ED3m c\\xE1c c\\u1ED9t:ID,NAME,BRAND,PRICE,ARRAY_COLOR,PARENTCATEGORY,ARRAY_SIZE,QUANTITY,DEPSCRIPTION,IMAGEURL,ARRAY_IMG\"]}),/*#__PURE__*/_jsx(\"li\",{children:\" + \"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Upload file .xlsx\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".xlsx\",onChange:e=>setFileExcel(e.target.files[0]),className:\"form-control\"})]}),/*#__PURE__*/_jsxs(Button,{type:\"submit\",className:\"btn-blue btn-lg btn-big\",children:[/*#__PURE__*/_jsx(FaCloudUploadAlt,{}),\" \\xA0 UPDATE TO FILE\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row22\",children:[/*#__PURE__*/_jsx(\"form\",{className:\"form\",onSubmit:submitForm,children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-4\",children:\"Product Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Name Product\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nameProduct\",value:name,onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\" Category Option\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"options\",value:selectedCategoryOption,onChange:e=>setSelectedCategoryOption(e.target.value),className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"--Please choose an option--\"}),dataCategory!==undefined&&dataCategory.map(category=>/*#__PURE__*/_jsx(\"option\",{value:\"\".concat(category._id),children:category.name}))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Discount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"discount\",value:discount,onChange:e=>setDiscount(e.target.value)})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Brand\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"brand\",value:brand,onChange:e=>setBrand(e.target.value)})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"quantity\",value:quantity,onChange:e=>setQuantity(e.target.value)}),quantity&&!isNaN(parseInt(quantity))&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:convertToWords(parseInt(quantity))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Price \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:price,name:\"price\",onChange:e=>setPrice(e.target.value)}),price&&!isNaN(parseInt(price))&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:convertToWords(parseInt(price))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Color\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",border:\"1px solid #ccc\",padding:\"5px\",borderRadius:\"4px\"},children:[colorValue.map((color,index)=>/*#__PURE__*/_jsxs(\"span\",{style:{display:\"flex\",alignItems:\"center\",margin:\"2px\",padding:\"2px 5px\",background:\"\".concat(color),borderRadius:\"3px\",border:\"1px solid #ccc\"},children:[color,/*#__PURE__*/_jsx(Icon,{component:CloseIcon,sx:{marginLeft:3,height:20},onClick:()=>removeColor(index)})]},index)),/*#__PURE__*/_jsx(\"input\",{name:\"color\",type:\"text\",value:inputColor,onChange:e=>setInputColor(e.target.value),onKeyPress:handleKeyColor,placeholder:\"Please enter data, separated by commas, then press enter: green,red,blue,...\",style:{border:\"none\",outline:\"none\",flexGrow:1,minWidth:\"100px\"}})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"h6\",{children:\"Size\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",border:\"1px solid #ccc\",padding:\"5px\",borderRadius:\"4px\"},children:[sizeValue.map((size,index)=>/*#__PURE__*/_jsxs(\"span\",{style:{display:\"flex\",alignItems:\"center\",margin:\"2px\",padding:\"2px 5px\",background:\"#f0f0f0\",borderRadius:\"3px\",border:\"1px solid #ccc\"},children:[size,/*#__PURE__*/_jsx(Icon,{component:CloseIcon,sx:{marginLeft:3,height:20},onClick:()=>removeSize(index)})]},index)),/*#__PURE__*/_jsx(\"input\",{name:\"size\",type:\"text\",value:inputSize,onChange:e=>setInputSize(e.target.value),onKeyPress:handleKeySize,placeholder:\"Please enter data, separated by commas, then press enter: XL,XX,XS,S,L,SM\",style:{border:\"none\",outline:\"none\",flexGrow:1,minWidth:\"100px\"}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Upload Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:onChangeImages,className:\"form-control\",multiple:true}),images!==undefined&&/*#__PURE__*/_jsx(\"div\",{className:\"image-list\",style:{display:\"flex\",flexWrap:\"wrap\"},children:images.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"image-item\",style:{position:\"relative\",margin:5},children:[/*#__PURE__*/_jsx(\"img\",{className:\"img-preview\",style:{height:100,width:100},src:URL.createObjectURL(image),alt:\"Image \".concat(index)}),/*#__PURE__*/_jsx(Icon,{component:CloseIcon,sx:{position:\"absolute\",top:5,right:5,cursor:\"pointer\"},onClick:()=>handleRemoveImage(index)})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",id:\"editor-container\",children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Depscription\"}),/*#__PURE__*/_jsx(\"div\",{style:{height:\"auto\",marginBottom:\"50px\"},children:/*#__PURE__*/_jsx(ReactQuill,{ref:reactQuillRef,theme:\"snow\",style:{height:\"100%\",width:\"100%\"},value:depscription,placeholder:\"Ch\\xFA \\xFD : Khi th\\xEAm youtube th\\xEC d\\xF9ng iframe src=https://www.youtube.com/embed/+ m\\xE3 tr\\xEAn youtube \",onChange:handleEditorChange,modules:{toolbar:{container:[[{header:\"1\"},{header:\"2\"},{font:[]}],[{size:[]}],[\"bold\",\"italic\",\"underline\",\"strike\",\"blockquote\"],[{list:\"ordered\"},{list:\"bullet\"},{indent:\"-1\"},{indent:\"+1\"}],[\"link\",\"image\",\"video\"],[\"code-block\"],[\"clean\"]],handlers:{image:imageHandler,video:videoHandler}},clipboard:{matchVisual:false}},formats:[\"header\",\"font\",\"size\",\"bold\",\"italic\",\"underline\",\"strike\",\"blockquote\",\"list\",\"bullet\",\"indent\",\"link\",\"image\",\"video\",\"code-block\"]})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Button,{type:\"submit\",className:\"btn-blue btn-lg btn-big\",children:[/*#__PURE__*/_jsx(FaCloudUploadAlt,{}),\" \\xA0 ADD TO VIEW\"]})]})})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"form-preview-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-preview\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"HTML Preview depscription:\"}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:decodeHTML(depscription)}})]})})]})]})});};export default ProductAdd;","map":{"version":3,"names":["Breadcrumbs","HomeIcon","ExpandMoreIcon","emphasize","styled","Chip","MenuItem","Select","React","useEffect","useState","useRef","useCallback","Rating","FaCloudUploadAlt","Icon","Button","CloseIcon","api","useParams","TurndownService","Loading","ReactQuill","useNavigate","normalizeFileName","convertToWords","red","baseURL_","base_","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StyledBreadcrumb","_ref","theme","backgroundColor","palette","mode","grey","height","spacing","color","text","primary","fontWeight","typography","fontWeightRegular","boxShadow","shadows","ProductAdd","_ref2","history","navigate","reactQuillRef","fileExcel","setFileExcel","name","setName","brand","setBrand","quantity","setQuantity","discount","setDiscount","price","setPrice","depscription","setDepscription","dataCategory","setdataCategory","selectedCategoryOption","setSelectedCategoryOption","images","setImages","isLoading","setIsLoading","inputColor","setInputColor","inputSize","setInputSize","sizeValue","setSizeValue","colorValue","setColorValue","formFields","setFormFields","size","url","pathDep","dataUser","setdataUser","turndownService","data","localStorage","getItem","id","JSON","parse","getDataCate","responsive","get","concat","status","error","console","log","handleKeyColor","e","key","preventDefault","trim","newColors","split","map","filter","uniqueColors","i","includes","prevColors","prevFields","Set","removeColor","index","_","handleKeySize","newSize","uniqueSize","prev","removeSize","onChangeImages","files","Array","from","target","newImagesWithRenamed","file","renamedFile","File","type","newImages","some","image","prevImages","handleRemoveImage","upfile","formData","FormData","forEach","append","response","post","headers","updateImg","idProduct","productId","slice","submitForm","window","alert","length","jsonData","userId","email","parentCategory","parseInt","parseFloat","description","imageUrl","img","_id","message","submitFile","then","catch","handleFileUpload","endpoint","fetch","method","body","ok","json","Error","imageHandler","input","document","createElement","setAttribute","click","onchange","reader","FileReader","onload","dataURL","result","quill","current","getEditor","cursorPosition","getSelection","insertEmbed","Purl","editor","root","getElementsByTagName","src","parentNode","removeChild","readAsDataURL","videoHandler","prompt","embedUrl","_url$split$","videoId","pop","_url$split$2","range","PathUrl","decodeHTML","html","txt","innerHTML","value","handleEditorChange","content","delta","source","children","className","component","href","label","icon","fontSize","deleteIcon","onSubmit","style","marginLeft","marginRight","accept","onChange","undefined","category","isNaN","display","flexWrap","border","padding","borderRadius","alignItems","margin","background","sx","onClick","onKeyPress","placeholder","outline","flexGrow","minWidth","multiple","position","width","URL","createObjectURL","alt","top","right","cursor","marginBottom","ref","modules","toolbar","container","header","font","list","indent","handlers","video","clipboard","matchVisual","formats","dangerouslySetInnerHTML","__html"],"sources":["/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/components/admin/Products/ProductAdd.js"],"sourcesContent":["import Breadcrumbs from \"@mui/material/Breadcrumbs\";\nimport HomeIcon from \"@mui/icons-material/Home\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { emphasize, styled } from \"@mui/material/styles\";\nimport Chip from \"@mui/material/Chip\";\n\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport React, { useEffect, useState, useRef, useCallback } from \"react\";\nimport Rating from \"@mui/material/Rating\";\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\nimport { Icon } from \"@mui/material\";\nimport Button from \"@mui/material/Button\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport api from \"../../../api/api\";\nimport { useParams } from \"react-router-dom\";\n// import { htmlToMarkdown } from 'html-to-markdown';\nimport TurndownService from \"turndown\";\nimport Loading from \"../../../components/loading\";\n\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { normalizeFileName, convertToWords } from \"../../../utils/formart\";\nimport { red } from \"@mui/material/colors\";\nimport { baseURL_,base_ } from \"../../../utils/env\";\n//breadcrumb code\nconst StyledBreadcrumb = styled(Chip)(({ theme }) => {\n  const backgroundColor =\n    theme.palette.mode === \"light\"\n      ? theme.palette.grey[100]\n      : theme.palette.grey[800];\n  return {\n    backgroundColor,\n    height: theme.spacing(3),\n    color: theme.palette.text.primary,\n    fontWeight: theme.typography.fontWeightRegular,\n    \"&:hover, &:focus\": {\n      backgroundColor: emphasize(backgroundColor, 0.06),\n    },\n    \"&:active\": {\n      boxShadow: theme.shadows[1],\n      backgroundColor: emphasize(backgroundColor, 0.12),\n    },\n  };\n});\n\nconst ProductAdd = ({ history }) => {\n  const navigate = useNavigate();\n\n  const reactQuillRef = useRef();\n\n  const [fileExcel, setFileExcel] = useState(null);\n\n  const [name, setName] = useState(\"\");\n\n  const [brand, setBrand] = useState(\"\");\n  const [quantity, setQuantity] = useState(0);\n  const [discount, setDiscount] = useState(0);\n  const [price, setPrice] = useState(0);\n  const [depscription, setDepscription] = useState(\"\");\n  \n  const [dataCategory, setdataCategory] = useState();\n  const [selectedCategoryOption, setSelectedCategoryOption] = useState(\"\");\n\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [inputColor, setInputColor] = useState(\"\");\n  const [inputSize, setInputSize] = useState(\"\");\n\n  const [sizeValue, setSizeValue] = useState([]);\n  const [colorValue, setColorValue] = useState([]);\n  const [formFields, setFormFields] = useState({\n    color: [],\n    size: [],\n    url: [],\n    pathDep: [],\n  });\n\n  const [dataUser, setdataUser] = useState();\n\n  const turndownService = new TurndownService();\n  const data = localStorage.getItem(\"userData\");\n  const id = localStorage.getItem(\"_id\");\n\n  useEffect(() => {\n    if (data) {\n      setdataUser(JSON.parse(data));\n    }\n  }, [id]);\n\n  const getDataCate = async () => {\n    try {\n      const responsive = await api.get(`${baseURL_}/categori/`);\n      if (responsive.data.status === true) {\n        setdataCategory(responsive.data.data);\n      }\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n\n  useEffect(() => {\n    getDataCate();\n  }, []);\n\n  const handleKeyColor = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      if (inputColor.trim() !== \"\") {\n        const newColors = inputColor\n          .split(\",\")\n          .map((color) => color.trim())\n          .filter((color) => color !== \"\");\n\n        const uniqueColors = newColors.filter((i) => !colorValue.includes(i));\n\n        setColorValue((prevColors) => [...prevColors, ...uniqueColors]);\n        setInputColor(\"\");\n        setFormFields((prevFields) => ({\n          ...prevFields,\n          color: [...new Set([...prevFields.color, ...uniqueColors])],\n        }));\n      }\n    }\n  };\n\n  const removeColor = (index) => {\n    setColorValue((prevColors) => prevColors.filter((_, i) => i !== index));\n    setFormFields((prevFields) => ({\n      ...prevFields,\n      color: prevFields.color.filter((_, i) => i !== index),\n    }));\n  };\n\n  // size\n  const handleKeySize = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      if (inputSize.trim() !== \"\") {\n        const newSize = inputSize\n          .split(\",\")\n          .map((size) => size.trim())\n          .filter((size) => size !== \"\");\n\n        const uniqueSize = newSize.filter((i) => !sizeValue.includes(i));\n\n        setSizeValue((prev) => [...prev, ...uniqueSize]);\n        setFormFields((prevFields) => ({\n          ...prevFields,\n          size: [...new Set([...prevFields.size, ...uniqueSize])],\n        }));\n        setInputSize(\"\");\n      }\n    }\n  };\n\n  // Hàm để xóa màu khỏi mảng colors\n  const removeSize = (index) => {\n    setSizeValue((prev) => prev.filter((_, i) => i !== index));\n    setFormFields((prevFields) => ({\n      ...prevFields,\n      size: prevFields.size.filter((_, i) => i !== index),\n    }));\n  };\n  const onChangeImages = (e) => {\n    const files = Array.from(e.target.files);\n    const newImagesWithRenamed = files.map((file) => {\n      const renamedFile = new File([file], normalizeFileName(file.name), {\n        type: file.type,\n      });\n      return renamedFile;\n    });\n    // console.log('New image name:',newImagesWithRenamed);\n    const newImages = newImagesWithRenamed.filter(\n      (file) => !images.some((image) => image.name === file.name)\n    );\n    setImages((prevImages) => [...prevImages, ...newImages]);\n    setFormFields((prevFields) => ({\n      ...prevFields,\n      url: [...prevFields.url, ...newImagesWithRenamed],\n    }));\n  };\n\n  const handleRemoveImage = (index) => {\n    setImages((prevImages) => prevImages.filter((_, i) => i !== index));\n    setFormFields((prevFields) => ({\n      ...prevFields,\n      url: formFields.url.filter((_, i) => i !== index),\n    }));\n  };\n\n  const upfile = async () => {\n    const formData = new FormData();\n    // Thêm các file từ formFields.url vào FormData\n    formFields.url.forEach((image) => {\n      formData.append(\"files\", image);\n    });\n    try {\n      const response = await api.post(`${baseURL_}/uploads`, formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n      return response.status;\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n    }\n  };\n  const updateImg = async (idProduct) => {\n    try {\n      const response = await api.post(`${baseURL_}/imgshose`, {\n        productId: idProduct,\n        images: formFields.url.slice(1).map((image) => image.name),\n      });\n      return response.status;\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n    }\n  };\n  // console.log(\"Upload\",formFields)\n  // console.log(\"formFields.url\",formFields.url.slice(1).map((image) => image))\n\n  const submitForm = async (e) => {\n    e.preventDefault();\n    if (name === \"\") {\n      return window.alert(\"Please input name enter\");\n    }\n    if (brand === \"\") {\n      return window.alert(\"Please input brand enter\");\n    }\n    if (quantity === 0) {\n      return window.alert(\"Please input quantity enter\");\n    }\n    // if (discount === 0) {\n    //   return window.alert(\"Please input discount enter\");\n    // }\n    // if (description === \"\") {\n    //   return window.alert(\"Please input description enter\");\n    // }\n    if (colorValue.length === 0) {\n      return window.alert(\"Please input color enter\");\n    }\n    if (images.length === 0) {\n      return window.alert(\"Please input images enter\");\n    }\n    if (sizeValue.length === 0) {\n      return window.alert(\"Please input size enter\");\n    }\n    if (selectedCategoryOption === \"\") {\n      return window.alert(\"Please input dataCategory enter\");\n    }\n\n    try {\n      setIsLoading(true);\n      const file = await upfile();\n\n      const jsonData = {\n        userId: dataUser.email,\n        parentCategory: selectedCategoryOption,\n        name: name,\n        brand: brand,\n        price: price,\n        quantity: parseInt(quantity),\n        discount: parseFloat(discount !== 0 ? discount : 0),\n        color: formFields.color.filter((color) => color.trim() !== \"\"),\n        description: depscription,\n        size: formFields.size.filter((color) => color.trim() !== \"\"),\n        imageUrl: normalizeFileName(formFields.url[0].name),\n      };\n      // turndownService.turndown(depscription)\n      // console.log(\"jsonData\", jsonData);\n      console.log(\"depscription\", depscription);\n      const response = await api.post(`${baseURL_}/shose`, jsonData, {\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n      if (response.data.status === true) {\n        // console.log(\"response\", response.data.data._id);\n        const img = await updateImg(response.data.data._id);\n        // console.log(\"img\", img);\n\n        if (img === 200) {\n          window.alert(\"Đã thêm sản phẩm thành công\");\n          navigate(\"/products\");\n        } else {\n          window.alert(\"Error\");\n        }\n      }\n      // console.log(response.data);\n    } catch (error) {\n      console.error(\"Cấu hình lỗi:\", error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n\n  const submitFile = async (e) => {\n    e.preventDefault();\n    if (fileExcel) {\n      const formData = new FormData();\n      formData.append(\"excelFile\", fileExcel);\n      api\n        .post(`${baseURL_}/shose/upload/${id}`, formData)\n        .then((response) => {\n          if (response.status === 200) {\n            alert(\"Bạn đã cập nhật thành công!\");\n          } else {\n            alert(`Đã xảy ra lỗi: ${response.data}`);\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n          alert(\"Đã xảy ra lỗi: \" + error.message);\n        });\n    } else {\n      console.log(\"No file selected\");\n      alert(`Hãy chọn file`);\n    }\n  };\n  const handleFileUpload = async (file, endpoint) => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    const response = await fetch(`${baseURL_}${endpoint}`, {\n      method: \"POST\",\n      body: formData,\n    });\n    if (response.ok) {\n      const data = await response.json();\n      return data.url;\n    } else {\n      throw new Error(\"Failed to upload file\");\n    }\n  };\n\n  const imageHandler = useCallback(() => {\n    const input = document.createElement(\"input\");\n    input.setAttribute(\"type\", \"file\");\n    input.setAttribute(\"accept\", \"image/*\");\n    input.setAttribute(\"multiple\", true);\n    input.click();\n\n    input.onchange = async () => {\n      if (input.files !== null && input.files.length > 0) {\n        const file = input.files[0];\n        const renamedFile = new File([file], normalizeFileName(file.name), {\n          type: file.type,\n        });\n        // Đọc ảnh và hiển thị ngay lập tức\n        const reader = new FileReader();\n        reader.onload = () => {\n          const dataURL = reader.result;\n          const quill = reactQuillRef.current.getEditor();\n          const cursorPosition = quill.getSelection().index || 0;\n          quill.insertEmbed(cursorPosition, \"image\", dataURL, \"user\");\n          // Tải ảnh lên server và thay thế base64 bằng URL\n          handleFileUpload(renamedFile, \"/upload-image\")\n            .then((Purl) => {\n              console.log(\"Purl\", Purl);\n              const editor = quill.root;\n              const images = editor.getElementsByTagName(\"img\");\n              for (let i = 0; i < images.length; i++) {\n                if (images[i].src === dataURL) {\n                  images[i].src = baseURL_+'' + Purl;\n                  break;\n                }\n              }\n            })\n            .catch((error) => {\n              console.error(\"Error uploading image:\", error);\n              // Tìm và xóa ảnh base64 đã chèn\n              const editor = quill.root;\n              const images = editor.getElementsByTagName(\"img\");\n              for (let i = 0; i < images.length; i++) {\n                if (images[i].src === dataURL) {\n                  images[i].parentNode.removeChild(images[i]);\n                  break;\n                }\n              }\n              alert(\"Lỗi update ảnh.\");\n            });\n        };\n        reader.readAsDataURL(renamedFile);\n      }\n    };\n  }, [reactQuillRef]);\n\n  const videoHandler = useCallback(() => {\n    const url = prompt(\n      \"Please enter the video URL (YouTube, TikTok) or choose a file to upload:\"\n    );\n    if (url) {\n      let embedUrl = \"\";\n      if (url.includes(\"youtube.com\") || url.includes(\"youtu.be\")) {\n        const videoId =\n          url.split(\"v=\")[1]?.split(\"&\")[0] || url.split(\"/\").pop();\n        embedUrl = `https://www.youtube.com/embed/${videoId}`;\n      } else if (url.includes(\"tiktok.com\")) {\n        const videoId = url.split(\"/video/\")[1]?.split(\"?\")[0];\n        embedUrl = `https://www.tiktok.com/embed/v2/${videoId}`;\n      } else {\n        alert(\n          \"Invalid URL format. Please enter a valid YouTube or TikTok URL.\"\n        );\n        return;\n      }\n      const range = reactQuillRef.current.getEditor().getSelection();\n      reactQuillRef.current\n        .getEditor()\n        .insertEmbed(range.index, \"video\", embedUrl);\n    } else {\n      const input = document.createElement(\"input\");\n      input.setAttribute(\"type\", \"file\");\n      input.setAttribute(\"accept\", \"video/*\");\n      input.click();\n\n      input.onchange = async () => {\n        const file = input.files[0];\n        const renamedFile = new File([file], normalizeFileName(file.name), {\n          type: file.type,\n        });\n        // console.log(\"Uploading video\", file);\n        try {\n          // Handle the video file upload\n          const PathUrl = await handleFileUpload(renamedFile, \"/upload-video\");\n          const range = reactQuillRef.current.getEditor().getSelection();\n          reactQuillRef.current\n            .getEditor()\n            .insertEmbed(range.index, \"video\", `${base_}` + PathUrl);\n        } catch (error) {\n          alert(\"Error uploading video.\");\n          console.error(\"Error uploading video:\", error);\n        }\n      };\n    }\n  }, [reactQuillRef]);\n\n  const decodeHTML = (html) => {\n    var txt = document.createElement(\"textarea\");\n    txt.innerHTML = html;\n    return txt.value;\n  };\n\n  const handleEditorChange = (content, delta, source, editor) => {\n    console.log('handleEditorChange', content);\n    setDepscription(content);\n  };\n\n\n  return (\n    <>\n      {isLoading ? (\n        <Loading />\n      ) : (\n        <div className=\"right-content w-100\">\n          <div className=\"card shadow border-0 w-100 flex-row p-4\">\n            <h5 className=\"mb-0\">Product Upload</h5>\n            <Breadcrumbs\n              aria-label=\"breadcrumb\"\n              className=\"ml-auto breadcrumbs_\"\n            >\n              <StyledBreadcrumb\n                component=\"a\"\n                href=\"#\"\n                label=\"Dashboard\"\n                icon={<HomeIcon fontSize=\"small\" />}\n              />\n\n              <StyledBreadcrumb\n                component=\"a\"\n                label=\"Products\"\n                href=\"#\"\n                deleteIcon={<ExpandMoreIcon />}\n              />\n              <StyledBreadcrumb\n                label=\"Product Upload\"\n                deleteIcon={<ExpandMoreIcon />}\n              />\n            </Breadcrumbs>\n          </div>\n\n          <div className=\"card shadow border-0 w-100 p-4\">\n            <h5 className=\"mb-0\">Upload File Product </h5>\n            <br />\n            <form className=\"form\" onSubmit={submitFile}>\n              <h5 style={{ color: \"red\" }} className=\"mb-4\">\n                LƯU Ý: khi sử dụng thêm bằng file excel có dạng .xlsx\n              </h5>\n              <div style={{ marginLeft: 20, marginRight: 20 }}>\n                <ul>\n                  <li>\n                    {\" \"}\n                    + Gồm các\n                    cột:ID,NAME,BRAND,PRICE,ARRAY_COLOR,PARENTCATEGORY,ARRAY_SIZE,QUANTITY,DEPSCRIPTION,IMAGEURL,ARRAY_IMG\n                  </li>\n                  <li> + </li>\n                </ul>\n              </div>\n\n              <div className=\"form-group\">\n                <h6>Upload file .xlsx</h6>\n                <input\n                  type=\"file\"\n                  accept=\".xlsx\"\n                  onChange={(e) => setFileExcel(e.target.files[0])}\n                  className=\"form-control\"\n                />\n              </div>\n\n              <Button type=\"submit\" className=\"btn-blue btn-lg btn-big\">\n                <FaCloudUploadAlt /> &nbsp; UPDATE TO FILE\n              </Button>\n            </form>\n          </div>\n          <div className=\"row22\">\n            <form className=\"form\" onSubmit={submitForm}>\n              <div className=\"row\">\n                <div className=\"col-sm\">\n                  <div className=\"card p-4\">\n                    <h5 className=\"mb-4\">Product Information</h5>\n                    <div className=\"form-group\">\n                      <h6>Name Product</h6>\n                      <input\n                        type=\"text\"\n                        name=\"nameProduct\"\n                        value={name}\n                        onChange={(e) => setName(e.target.value)}\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <h6> Category Option</h6>\n                      <select\n                        name=\"options\"\n                        value={selectedCategoryOption}\n                        onChange={(e) =>\n                          setSelectedCategoryOption(e.target.value)\n                        }\n                        className=\"form-control\"\n                      >\n                        <option value=\"\">--Please choose an option--</option>\n                        {dataCategory !== undefined &&\n                          dataCategory.map((category) => (\n                            <option value={`${category._id}`}>\n                              {category.name}\n                            </option>\n                          ))}\n                      </select>\n                    </div>\n\n                    <div className=\"row\">\n                      <div className=\"col-sm\">\n                        <div className=\"form-group\">\n                          <h6>Discount</h6>\n                          <input\n                            type=\"number\"\n                            name=\"discount\"\n                            value={discount}\n                            onChange={(e) => setDiscount(e.target.value)}\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"col-sm\">\n                        <div className=\"form-group\">\n                          <h6>Brand</h6>\n                          <input\n                            type=\"text\"\n                            name=\"brand\"\n                            value={brand}\n                            onChange={(e) => setBrand(e.target.value)}\n                          />\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"row\">\n                      <div className=\"col-sm\">\n                        <div className=\"form-group\">\n                          <h6>Quantity</h6>\n                          <input\n                            type=\"number\"\n                            name=\"quantity\"\n                            value={quantity}\n                            onChange={(e) => setQuantity(e.target.value)}\n                          />\n                          {quantity && !isNaN(parseInt(quantity)) && (\n                            <p style={{ color: \"red\" }}>\n                              {convertToWords(parseInt(quantity))}\n                            </p>\n                          )}\n                        </div>\n                      </div>\n\n                      <div className=\"col\">\n                        <div className=\"form-group\">\n                          <h6>Price </h6>\n                          <input\n                            type=\"text\"\n                            value={price}\n                            name=\"price\"\n                            onChange={(e) => setPrice(e.target.value)}\n                          />\n                          {price && !isNaN(parseInt(price)) && (\n                            <p style={{ color: \"red\" }}>\n                              {convertToWords(parseInt(price))}\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n\n                    <div>\n                      <h6>Color</h6>\n                      <div\n                        style={{\n                          display: \"flex\",\n                          flexWrap: \"wrap\",\n                          border: \"1px solid #ccc\",\n                          padding: \"5px\",\n                          borderRadius: \"4px\",\n                        }}\n                      >\n                        {colorValue.map((color, index) => (\n                          <span\n                            key={index}\n                            style={{\n                              display: \"flex\",\n                              alignItems: \"center\",\n                              margin: \"2px\",\n                              padding: \"2px 5px\",\n                              background: `${color}`,\n                              borderRadius: \"3px\",\n                              border: \"1px solid #ccc\",\n                            }}\n                          >\n                            {color}\n                            <Icon\n                              component={CloseIcon}\n                              sx={{ marginLeft: 3, height: 20 }}\n                              onClick={() => removeColor(index)}\n                            />\n                          </span>\n                        ))}\n                        <input\n                          name=\"color\"\n                          type=\"text\"\n                          value={inputColor}\n                          onChange={(e) => setInputColor(e.target.value)}\n                          onKeyPress={handleKeyColor}\n                          placeholder=\"Please enter data, separated by commas, then press enter: green,red,blue,...\"\n                          style={{\n                            border: \"none\",\n                            outline: \"none\",\n                            flexGrow: 1,\n                            minWidth: \"100px\",\n                          }}\n                        />\n                      </div>\n                      <br />\n                    </div>\n                    <h6>Size</h6>\n                    <div\n                      style={{\n                        display: \"flex\",\n                        flexWrap: \"wrap\",\n                        border: \"1px solid #ccc\",\n                        padding: \"5px\",\n                        borderRadius: \"4px\",\n                      }}\n                    >\n                      {sizeValue.map((size, index) => (\n                        <span\n                          key={index}\n                          style={{\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            margin: \"2px\",\n                            padding: \"2px 5px\",\n                            background: `#f0f0f0`,\n                            borderRadius: \"3px\",\n                            border: \"1px solid #ccc\",\n                          }}\n                        >\n                          {size}\n                          <Icon\n                            component={CloseIcon}\n                            sx={{ marginLeft: 3, height: 20 }}\n                            onClick={() => removeSize(index)}\n                          />\n                        </span>\n                      ))}\n                      <input\n                        name=\"size\"\n                        type=\"text\"\n                        value={inputSize}\n                        onChange={(e) => setInputSize(e.target.value)}\n                        onKeyPress={handleKeySize}\n                        placeholder=\"Please enter data, separated by commas, then press enter: XL,XX,XS,S,L,SM\"\n                        style={{\n                          border: \"none\",\n                          outline: \"none\",\n                          flexGrow: 1,\n                          minWidth: \"100px\",\n                        }}\n                      />\n                    </div>\n                    <br />\n\n                    <div className=\"form-group\">\n                      <h6>Upload Image</h6>\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={onChangeImages}\n                        className=\"form-control\"\n                        multiple\n                      />\n                      {images !== undefined && (\n                        <div\n                          className=\"image-list\"\n                          style={{ display: \"flex\", flexWrap: \"wrap\" }}\n                        >\n                          {images.map((image, index) => (\n                            <div\n                              key={index}\n                              className=\"image-item\"\n                              style={{ position: \"relative\", margin: 5 }}\n                            >\n                              <img\n                                className=\"img-preview\"\n                                style={{ height: 100, width: 100 }}\n                                src={URL.createObjectURL(image)}\n                                alt={`Image ${index}`}\n                              />\n                              <Icon\n                                component={CloseIcon}\n                                sx={{\n                                  position: \"absolute\",\n                                  top: 5,\n                                  right: 5,\n                                  cursor: \"pointer\",\n                                }}\n                                onClick={() => handleRemoveImage(index)}\n                              />\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n\n                    <div className=\"form-group\" id=\"editor-container\">\n                      <h6>Depscription</h6>\n                      <div style={{ height: \"auto\", marginBottom: \"50px\" }}>\n                        <ReactQuill\n                          ref={reactQuillRef}\n                          theme=\"snow\"\n                          style={{ height: \"100%\", width: \"100%\" }}\n                          value={depscription}\n                          placeholder=\"Chú ý : Khi thêm youtube thì dùng iframe src=https://www.youtube.com/embed/+ mã trên youtube \"\n                          onChange={handleEditorChange}\n                          modules={{\n                            toolbar: {\n                              container: [\n                                [\n                                  { header: \"1\" },\n                                  { header: \"2\" },\n                                  { font: [] },\n                                ],\n                                [{ size: [] }],\n                                [\n                                  \"bold\",\n                                  \"italic\",\n                                  \"underline\",\n                                  \"strike\",\n                                  \"blockquote\",\n                                ],\n                                [\n                                  { list: \"ordered\" },\n                                  { list: \"bullet\" },\n                                  { indent: \"-1\" },\n                                  { indent: \"+1\" },\n                                ],\n                                [\"link\", \"image\", \"video\"],\n                                [\"code-block\"],\n                                [\"clean\"],\n                              ],\n                              handlers: {\n                                image: imageHandler,\n                                video: videoHandler,\n                              },\n                            },\n                            clipboard: {\n                              matchVisual: false,\n                            },\n                          }}\n                          formats={[\n                            \"header\",\n                            \"font\",\n                            \"size\",\n                            \"bold\",\n                            \"italic\",\n                            \"underline\",\n                            \"strike\",\n                            \"blockquote\",\n                            \"list\",\n                            \"bullet\",\n                            \"indent\",\n                            \"link\",\n                            \"image\",\n                            \"video\",\n                            \"code-block\",\n                          ]}\n                        />\n                      </div>\n                    </div>\n\n                    <br />\n\n                    <Button type=\"submit\" className=\"btn-blue btn-lg btn-big\">\n                      <FaCloudUploadAlt /> &nbsp; ADD TO VIEW\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </form>\n            <br />\n            <div className=\"form-preview-container\">\n              <form className=\"form-preview\" >\n                <h3>HTML Preview depscription:</h3>\n                <div\n                  dangerouslySetInnerHTML={{ __html: decodeHTML(depscription) }}\n                />\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProductAdd;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}