{"ast":null,"code":"var _jsxFileName = \"/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/App.js\",\n  _s = $RefreshSig$();\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n// import \"./pages/Admin.css\"\nimport { createContext, useEffect, useState } from \"react\";\nimport Login from \"./components/Auth/Login\";\nimport SignUp from \"./components/Auth/SignUp\";\nimport \"react-toastify/dist/ReactToastify.css\";\n// import api, { checkTokenExpiration, refreshAccessToken } from \"./api/api\";\nimport { BrowserRouter, Route, Routes, Switch, Navigate } from \"react-router-dom\";\nimport AdminPage from \"./pages/AdminPage\";\nimport UserPage from \"./pages/UserPage\";\nimport NotFound from \"./pages/NotFound\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminContext = /*#__PURE__*/createContext();\nfunction App() {\n  _s();\n  const [isToggleSidebar, setIsToggleSidebar] = useState(false);\n  const [isLogin, setIsLogin] = useState(false);\n  const [isHideSidebarAndHeader, setisHideSidebarAndHeader] = useState(false);\n  const [themeMode, setThemeMode] = useState(true);\n  const [role, setRole] = useState(\"\");\n  const [shop, setShop] = useState(false);\n  const [userData, setUserData] = useState();\n  const [accessToken, setAccessToken] = useState(localStorage.getItem(\"accessToken\"));\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\n  useEffect(() => {\n    const theme_Mode = localStorage.getItem(\"themeMode\");\n    if (themeMode === true) {\n      document.body.classList.remove(\"dark\");\n      document.body.classList.add(\"light\");\n      localStorage.setItem(\"themeMode\", \"light\");\n    } else {\n      document.body.classList.remove(\"light\");\n      document.body.classList.add(\"dark\");\n      localStorage.setItem(\"themeMode\", \"dark\");\n    }\n  }, [themeMode]);\n  useEffect(() => {\n    const handleOnline = () => setIsOnline(true);\n    const handleOffline = () => setIsOnline(false);\n    window.addEventListener(\"online\", handleOnline);\n    window.addEventListener(\"offline\", handleOffline);\n    return () => {\n      window.removeEventListener(\"online\", handleOnline);\n      window.removeEventListener(\"offline\", handleOffline);\n    };\n  }, []);\n\n  // useEffect(() => {\n  //   const U_Data = localStorage.getItem(\"userData\");\n  //   const Token = localStorage.getItem(\"accessToken\");\n\n  //   if (U_Data) {\n  //     setUserData(U_Data);\n  //     setRole(JSON.parse(U_Data).role);\n  //   }\n\n  //   const checkAndRefreshToken = async () => {\n  //     if (Token) {\n  //       if (checkTokenExpiration(Token)) {\n  //         const newAccessToken = await refreshAccessToken();\n  //         if (newAccessToken) {\n  //           setAccessToken(newAccessToken);\n  //           setIsLogin(true);\n  //         } else {\n  //           setIsLogin(false);\n  //         }\n  //       } else {\n  //         setAccessToken(Token);\n  //         setIsLogin(true);\n  //       }\n  //     }\n  //   };\n\n  //   checkAndRefreshToken();\n  // }, [isLogin]);\n\n  useEffect(() => {\n    const U_Data = localStorage.getItem('userData');\n    const Token = localStorage.getItem('accessToken');\n    if (U_Data) {\n      setUserData(U_Data);\n      setRole(JSON.parse(U_Data).role);\n    }\n    if (Token) {\n      setAccessToken(Token);\n    }\n  }, [isLogin]);\n\n  // console.log('acctoken',accessToken)\n\n  const values = {\n    isToggleSidebar,\n    setIsToggleSidebar,\n    isLogin,\n    setIsLogin,\n    isHideSidebarAndHeader,\n    setisHideSidebarAndHeader,\n    themeMode,\n    setThemeMode,\n    role,\n    shop,\n    setShop\n  };\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(AdminContext.Provider, {\n      value: values,\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: `/login`,\n          element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: `/signUp`,\n          element: /*#__PURE__*/_jsxDEV(SignUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/admin/*\",\n          element: /*#__PURE__*/_jsxDEV(AdminPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/user/*\",\n          element: /*#__PURE__*/_jsxDEV(UserPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/user/home\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"OPn4x2fjdUdZv7nek9NzrxTubt8=\");\n_c = App;\nexport default App;\nexport { AdminContext };\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["createContext","useEffect","useState","Login","SignUp","BrowserRouter","Route","Routes","Switch","Navigate","AdminPage","UserPage","NotFound","jsxDEV","_jsxDEV","AdminContext","App","_s","isToggleSidebar","setIsToggleSidebar","isLogin","setIsLogin","isHideSidebarAndHeader","setisHideSidebarAndHeader","themeMode","setThemeMode","role","setRole","shop","setShop","userData","setUserData","accessToken","setAccessToken","localStorage","getItem","isOnline","setIsOnline","navigator","onLine","theme_Mode","document","body","classList","remove","add","setItem","handleOnline","handleOffline","window","addEventListener","removeEventListener","U_Data","Token","JSON","parse","values","children","Provider","value","path","element","fileName","_jsxFileName","lineNumber","columnNumber","to","replace","_c","$RefreshReg$"],"sources":["/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/App.js"],"sourcesContent":["import \"bootstrap/dist/css/bootstrap.min.css\";\n// import \"./pages/Admin.css\"\nimport { createContext, useEffect, useState } from \"react\";\nimport Login from \"./components/Auth/Login\";\nimport SignUp from \"./components/Auth/SignUp\";\nimport \"react-toastify/dist/ReactToastify.css\";\n// import api, { checkTokenExpiration, refreshAccessToken } from \"./api/api\";\nimport { BrowserRouter, Route,Routes, Switch,Navigate } from \"react-router-dom\";\nimport AdminPage from \"./pages/AdminPage\";\nimport UserPage from \"./pages/UserPage\";\nimport NotFound from \"./pages/NotFound\";\n\nconst AdminContext = createContext();\n\nfunction App() {\n  const [isToggleSidebar, setIsToggleSidebar] = useState(false);\n  const [isLogin, setIsLogin] = useState(false);\n  const [isHideSidebarAndHeader, setisHideSidebarAndHeader] = useState(false);\n  const [themeMode, setThemeMode] = useState(true);\n  const [role, setRole] = useState(\"\");\n  const [shop, setShop] = useState(false);\n  const [userData, setUserData] = useState();\n  const [accessToken, setAccessToken] = useState(\n    localStorage.getItem(\"accessToken\")\n  );\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\n  useEffect(() => {\n    \n    const theme_Mode = localStorage.getItem(\"themeMode\");\n\n    if (themeMode === true) {\n      document.body.classList.remove(\"dark\");\n      document.body.classList.add(\"light\");\n      localStorage.setItem(\"themeMode\", \"light\");\n    } else {\n      document.body.classList.remove(\"light\");\n      document.body.classList.add(\"dark\");\n      localStorage.setItem(\"themeMode\", \"dark\");\n    }\n  }, [themeMode]);\n  useEffect(() => {\n    const handleOnline = () => setIsOnline(true);\n    const handleOffline = () => setIsOnline(false);\n\n    window.addEventListener(\"online\", handleOnline);\n    window.addEventListener(\"offline\", handleOffline);\n\n    return () => {\n      window.removeEventListener(\"online\", handleOnline);\n      window.removeEventListener(\"offline\", handleOffline);\n    };\n  }, []);\n\n  // useEffect(() => {\n  //   const U_Data = localStorage.getItem(\"userData\");\n  //   const Token = localStorage.getItem(\"accessToken\");\n\n  //   if (U_Data) {\n  //     setUserData(U_Data);\n  //     setRole(JSON.parse(U_Data).role);\n  //   }\n\n  //   const checkAndRefreshToken = async () => {\n  //     if (Token) {\n  //       if (checkTokenExpiration(Token)) {\n  //         const newAccessToken = await refreshAccessToken();\n  //         if (newAccessToken) {\n  //           setAccessToken(newAccessToken);\n  //           setIsLogin(true);\n  //         } else {\n  //           setIsLogin(false);\n  //         }\n  //       } else {\n  //         setAccessToken(Token);\n  //         setIsLogin(true);\n  //       }\n  //     }\n  //   };\n\n  //   checkAndRefreshToken();\n  // }, [isLogin]);\n\n  useEffect(()=>{\n    const U_Data = localStorage.getItem('userData');\n    const Token = localStorage.getItem('accessToken');\n   if(U_Data) { setUserData(U_Data);setRole(JSON.parse(U_Data).role)}\n   if(Token){ setAccessToken(Token)}\n\n  },[isLogin]);\n\n  // console.log('acctoken',accessToken)\n\n  const values = {\n    isToggleSidebar,\n    setIsToggleSidebar,\n    isLogin,\n    setIsLogin,\n    isHideSidebarAndHeader,\n    setisHideSidebarAndHeader,\n    themeMode,\n    setThemeMode,\n    role,\n    shop,\n    setShop,\n  };\n  \n\n  return (\n    <BrowserRouter>\n     <AdminContext.Provider value={values}>\n      <Routes>\n        <Route path={`/login`} element={ <Login /> } />\n        <Route path={`/signUp`} element={ <SignUp /> } />\n        {/* <Route path=\"/dashboard\" element={isLogin && shop && accessToken && isOnline ? <AdminPage /> : <Navigate to=\"/login\" />} /> */}\n        <Route path=\"/admin/*\" element={ <AdminPage /> } />\n        <Route path=\"/user/*\" element={<UserPage />} />\n        <Route path=\"/\" element={<Navigate to=\"/user/home\" replace />} />\n        <Route path=\"*\" element={<NotFound />} />\n      </Routes>\n      </AdminContext.Provider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\nexport { AdminContext };\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}