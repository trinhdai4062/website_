{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./select.css\";import KeyboardArrowDownIcon from\"@mui/icons-material/KeyboardArrowDown\";import{ClickAwayListener}from\"@mui/base/ClickAwayListener\";import{FamilyRestroomTwoTone}from\"@mui/icons-material\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Select=_ref=>{let{data,placeholder,icon,onSelect}=_ref;const[isOpenSelect,setisOpenSelect]=useState(false);const[selectedIndex,setselectedIndex]=useState(0);const[selectedItem,setselectedItem]=useState(placeholder);const[listData,setListData]=useState();const[listData2,setListData2]=useState();useEffect(()=>{setListData(data);setListData2(data);},[data]);const openSelect=()=>{setisOpenSelect(!isOpenSelect);};const closeSelect=(index,id,name)=>{setselectedIndex(index);setisOpenSelect(false);setselectedItem(name);onSelect(id);};const filterList=e=>{const keyword=e.target.value.toLowerCase();const list=listData2.filter(item=>{return item.name.toLowerCase().includes(keyword);});const list2=list.filter((item,index)=>list.indexOf(item)===index);setListData(list2);};return/*#__PURE__*/_jsx(ClickAwayListener,{onClickAway:()=>setisOpenSelect(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"selectDropWrapper cursor position-relative\",children:[icon,/*#__PURE__*/_jsxs(\"span\",{className:\"openSelect\",onClick:openSelect,children:[selectedItem.length>14?selectedItem.substr(0,14)+\"...\":selectedItem,/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{className:\"arrow\"})]}),isOpenSelect===true&&/*#__PURE__*/_jsxs(\"div\",{className:\"selectDrop\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"searchField\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search here...\",onChange:filterList})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"searchResults\",children:[/*#__PURE__*/_jsx(\"li\",{onClick:()=>closeSelect(0,placeholder),className:\"\".concat(selectedIndex===0?\"active\":\"\"),children:placeholder},0),listData.map((item,index)=>{return/*#__PURE__*/_jsx(\"li\",{onClick:()=>closeSelect(index+1,item.id,item.name),className:\"\".concat(selectedIndex===index+1?'active':''),children:item.name},index+1);})]})]})]})});};export default Select;","map":{"version":3,"names":["React","useEffect","useState","KeyboardArrowDownIcon","ClickAwayListener","FamilyRestroomTwoTone","jsx","_jsx","jsxs","_jsxs","Select","_ref","data","placeholder","icon","onSelect","isOpenSelect","setisOpenSelect","selectedIndex","setselectedIndex","selectedItem","setselectedItem","listData","setListData","listData2","setListData2","openSelect","closeSelect","index","id","name","filterList","e","keyword","target","value","toLowerCase","list","filter","item","includes","list2","indexOf","onClickAway","children","className","onClick","length","substr","type","onChange","concat","map"],"sources":["/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/components/common/selectDrop/select.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./select.css\";\r\nimport KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\r\nimport { ClickAwayListener } from \"@mui/base/ClickAwayListener\";\r\nimport { FamilyRestroomTwoTone } from \"@mui/icons-material\";\r\n\r\nconst Select = ({ data, placeholder, icon,onSelect }) => {\r\n  const [isOpenSelect, setisOpenSelect] = useState(false);\r\n  const [selectedIndex, setselectedIndex] = useState(0);\r\n  const [selectedItem, setselectedItem] = useState(placeholder);\r\n\r\n  const [listData, setListData] = useState();\r\n  const [listData2, setListData2] = useState();\r\n\r\n\r\n  useEffect(() =>{\r\n    setListData(data)\r\n    setListData2(data)\r\n  },[data])\r\n\r\n  const openSelect = () => {\r\n    setisOpenSelect(!isOpenSelect);\r\n  };\r\n\r\n  const closeSelect = (index,id, name) => {\r\n    setselectedIndex(index);\r\n    setisOpenSelect(false);\r\n    setselectedItem(name);\r\n    onSelect(id);\r\n  };\r\n\r\n  const filterList = (e) => {\r\n    const keyword = e.target.value.toLowerCase();\r\n\r\n    const list = listData2.filter((item) => {\r\n      return item.name.toLowerCase().includes(keyword);\r\n    });\r\n\r\n    const list2 = list.filter((item, index) => list.indexOf(item) === index);\r\n\r\n    setListData(list2);\r\n  };\r\n\r\n  return (\r\n    <ClickAwayListener onClickAway={() => setisOpenSelect(false)}>\r\n      <div className=\"selectDropWrapper cursor position-relative\">\r\n        {icon}\r\n        <span className=\"openSelect\" onClick={openSelect}>\r\n          {selectedItem.length > 14\r\n            ? selectedItem.substr(0, 14) + \"...\"\r\n            : selectedItem}\r\n          <KeyboardArrowDownIcon className=\"arrow\" />\r\n        </span>\r\n        {isOpenSelect === true && (\r\n          <div className=\"selectDrop\">\r\n            <div className=\"searchField\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search here...\"\r\n                onChange={filterList}\r\n              />\r\n            </div>\r\n            <ul className=\"searchResults\">\r\n              <li\r\n                key={0}\r\n                onClick={() => closeSelect(0, placeholder)}\r\n                className={`${selectedIndex === 0 ? \"active\" : \"\"}`}\r\n              >\r\n                {placeholder}\r\n              </li>\r\n              {listData.map((item, index) => {\r\n                return (\r\n                  <li key={index+1} onClick={() => closeSelect(index+1, item.id,item.name)} className={`${selectedIndex === index+1 ? 'active' : ''}`}>{item.name}</li>\r\n                );\r\n              })}\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </ClickAwayListener>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}