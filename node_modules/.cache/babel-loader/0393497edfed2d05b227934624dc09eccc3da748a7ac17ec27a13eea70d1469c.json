{"ast":null,"code":"var _jsxFileName = \"/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/components/admin/Products/ProductAdd.js\",\n  _s = $RefreshSig$();\nimport Breadcrumbs from \"@mui/material/Breadcrumbs\";\nimport HomeIcon from \"@mui/icons-material/Home\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { emphasize, styled } from \"@mui/material/styles\";\nimport Chip from \"@mui/material/Chip\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport React, { useEffect, useState, useRef, useCallback } from \"react\";\nimport Rating from \"@mui/material/Rating\";\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\nimport { Icon } from \"@mui/material\";\nimport Button from \"@mui/material/Button\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport api from \"../../../api/api\";\nimport { useParams } from \"react-router-dom\";\n// import { htmlToMarkdown } from 'html-to-markdown';\nimport TurndownService from \"turndown\";\nimport Loading from \"../../../components/loading\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { normalizeFileName, convertToWords } from \"../../../utils/formart\";\nimport { red } from \"@mui/material/colors\";\n\n//breadcrumb code\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledBreadcrumb = styled(Chip)(({\n  theme\n}) => {\n  const backgroundColor = theme.palette.mode === \"light\" ? theme.palette.grey[100] : theme.palette.grey[800];\n  return {\n    backgroundColor,\n    height: theme.spacing(3),\n    color: theme.palette.text.primary,\n    fontWeight: theme.typography.fontWeightRegular,\n    \"&:hover, &:focus\": {\n      backgroundColor: emphasize(backgroundColor, 0.06)\n    },\n    \"&:active\": {\n      boxShadow: theme.shadows[1],\n      backgroundColor: emphasize(backgroundColor, 0.12)\n    }\n  };\n});\n_c = StyledBreadcrumb;\nconst ProductAdd = ({\n  history\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const reactQuillRef = useRef();\n  const [fileExcel, setFileExcel] = useState(null);\n  const [name, setName] = useState(\"\");\n  const [brand, setBrand] = useState(\"\");\n  const [quantity, setQuantity] = useState(0);\n  const [discount, setDiscount] = useState(0);\n  const [price, setPrice] = useState(0);\n  const [depscription, setDepscription] = useState(\"\");\n  const [dataCategory, setdataCategory] = useState();\n  const [selectedCategoryOption, setSelectedCategoryOption] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [inputColor, setInputColor] = useState(\"\");\n  const [inputSize, setInputSize] = useState(\"\");\n  const [sizeValue, setSizeValue] = useState([]);\n  const [colorValue, setColorValue] = useState([]);\n  const [formFields, setFormFields] = useState({\n    color: [],\n    size: [],\n    url: [],\n    pathDep: []\n  });\n  const [dataUser, setdataUser] = useState();\n  const turndownService = new TurndownService();\n  const url = \"http://192.168.10.110:6969/v1\";\n  const UrlIMG = \"http://192.168.10.110:6969\";\n  // const id = \"661256cbb03b0c689798ad33\";\n  // const email = \"account8@gmail.com\";\n\n  const data = localStorage.getItem(\"userData\");\n  const id = localStorage.getItem(\"_id\");\n  useEffect(() => {\n    if (data) {\n      setdataUser(JSON.parse(data));\n    }\n  }, [id]);\n  const getDataCate = async () => {\n    try {\n      const responsive = await api.get(`${url}/categori/`);\n      if (responsive.data.status === true) {\n        setdataCategory(responsive.data.data);\n      }\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n  useEffect(() => {\n    getDataCate();\n  }, []);\n  const handleKeyColor = e => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      if (inputColor.trim() !== \"\") {\n        const newColors = inputColor.split(\",\").map(color => color.trim()).filter(color => color !== \"\");\n        const uniqueColors = newColors.filter(i => !colorValue.includes(i));\n        setColorValue(prevColors => [...prevColors, ...uniqueColors]);\n        setInputColor(\"\");\n        setFormFields(prevFields => ({\n          ...prevFields,\n          color: [...new Set([...prevFields.color, ...uniqueColors])]\n        }));\n      }\n    }\n  };\n  const removeColor = index => {\n    setColorValue(prevColors => prevColors.filter((_, i) => i !== index));\n    setFormFields(prevFields => ({\n      ...prevFields,\n      color: prevFields.color.filter((_, i) => i !== index)\n    }));\n  };\n\n  // size\n  const handleKeySize = e => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      if (inputSize.trim() !== \"\") {\n        const newSize = inputSize.split(\",\").map(size => size.trim()).filter(size => size !== \"\");\n        const uniqueSize = newSize.filter(i => !sizeValue.includes(i));\n        setSizeValue(prev => [...prev, ...uniqueSize]);\n        setFormFields(prevFields => ({\n          ...prevFields,\n          size: [...new Set([...prevFields.size, ...uniqueSize])]\n        }));\n        setInputSize(\"\");\n      }\n    }\n  };\n\n  // Hàm để xóa màu khỏi mảng colors\n  const removeSize = index => {\n    setSizeValue(prev => prev.filter((_, i) => i !== index));\n    setFormFields(prevFields => ({\n      ...prevFields,\n      size: prevFields.size.filter((_, i) => i !== index)\n    }));\n  };\n  const onChangeImages = e => {\n    const files = Array.from(e.target.files);\n    const newImagesWithRenamed = files.map(file => {\n      const renamedFile = new File([file], normalizeFileName(file.name), {\n        type: file.type\n      });\n      return renamedFile;\n    });\n    // console.log('New image name:',newImagesWithRenamed);\n    const newImages = newImagesWithRenamed.filter(file => !images.some(image => image.name === file.name));\n    setImages(prevImages => [...prevImages, ...newImages]);\n    setFormFields(prevFields => ({\n      ...prevFields,\n      url: [...prevFields.url, ...newImagesWithRenamed]\n    }));\n  };\n  const handleRemoveImage = index => {\n    setImages(prevImages => prevImages.filter((_, i) => i !== index));\n    setFormFields(prevFields => ({\n      ...prevFields,\n      url: formFields.url.filter((_, i) => i !== index)\n    }));\n  };\n  const upfile = async () => {\n    const formData = new FormData();\n    // Thêm các file từ formFields.url vào FormData\n    formFields.url.forEach(image => {\n      formData.append(\"files\", image);\n    });\n    try {\n      const response = await api.post(`${url}/uploads`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      return response.status;\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n    }\n  };\n  const updateImg = async idProduct => {\n    try {\n      const response = await api.post(`${url}/imgshose`, {\n        productId: idProduct,\n        images: formFields.url.slice(1).map(image => image.name)\n      });\n      return response.status;\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n    }\n  };\n  // console.log(\"Upload\",formFields)\n  // console.log(\"formFields.url\",formFields.url.slice(1).map((image) => image))\n\n  const submitForm = async e => {\n    e.preventDefault();\n    if (name === \"\") {\n      return window.alert(\"Please input name enter\");\n    }\n    if (brand === \"\") {\n      return window.alert(\"Please input brand enter\");\n    }\n    if (quantity === 0) {\n      return window.alert(\"Please input quantity enter\");\n    }\n    // if (discount === 0) {\n    //   return window.alert(\"Please input discount enter\");\n    // }\n    // if (description === \"\") {\n    //   return window.alert(\"Please input description enter\");\n    // }\n    if (colorValue.length === 0) {\n      return window.alert(\"Please input color enter\");\n    }\n    if (images.length === 0) {\n      return window.alert(\"Please input images enter\");\n    }\n    if (sizeValue.length === 0) {\n      return window.alert(\"Please input size enter\");\n    }\n    if (selectedCategoryOption === \"\") {\n      return window.alert(\"Please input dataCategory enter\");\n    }\n    try {\n      setIsLoading(true);\n      const file = await upfile();\n      const jsonData = {\n        userId: dataUser.email,\n        parentCategory: selectedCategoryOption,\n        name: name,\n        brand: brand,\n        price: price,\n        quantity: parseInt(quantity),\n        discount: parseFloat(discount !== 0 ? discount : 0),\n        color: formFields.color.filter(color => color.trim() !== \"\"),\n        description: depscription,\n        size: formFields.size.filter(color => color.trim() !== \"\"),\n        imageUrl: normalizeFileName(formFields.url[0].name)\n      };\n      // turndownService.turndown(depscription)\n      // console.log(\"jsonData\", jsonData);\n      console.log(\"depscription\", depscription);\n      const response = await api.post(`${url}/shose`, jsonData, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (response.data.status === true) {\n        // console.log(\"response\", response.data.data._id);\n        const img = await updateImg(response.data.data._id);\n        // console.log(\"img\", img);\n\n        if (img === 200) {\n          window.alert(\"Đã thêm sản phẩm thành công\");\n          navigate(\"/products\");\n        } else {\n          window.alert(\"Error\");\n        }\n      }\n      // console.log(response.data);\n    } catch (error) {\n      console.error(\"Cấu hình lỗi:\", error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const submitFile = async e => {\n    e.preventDefault();\n    if (fileExcel) {\n      const formData = new FormData();\n      formData.append(\"excelFile\", fileExcel);\n      api.post(`${url}/shose/upload/${id}`, formData).then(response => {\n        if (response.status === 200) {\n          alert(\"Bạn đã cập nhật thành công!\");\n        } else {\n          alert(`Đã xảy ra lỗi: ${response.data}`);\n        }\n      }).catch(error => {\n        console.error(error);\n        alert(\"Đã xảy ra lỗi: \" + error.message);\n      });\n    } else {\n      console.log(\"No file selected\");\n      alert(`Hãy chọn file`);\n    }\n  };\n  const handleFileUpload = async (file, endpoint) => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const response = await fetch(`${url}${endpoint}`, {\n      method: \"POST\",\n      body: formData\n    });\n    if (response.ok) {\n      const data = await response.json();\n      return data.url;\n    } else {\n      throw new Error(\"Failed to upload file\");\n    }\n  };\n  const imageHandler = useCallback(() => {\n    const input = document.createElement(\"input\");\n    input.setAttribute(\"type\", \"file\");\n    input.setAttribute(\"accept\", \"image/*\");\n    input.setAttribute(\"multiple\", true);\n    input.click();\n    input.onchange = async () => {\n      if (input.files !== null && input.files.length > 0) {\n        const file = input.files[0];\n        const renamedFile = new File([file], normalizeFileName(file.name), {\n          type: file.type\n        });\n        // Đọc ảnh và hiển thị ngay lập tức\n        const reader = new FileReader();\n        reader.onload = () => {\n          const dataURL = reader.result;\n          const quill = reactQuillRef.current.getEditor();\n          const cursorPosition = quill.getSelection().index || 0;\n          quill.insertEmbed(cursorPosition, \"image\", dataURL, \"user\");\n          // Tải ảnh lên server và thay thế base64 bằng URL\n          handleFileUpload(renamedFile, \"/upload-image\").then(Purl => {\n            console.log(\"Purl\", Purl);\n            const editor = quill.root;\n            const images = editor.getElementsByTagName(\"img\");\n            for (let i = 0; i < images.length; i++) {\n              if (images[i].src === dataURL) {\n                images[i].src = UrlIMG + Purl;\n                break;\n              }\n            }\n          }).catch(error => {\n            console.error(\"Error uploading image:\", error);\n            // Tìm và xóa ảnh base64 đã chèn\n            const editor = quill.root;\n            const images = editor.getElementsByTagName(\"img\");\n            for (let i = 0; i < images.length; i++) {\n              if (images[i].src === dataURL) {\n                images[i].parentNode.removeChild(images[i]);\n                break;\n              }\n            }\n            alert(\"Lỗi update ảnh.\");\n          });\n        };\n        reader.readAsDataURL(renamedFile);\n      }\n    };\n  }, [reactQuillRef]);\n  const videoHandler = useCallback(() => {\n    const url = prompt(\"Please enter the video URL (YouTube, TikTok) or choose a file to upload:\");\n    if (url) {\n      let embedUrl = \"\";\n      if (url.includes(\"youtube.com\") || url.includes(\"youtu.be\")) {\n        var _url$split$;\n        const videoId = ((_url$split$ = url.split(\"v=\")[1]) === null || _url$split$ === void 0 ? void 0 : _url$split$.split(\"&\")[0]) || url.split(\"/\").pop();\n        embedUrl = `https://www.youtube.com/embed/${videoId}`;\n      } else if (url.includes(\"tiktok.com\")) {\n        var _url$split$2;\n        const videoId = (_url$split$2 = url.split(\"/video/\")[1]) === null || _url$split$2 === void 0 ? void 0 : _url$split$2.split(\"?\")[0];\n        embedUrl = `https://www.tiktok.com/embed/v2/${videoId}`;\n      } else {\n        alert(\"Invalid URL format. Please enter a valid YouTube or TikTok URL.\");\n        return;\n      }\n      const range = reactQuillRef.current.getEditor().getSelection();\n      reactQuillRef.current.getEditor().insertEmbed(range.index, \"video\", embedUrl);\n    } else {\n      const input = document.createElement(\"input\");\n      input.setAttribute(\"type\", \"file\");\n      input.setAttribute(\"accept\", \"video/*\");\n      input.click();\n      input.onchange = async () => {\n        const file = input.files[0];\n        const renamedFile = new File([file], normalizeFileName(file.name), {\n          type: file.type\n        });\n        // console.log(\"Uploading video\", file);\n        try {\n          // Handle the video file upload\n          const PathUrl = await handleFileUpload(renamedFile, \"/upload-video\");\n          const range = reactQuillRef.current.getEditor().getSelection();\n          reactQuillRef.current.getEditor().insertEmbed(range.index, \"video\", `${UrlIMG}` + PathUrl);\n        } catch (error) {\n          alert(\"Error uploading video.\");\n          console.error(\"Error uploading video:\", error);\n        }\n      };\n    }\n  }, [reactQuillRef]);\n  const decodeHTML = html => {\n    var txt = document.createElement(\"textarea\");\n    txt.innerHTML = html;\n    return txt.value;\n  };\n  const handleEditorChange = (content, delta, source, editor) => {\n    console.log('handleEditorChange', content);\n    setDepscription(content);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-content w-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card shadow border-0 w-100 flex-row p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: \"Product Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Breadcrumbs, {\n          \"aria-label\": \"breadcrumb\",\n          className: \"ml-auto breadcrumbs_\",\n          children: [/*#__PURE__*/_jsxDEV(StyledBreadcrumb, {\n            component: \"a\",\n            href: \"#\",\n            label: \"Dashboard\",\n            icon: /*#__PURE__*/_jsxDEV(HomeIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledBreadcrumb, {\n            component: \"a\",\n            label: \"Products\",\n            href: \"#\",\n            deleteIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledBreadcrumb, {\n            label: \"Product Upload\",\n            deleteIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card shadow border-0 w-100 p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: \"Upload File Product \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form\",\n          onSubmit: submitFile,\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            style: {\n              color: \"red\"\n            },\n            className: \"mb-4\",\n            children: \"L\\u01AFU \\xDD: khi s\\u1EED d\\u1EE5ng th\\xEAm b\\u1EB1ng file excel c\\xF3 d\\u1EA1ng .xlsx\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginLeft: 20,\n              marginRight: 20\n            },\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\" \", \"+ G\\u1ED3m c\\xE1c c\\u1ED9t:ID,NAME,BRAND,PRICE,ARRAY_COLOR,PARENTCATEGORY,ARRAY_SIZE,QUANTITY,DEPSCRIPTION,IMAGEURL,ARRAY_IMG\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \" + \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"Upload file .xlsx\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \".xlsx\",\n              onChange: e => setFileExcel(e.target.files[0]),\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            className: \"btn-blue btn-lg btn-big\",\n            children: [/*#__PURE__*/_jsxDEV(FaCloudUploadAlt, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 17\n            }, this), \" \\xA0 UPDATE TO FILE\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row22\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form\",\n          onSubmit: submitForm,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"mb-4\",\n                  children: \"Product Information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \"Name Product\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"nameProduct\",\n                    value: name,\n                    onChange: e => setName(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \" Category Option\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 536,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    name: \"options\",\n                    value: selectedCategoryOption,\n                    onChange: e => setSelectedCategoryOption(e.target.value),\n                    className: \"form-control\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"--Please choose an option--\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 545,\n                      columnNumber: 25\n                    }, this), dataCategory !== undefined && dataCategory.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: `${category._id}`,\n                      children: category.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 548,\n                      columnNumber: 29\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 537,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: \"Discount\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 558,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        name: \"discount\",\n                        value: discount,\n                        onChange: e => setDiscount(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 559,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 557,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: \"Brand\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 570,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"brand\",\n                        value: brand,\n                        onChange: e => setBrand(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 571,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 569,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 568,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: \"Quantity\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 584,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        name: \"quantity\",\n                        value: quantity,\n                        onChange: e => setQuantity(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 585,\n                        columnNumber: 27\n                      }, this), quantity && !isNaN(parseInt(quantity)) && /*#__PURE__*/_jsxDEV(\"p\", {\n                        style: {\n                          color: \"red\"\n                        },\n                        children: convertToWords(parseInt(quantity))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 592,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 583,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 582,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: \"Price \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 601,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: price,\n                        name: \"price\",\n                        onChange: e => setPrice(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 602,\n                        columnNumber: 27\n                      }, this), price && !isNaN(parseInt(price)) && /*#__PURE__*/_jsxDEV(\"p\", {\n                        style: {\n                          color: \"red\"\n                        },\n                        children: convertToWords(parseInt(price))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 609,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 600,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 581,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \"Color\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 618,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      flexWrap: \"wrap\",\n                      border: \"1px solid #ccc\",\n                      padding: \"5px\",\n                      borderRadius: \"4px\"\n                    },\n                    children: [colorValue.map((color, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        margin: \"2px\",\n                        padding: \"2px 5px\",\n                        background: `${color}`,\n                        borderRadius: \"3px\",\n                        border: \"1px solid #ccc\"\n                      },\n                      children: [color, /*#__PURE__*/_jsxDEV(Icon, {\n                        component: CloseIcon,\n                        sx: {\n                          marginLeft: 3,\n                          height: 20\n                        },\n                        onClick: () => removeColor(index)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 642,\n                        columnNumber: 29\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 629,\n                      columnNumber: 27\n                    }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n                      name: \"color\",\n                      type: \"text\",\n                      value: inputColor,\n                      onChange: e => setInputColor(e.target.value),\n                      onKeyPress: handleKeyColor,\n                      placeholder: \"Please enter data, separated by commas, then press enter: green,red,blue,...\",\n                      style: {\n                        border: \"none\",\n                        outline: \"none\",\n                        flexGrow: 1,\n                        minWidth: \"100px\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 649,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 619,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 664,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 617,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: \"Size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    flexWrap: \"wrap\",\n                    border: \"1px solid #ccc\",\n                    padding: \"5px\",\n                    borderRadius: \"4px\"\n                  },\n                  children: [sizeValue.map((size, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      margin: \"2px\",\n                      padding: \"2px 5px\",\n                      background: `#f0f0f0`,\n                      borderRadius: \"3px\",\n                      border: \"1px solid #ccc\"\n                    },\n                    children: [size, /*#__PURE__*/_jsxDEV(Icon, {\n                      component: CloseIcon,\n                      sx: {\n                        marginLeft: 3,\n                        height: 20\n                      },\n                      onClick: () => removeSize(index)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 690,\n                      columnNumber: 27\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 677,\n                    columnNumber: 25\n                  }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"size\",\n                    type: \"text\",\n                    value: inputSize,\n                    onChange: e => setInputSize(e.target.value),\n                    onKeyPress: handleKeySize,\n                    placeholder: \"Please enter data, separated by commas, then press enter: XL,XX,XS,S,L,SM\",\n                    style: {\n                      border: \"none\",\n                      outline: \"none\",\n                      flexGrow: 1,\n                      minWidth: \"100px\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 697,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 667,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 712,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \"Upload Image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 715,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    accept: \"image/*\",\n                    onChange: onChangeImages,\n                    className: \"form-control\",\n                    multiple: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 716,\n                    columnNumber: 23\n                  }, this), images !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"image-list\",\n                    style: {\n                      display: \"flex\",\n                      flexWrap: \"wrap\"\n                    },\n                    children: images.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"image-item\",\n                      style: {\n                        position: \"relative\",\n                        margin: 5\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        className: \"img-preview\",\n                        style: {\n                          height: 100,\n                          width: 100\n                        },\n                        src: URL.createObjectURL(image),\n                        alt: `Image ${index}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 734,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Icon, {\n                        component: CloseIcon,\n                        sx: {\n                          position: \"absolute\",\n                          top: 5,\n                          right: 5,\n                          cursor: \"pointer\"\n                        },\n                        onClick: () => handleRemoveImage(index)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 740,\n                        columnNumber: 31\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 729,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 724,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 714,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  id: \"editor-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \"Depscription\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 757,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      height: \"auto\",\n                      marginBottom: \"50px\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(ReactQuill, {\n                      ref: reactQuillRef,\n                      theme: \"snow\",\n                      style: {\n                        height: \"100%\",\n                        width: \"100%\"\n                      },\n                      value: depscription,\n                      placeholder: \"Ch\\xFA \\xFD : Khi th\\xEAm youtube th\\xEC d\\xF9ng iframe src=https://www.youtube.com/embed/+ m\\xE3 tr\\xEAn youtube \",\n                      onChange: handleEditorChange,\n                      modules: {\n                        toolbar: {\n                          container: [[{\n                            header: \"1\"\n                          }, {\n                            header: \"2\"\n                          }, {\n                            font: []\n                          }], [{\n                            size: []\n                          }], [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"], [{\n                            list: \"ordered\"\n                          }, {\n                            list: \"bullet\"\n                          }, {\n                            indent: \"-1\"\n                          }, {\n                            indent: \"+1\"\n                          }], [\"link\", \"image\", \"video\"], [\"code-block\"], [\"clean\"]],\n                          handlers: {\n                            image: imageHandler,\n                            video: videoHandler\n                          }\n                        },\n                        clipboard: {\n                          matchVisual: false\n                        }\n                      },\n                      formats: [\"header\", \"font\", \"size\", \"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\", \"list\", \"bullet\", \"indent\", \"link\", \"image\", \"video\", \"code-block\"]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 759,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 758,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 756,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  className: \"btn-blue btn-lg btn-big\",\n                  children: [/*#__PURE__*/_jsxDEV(FaCloudUploadAlt, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 825,\n                    columnNumber: 23\n                  }, this), \" \\xA0 ADD TO VIEW\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 824,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 831,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-preview-container\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form-preview\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"HTML Preview depscription:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 834,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              dangerouslySetInnerHTML: {\n                __html: decodeHTML(depscription)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 835,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 832,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(ProductAdd, \"7++o1nC899WZmIe4a1LsOVg1Rnc=\", false, function () {\n  return [useNavigate];\n});\n_c2 = ProductAdd;\nexport default ProductAdd;\nvar _c, _c2;\n$RefreshReg$(_c, \"StyledBreadcrumb\");\n$RefreshReg$(_c2, \"ProductAdd\");","map":{"version":3,"names":["Breadcrumbs","HomeIcon","ExpandMoreIcon","emphasize","styled","Chip","MenuItem","Select","React","useEffect","useState","useRef","useCallback","Rating","FaCloudUploadAlt","Icon","Button","CloseIcon","api","useParams","TurndownService","Loading","ReactQuill","useNavigate","normalizeFileName","convertToWords","red","jsxDEV","_jsxDEV","Fragment","_Fragment","StyledBreadcrumb","theme","backgroundColor","palette","mode","grey","height","spacing","color","text","primary","fontWeight","typography","fontWeightRegular","boxShadow","shadows","_c","ProductAdd","history","_s","navigate","reactQuillRef","fileExcel","setFileExcel","name","setName","brand","setBrand","quantity","setQuantity","discount","setDiscount","price","setPrice","depscription","setDepscription","dataCategory","setdataCategory","selectedCategoryOption","setSelectedCategoryOption","images","setImages","isLoading","setIsLoading","inputColor","setInputColor","inputSize","setInputSize","sizeValue","setSizeValue","colorValue","setColorValue","formFields","setFormFields","size","url","pathDep","dataUser","setdataUser","turndownService","UrlIMG","data","localStorage","getItem","id","JSON","parse","getDataCate","responsive","get","status","error","console","log","handleKeyColor","e","key","preventDefault","trim","newColors","split","map","filter","uniqueColors","i","includes","prevColors","prevFields","Set","removeColor","index","_","handleKeySize","newSize","uniqueSize","prev","removeSize","onChangeImages","files","Array","from","target","newImagesWithRenamed","file","renamedFile","File","type","newImages","some","image","prevImages","handleRemoveImage","upfile","formData","FormData","forEach","append","response","post","headers","updateImg","idProduct","productId","slice","submitForm","window","alert","length","jsonData","userId","email","parentCategory","parseInt","parseFloat","description","imageUrl","img","_id","message","submitFile","then","catch","handleFileUpload","endpoint","fetch","method","body","ok","json","Error","imageHandler","input","document","createElement","setAttribute","click","onchange","reader","FileReader","onload","dataURL","result","quill","current","getEditor","cursorPosition","getSelection","insertEmbed","Purl","editor","root","getElementsByTagName","src","parentNode","removeChild","readAsDataURL","videoHandler","prompt","embedUrl","_url$split$","videoId","pop","_url$split$2","range","PathUrl","decodeHTML","html","txt","innerHTML","value","handleEditorChange","content","delta","source","children","fileName","_jsxFileName","lineNumber","columnNumber","className","component","href","label","icon","fontSize","deleteIcon","onSubmit","style","marginLeft","marginRight","accept","onChange","undefined","category","isNaN","display","flexWrap","border","padding","borderRadius","alignItems","margin","background","sx","onClick","onKeyPress","placeholder","outline","flexGrow","minWidth","multiple","position","width","URL","createObjectURL","alt","top","right","cursor","marginBottom","ref","modules","toolbar","container","header","font","list","indent","handlers","video","clipboard","matchVisual","formats","dangerouslySetInnerHTML","__html","_c2","$RefreshReg$"],"sources":["/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/components/admin/Products/ProductAdd.js"],"sourcesContent":["import Breadcrumbs from \"@mui/material/Breadcrumbs\";\nimport HomeIcon from \"@mui/icons-material/Home\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { emphasize, styled } from \"@mui/material/styles\";\nimport Chip from \"@mui/material/Chip\";\n\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport React, { useEffect, useState, useRef, useCallback } from \"react\";\nimport Rating from \"@mui/material/Rating\";\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\nimport { Icon } from \"@mui/material\";\nimport Button from \"@mui/material/Button\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport api from \"../../../api/api\";\nimport { useParams } from \"react-router-dom\";\n// import { htmlToMarkdown } from 'html-to-markdown';\nimport TurndownService from \"turndown\";\nimport Loading from \"../../../components/loading\";\n\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { normalizeFileName, convertToWords } from \"../../../utils/formart\";\nimport { red } from \"@mui/material/colors\";\n\n//breadcrumb code\nconst StyledBreadcrumb = styled(Chip)(({ theme }) => {\n  const backgroundColor =\n    theme.palette.mode === \"light\"\n      ? theme.palette.grey[100]\n      : theme.palette.grey[800];\n  return {\n    backgroundColor,\n    height: theme.spacing(3),\n    color: theme.palette.text.primary,\n    fontWeight: theme.typography.fontWeightRegular,\n    \"&:hover, &:focus\": {\n      backgroundColor: emphasize(backgroundColor, 0.06),\n    },\n    \"&:active\": {\n      boxShadow: theme.shadows[1],\n      backgroundColor: emphasize(backgroundColor, 0.12),\n    },\n  };\n});\n\nconst ProductAdd = ({ history }) => {\n  const navigate = useNavigate();\n\n  const reactQuillRef = useRef();\n\n  const [fileExcel, setFileExcel] = useState(null);\n\n  const [name, setName] = useState(\"\");\n\n  const [brand, setBrand] = useState(\"\");\n  const [quantity, setQuantity] = useState(0);\n  const [discount, setDiscount] = useState(0);\n  const [price, setPrice] = useState(0);\n  const [depscription, setDepscription] = useState(\"\");\n  \n  const [dataCategory, setdataCategory] = useState();\n  const [selectedCategoryOption, setSelectedCategoryOption] = useState(\"\");\n\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [inputColor, setInputColor] = useState(\"\");\n  const [inputSize, setInputSize] = useState(\"\");\n\n  const [sizeValue, setSizeValue] = useState([]);\n  const [colorValue, setColorValue] = useState([]);\n  const [formFields, setFormFields] = useState({\n    color: [],\n    size: [],\n    url: [],\n    pathDep: [],\n  });\n\n  const [dataUser, setdataUser] = useState();\n\n  const turndownService = new TurndownService();\n  const url = \"http://192.168.10.110:6969/v1\";\n  const UrlIMG = \"http://192.168.10.110:6969\";\n  // const id = \"661256cbb03b0c689798ad33\";\n  // const email = \"account8@gmail.com\";\n\n  const data = localStorage.getItem(\"userData\");\n  const id = localStorage.getItem(\"_id\");\n\n  useEffect(() => {\n    if (data) {\n      setdataUser(JSON.parse(data));\n    }\n  }, [id]);\n\n  const getDataCate = async () => {\n    try {\n      const responsive = await api.get(`${url}/categori/`);\n      if (responsive.data.status === true) {\n        setdataCategory(responsive.data.data);\n      }\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n\n  useEffect(() => {\n    getDataCate();\n  }, []);\n\n  const handleKeyColor = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      if (inputColor.trim() !== \"\") {\n        const newColors = inputColor\n          .split(\",\")\n          .map((color) => color.trim())\n          .filter((color) => color !== \"\");\n\n        const uniqueColors = newColors.filter((i) => !colorValue.includes(i));\n\n        setColorValue((prevColors) => [...prevColors, ...uniqueColors]);\n        setInputColor(\"\");\n        setFormFields((prevFields) => ({\n          ...prevFields,\n          color: [...new Set([...prevFields.color, ...uniqueColors])],\n        }));\n      }\n    }\n  };\n\n  const removeColor = (index) => {\n    setColorValue((prevColors) => prevColors.filter((_, i) => i !== index));\n    setFormFields((prevFields) => ({\n      ...prevFields,\n      color: prevFields.color.filter((_, i) => i !== index),\n    }));\n  };\n\n  // size\n  const handleKeySize = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      if (inputSize.trim() !== \"\") {\n        const newSize = inputSize\n          .split(\",\")\n          .map((size) => size.trim())\n          .filter((size) => size !== \"\");\n\n        const uniqueSize = newSize.filter((i) => !sizeValue.includes(i));\n\n        setSizeValue((prev) => [...prev, ...uniqueSize]);\n        setFormFields((prevFields) => ({\n          ...prevFields,\n          size: [...new Set([...prevFields.size, ...uniqueSize])],\n        }));\n        setInputSize(\"\");\n      }\n    }\n  };\n\n  // Hàm để xóa màu khỏi mảng colors\n  const removeSize = (index) => {\n    setSizeValue((prev) => prev.filter((_, i) => i !== index));\n    setFormFields((prevFields) => ({\n      ...prevFields,\n      size: prevFields.size.filter((_, i) => i !== index),\n    }));\n  };\n  const onChangeImages = (e) => {\n    const files = Array.from(e.target.files);\n    const newImagesWithRenamed = files.map((file) => {\n      const renamedFile = new File([file], normalizeFileName(file.name), {\n        type: file.type,\n      });\n      return renamedFile;\n    });\n    // console.log('New image name:',newImagesWithRenamed);\n    const newImages = newImagesWithRenamed.filter(\n      (file) => !images.some((image) => image.name === file.name)\n    );\n    setImages((prevImages) => [...prevImages, ...newImages]);\n    setFormFields((prevFields) => ({\n      ...prevFields,\n      url: [...prevFields.url, ...newImagesWithRenamed],\n    }));\n  };\n\n  const handleRemoveImage = (index) => {\n    setImages((prevImages) => prevImages.filter((_, i) => i !== index));\n    setFormFields((prevFields) => ({\n      ...prevFields,\n      url: formFields.url.filter((_, i) => i !== index),\n    }));\n  };\n\n  const upfile = async () => {\n    const formData = new FormData();\n    // Thêm các file từ formFields.url vào FormData\n    formFields.url.forEach((image) => {\n      formData.append(\"files\", image);\n    });\n    try {\n      const response = await api.post(`${url}/uploads`, formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n      return response.status;\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n    }\n  };\n  const updateImg = async (idProduct) => {\n    try {\n      const response = await api.post(`${url}/imgshose`, {\n        productId: idProduct,\n        images: formFields.url.slice(1).map((image) => image.name),\n      });\n      return response.status;\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n    }\n  };\n  // console.log(\"Upload\",formFields)\n  // console.log(\"formFields.url\",formFields.url.slice(1).map((image) => image))\n\n  const submitForm = async (e) => {\n    e.preventDefault();\n    if (name === \"\") {\n      return window.alert(\"Please input name enter\");\n    }\n    if (brand === \"\") {\n      return window.alert(\"Please input brand enter\");\n    }\n    if (quantity === 0) {\n      return window.alert(\"Please input quantity enter\");\n    }\n    // if (discount === 0) {\n    //   return window.alert(\"Please input discount enter\");\n    // }\n    // if (description === \"\") {\n    //   return window.alert(\"Please input description enter\");\n    // }\n    if (colorValue.length === 0) {\n      return window.alert(\"Please input color enter\");\n    }\n    if (images.length === 0) {\n      return window.alert(\"Please input images enter\");\n    }\n    if (sizeValue.length === 0) {\n      return window.alert(\"Please input size enter\");\n    }\n    if (selectedCategoryOption === \"\") {\n      return window.alert(\"Please input dataCategory enter\");\n    }\n\n    try {\n      setIsLoading(true);\n      const file = await upfile();\n\n      const jsonData = {\n        userId: dataUser.email,\n        parentCategory: selectedCategoryOption,\n        name: name,\n        brand: brand,\n        price: price,\n        quantity: parseInt(quantity),\n        discount: parseFloat(discount !== 0 ? discount : 0),\n        color: formFields.color.filter((color) => color.trim() !== \"\"),\n        description: depscription,\n        size: formFields.size.filter((color) => color.trim() !== \"\"),\n        imageUrl: normalizeFileName(formFields.url[0].name),\n      };\n      // turndownService.turndown(depscription)\n      // console.log(\"jsonData\", jsonData);\n      console.log(\"depscription\", depscription);\n      const response = await api.post(`${url}/shose`, jsonData, {\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n      if (response.data.status === true) {\n        // console.log(\"response\", response.data.data._id);\n        const img = await updateImg(response.data.data._id);\n        // console.log(\"img\", img);\n\n        if (img === 200) {\n          window.alert(\"Đã thêm sản phẩm thành công\");\n          navigate(\"/products\");\n        } else {\n          window.alert(\"Error\");\n        }\n      }\n      // console.log(response.data);\n    } catch (error) {\n      console.error(\"Cấu hình lỗi:\", error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n\n  const submitFile = async (e) => {\n    e.preventDefault();\n    if (fileExcel) {\n      const formData = new FormData();\n      formData.append(\"excelFile\", fileExcel);\n      api\n        .post(`${url}/shose/upload/${id}`, formData)\n        .then((response) => {\n          if (response.status === 200) {\n            alert(\"Bạn đã cập nhật thành công!\");\n          } else {\n            alert(`Đã xảy ra lỗi: ${response.data}`);\n          }\n        })\n        .catch((error) => {\n          console.error(error);\n          alert(\"Đã xảy ra lỗi: \" + error.message);\n        });\n    } else {\n      console.log(\"No file selected\");\n      alert(`Hãy chọn file`);\n    }\n  };\n  const handleFileUpload = async (file, endpoint) => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    const response = await fetch(`${url}${endpoint}`, {\n      method: \"POST\",\n      body: formData,\n    });\n    if (response.ok) {\n      const data = await response.json();\n      return data.url;\n    } else {\n      throw new Error(\"Failed to upload file\");\n    }\n  };\n\n  const imageHandler = useCallback(() => {\n    const input = document.createElement(\"input\");\n    input.setAttribute(\"type\", \"file\");\n    input.setAttribute(\"accept\", \"image/*\");\n    input.setAttribute(\"multiple\", true);\n    input.click();\n\n    input.onchange = async () => {\n      if (input.files !== null && input.files.length > 0) {\n        const file = input.files[0];\n        const renamedFile = new File([file], normalizeFileName(file.name), {\n          type: file.type,\n        });\n        // Đọc ảnh và hiển thị ngay lập tức\n        const reader = new FileReader();\n        reader.onload = () => {\n          const dataURL = reader.result;\n          const quill = reactQuillRef.current.getEditor();\n          const cursorPosition = quill.getSelection().index || 0;\n          quill.insertEmbed(cursorPosition, \"image\", dataURL, \"user\");\n          // Tải ảnh lên server và thay thế base64 bằng URL\n          handleFileUpload(renamedFile, \"/upload-image\")\n            .then((Purl) => {\n              console.log(\"Purl\", Purl);\n              const editor = quill.root;\n              const images = editor.getElementsByTagName(\"img\");\n              for (let i = 0; i < images.length; i++) {\n                if (images[i].src === dataURL) {\n                  images[i].src = UrlIMG + Purl;\n                  break;\n                }\n              }\n            })\n            .catch((error) => {\n              console.error(\"Error uploading image:\", error);\n              // Tìm và xóa ảnh base64 đã chèn\n              const editor = quill.root;\n              const images = editor.getElementsByTagName(\"img\");\n              for (let i = 0; i < images.length; i++) {\n                if (images[i].src === dataURL) {\n                  images[i].parentNode.removeChild(images[i]);\n                  break;\n                }\n              }\n              alert(\"Lỗi update ảnh.\");\n            });\n        };\n        reader.readAsDataURL(renamedFile);\n      }\n    };\n  }, [reactQuillRef]);\n\n  const videoHandler = useCallback(() => {\n    const url = prompt(\n      \"Please enter the video URL (YouTube, TikTok) or choose a file to upload:\"\n    );\n    if (url) {\n      let embedUrl = \"\";\n      if (url.includes(\"youtube.com\") || url.includes(\"youtu.be\")) {\n        const videoId =\n          url.split(\"v=\")[1]?.split(\"&\")[0] || url.split(\"/\").pop();\n        embedUrl = `https://www.youtube.com/embed/${videoId}`;\n      } else if (url.includes(\"tiktok.com\")) {\n        const videoId = url.split(\"/video/\")[1]?.split(\"?\")[0];\n        embedUrl = `https://www.tiktok.com/embed/v2/${videoId}`;\n      } else {\n        alert(\n          \"Invalid URL format. Please enter a valid YouTube or TikTok URL.\"\n        );\n        return;\n      }\n      const range = reactQuillRef.current.getEditor().getSelection();\n      reactQuillRef.current\n        .getEditor()\n        .insertEmbed(range.index, \"video\", embedUrl);\n    } else {\n      const input = document.createElement(\"input\");\n      input.setAttribute(\"type\", \"file\");\n      input.setAttribute(\"accept\", \"video/*\");\n      input.click();\n\n      input.onchange = async () => {\n        const file = input.files[0];\n        const renamedFile = new File([file], normalizeFileName(file.name), {\n          type: file.type,\n        });\n        // console.log(\"Uploading video\", file);\n        try {\n          // Handle the video file upload\n          const PathUrl = await handleFileUpload(renamedFile, \"/upload-video\");\n          const range = reactQuillRef.current.getEditor().getSelection();\n          reactQuillRef.current\n            .getEditor()\n            .insertEmbed(range.index, \"video\", `${UrlIMG}` + PathUrl);\n        } catch (error) {\n          alert(\"Error uploading video.\");\n          console.error(\"Error uploading video:\", error);\n        }\n      };\n    }\n  }, [reactQuillRef]);\n\n  const decodeHTML = (html) => {\n    var txt = document.createElement(\"textarea\");\n    txt.innerHTML = html;\n    return txt.value;\n  };\n\n  const handleEditorChange = (content, delta, source, editor) => {\n    console.log('handleEditorChange', content);\n    setDepscription(content);\n  };\n\n\n  return (\n    <>\n      {isLoading ? (\n        <Loading />\n      ) : (\n        <div className=\"right-content w-100\">\n          <div className=\"card shadow border-0 w-100 flex-row p-4\">\n            <h5 className=\"mb-0\">Product Upload</h5>\n            <Breadcrumbs\n              aria-label=\"breadcrumb\"\n              className=\"ml-auto breadcrumbs_\"\n            >\n              <StyledBreadcrumb\n                component=\"a\"\n                href=\"#\"\n                label=\"Dashboard\"\n                icon={<HomeIcon fontSize=\"small\" />}\n              />\n\n              <StyledBreadcrumb\n                component=\"a\"\n                label=\"Products\"\n                href=\"#\"\n                deleteIcon={<ExpandMoreIcon />}\n              />\n              <StyledBreadcrumb\n                label=\"Product Upload\"\n                deleteIcon={<ExpandMoreIcon />}\n              />\n            </Breadcrumbs>\n          </div>\n\n          <div className=\"card shadow border-0 w-100 p-4\">\n            <h5 className=\"mb-0\">Upload File Product </h5>\n            <br />\n            <form className=\"form\" onSubmit={submitFile}>\n              <h5 style={{ color: \"red\" }} className=\"mb-4\">\n                LƯU Ý: khi sử dụng thêm bằng file excel có dạng .xlsx\n              </h5>\n              <div style={{ marginLeft: 20, marginRight: 20 }}>\n                <ul>\n                  <li>\n                    {\" \"}\n                    + Gồm các\n                    cột:ID,NAME,BRAND,PRICE,ARRAY_COLOR,PARENTCATEGORY,ARRAY_SIZE,QUANTITY,DEPSCRIPTION,IMAGEURL,ARRAY_IMG\n                  </li>\n                  <li> + </li>\n                </ul>\n              </div>\n\n              <div className=\"form-group\">\n                <h6>Upload file .xlsx</h6>\n                <input\n                  type=\"file\"\n                  accept=\".xlsx\"\n                  onChange={(e) => setFileExcel(e.target.files[0])}\n                  className=\"form-control\"\n                />\n              </div>\n\n              <Button type=\"submit\" className=\"btn-blue btn-lg btn-big\">\n                <FaCloudUploadAlt /> &nbsp; UPDATE TO FILE\n              </Button>\n            </form>\n          </div>\n          <div className=\"row22\">\n            <form className=\"form\" onSubmit={submitForm}>\n              <div className=\"row\">\n                <div className=\"col-sm\">\n                  <div className=\"card p-4\">\n                    <h5 className=\"mb-4\">Product Information</h5>\n                    <div className=\"form-group\">\n                      <h6>Name Product</h6>\n                      <input\n                        type=\"text\"\n                        name=\"nameProduct\"\n                        value={name}\n                        onChange={(e) => setName(e.target.value)}\n                      />\n                    </div>\n                    <div className=\"form-group\">\n                      <h6> Category Option</h6>\n                      <select\n                        name=\"options\"\n                        value={selectedCategoryOption}\n                        onChange={(e) =>\n                          setSelectedCategoryOption(e.target.value)\n                        }\n                        className=\"form-control\"\n                      >\n                        <option value=\"\">--Please choose an option--</option>\n                        {dataCategory !== undefined &&\n                          dataCategory.map((category) => (\n                            <option value={`${category._id}`}>\n                              {category.name}\n                            </option>\n                          ))}\n                      </select>\n                    </div>\n\n                    <div className=\"row\">\n                      <div className=\"col-sm\">\n                        <div className=\"form-group\">\n                          <h6>Discount</h6>\n                          <input\n                            type=\"number\"\n                            name=\"discount\"\n                            value={discount}\n                            onChange={(e) => setDiscount(e.target.value)}\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"col-sm\">\n                        <div className=\"form-group\">\n                          <h6>Brand</h6>\n                          <input\n                            type=\"text\"\n                            name=\"brand\"\n                            value={brand}\n                            onChange={(e) => setBrand(e.target.value)}\n                          />\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"row\">\n                      <div className=\"col-sm\">\n                        <div className=\"form-group\">\n                          <h6>Quantity</h6>\n                          <input\n                            type=\"number\"\n                            name=\"quantity\"\n                            value={quantity}\n                            onChange={(e) => setQuantity(e.target.value)}\n                          />\n                          {quantity && !isNaN(parseInt(quantity)) && (\n                            <p style={{ color: \"red\" }}>\n                              {convertToWords(parseInt(quantity))}\n                            </p>\n                          )}\n                        </div>\n                      </div>\n\n                      <div className=\"col\">\n                        <div className=\"form-group\">\n                          <h6>Price </h6>\n                          <input\n                            type=\"text\"\n                            value={price}\n                            name=\"price\"\n                            onChange={(e) => setPrice(e.target.value)}\n                          />\n                          {price && !isNaN(parseInt(price)) && (\n                            <p style={{ color: \"red\" }}>\n                              {convertToWords(parseInt(price))}\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n\n                    <div>\n                      <h6>Color</h6>\n                      <div\n                        style={{\n                          display: \"flex\",\n                          flexWrap: \"wrap\",\n                          border: \"1px solid #ccc\",\n                          padding: \"5px\",\n                          borderRadius: \"4px\",\n                        }}\n                      >\n                        {colorValue.map((color, index) => (\n                          <span\n                            key={index}\n                            style={{\n                              display: \"flex\",\n                              alignItems: \"center\",\n                              margin: \"2px\",\n                              padding: \"2px 5px\",\n                              background: `${color}`,\n                              borderRadius: \"3px\",\n                              border: \"1px solid #ccc\",\n                            }}\n                          >\n                            {color}\n                            <Icon\n                              component={CloseIcon}\n                              sx={{ marginLeft: 3, height: 20 }}\n                              onClick={() => removeColor(index)}\n                            />\n                          </span>\n                        ))}\n                        <input\n                          name=\"color\"\n                          type=\"text\"\n                          value={inputColor}\n                          onChange={(e) => setInputColor(e.target.value)}\n                          onKeyPress={handleKeyColor}\n                          placeholder=\"Please enter data, separated by commas, then press enter: green,red,blue,...\"\n                          style={{\n                            border: \"none\",\n                            outline: \"none\",\n                            flexGrow: 1,\n                            minWidth: \"100px\",\n                          }}\n                        />\n                      </div>\n                      <br />\n                    </div>\n                    <h6>Size</h6>\n                    <div\n                      style={{\n                        display: \"flex\",\n                        flexWrap: \"wrap\",\n                        border: \"1px solid #ccc\",\n                        padding: \"5px\",\n                        borderRadius: \"4px\",\n                      }}\n                    >\n                      {sizeValue.map((size, index) => (\n                        <span\n                          key={index}\n                          style={{\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            margin: \"2px\",\n                            padding: \"2px 5px\",\n                            background: `#f0f0f0`,\n                            borderRadius: \"3px\",\n                            border: \"1px solid #ccc\",\n                          }}\n                        >\n                          {size}\n                          <Icon\n                            component={CloseIcon}\n                            sx={{ marginLeft: 3, height: 20 }}\n                            onClick={() => removeSize(index)}\n                          />\n                        </span>\n                      ))}\n                      <input\n                        name=\"size\"\n                        type=\"text\"\n                        value={inputSize}\n                        onChange={(e) => setInputSize(e.target.value)}\n                        onKeyPress={handleKeySize}\n                        placeholder=\"Please enter data, separated by commas, then press enter: XL,XX,XS,S,L,SM\"\n                        style={{\n                          border: \"none\",\n                          outline: \"none\",\n                          flexGrow: 1,\n                          minWidth: \"100px\",\n                        }}\n                      />\n                    </div>\n                    <br />\n\n                    <div className=\"form-group\">\n                      <h6>Upload Image</h6>\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={onChangeImages}\n                        className=\"form-control\"\n                        multiple\n                      />\n                      {images !== undefined && (\n                        <div\n                          className=\"image-list\"\n                          style={{ display: \"flex\", flexWrap: \"wrap\" }}\n                        >\n                          {images.map((image, index) => (\n                            <div\n                              key={index}\n                              className=\"image-item\"\n                              style={{ position: \"relative\", margin: 5 }}\n                            >\n                              <img\n                                className=\"img-preview\"\n                                style={{ height: 100, width: 100 }}\n                                src={URL.createObjectURL(image)}\n                                alt={`Image ${index}`}\n                              />\n                              <Icon\n                                component={CloseIcon}\n                                sx={{\n                                  position: \"absolute\",\n                                  top: 5,\n                                  right: 5,\n                                  cursor: \"pointer\",\n                                }}\n                                onClick={() => handleRemoveImage(index)}\n                              />\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n\n                    <div className=\"form-group\" id=\"editor-container\">\n                      <h6>Depscription</h6>\n                      <div style={{ height: \"auto\", marginBottom: \"50px\" }}>\n                        <ReactQuill\n                          ref={reactQuillRef}\n                          theme=\"snow\"\n                          style={{ height: \"100%\", width: \"100%\" }}\n                          value={depscription}\n                          placeholder=\"Chú ý : Khi thêm youtube thì dùng iframe src=https://www.youtube.com/embed/+ mã trên youtube \"\n                          onChange={handleEditorChange}\n                          modules={{\n                            toolbar: {\n                              container: [\n                                [\n                                  { header: \"1\" },\n                                  { header: \"2\" },\n                                  { font: [] },\n                                ],\n                                [{ size: [] }],\n                                [\n                                  \"bold\",\n                                  \"italic\",\n                                  \"underline\",\n                                  \"strike\",\n                                  \"blockquote\",\n                                ],\n                                [\n                                  { list: \"ordered\" },\n                                  { list: \"bullet\" },\n                                  { indent: \"-1\" },\n                                  { indent: \"+1\" },\n                                ],\n                                [\"link\", \"image\", \"video\"],\n                                [\"code-block\"],\n                                [\"clean\"],\n                              ],\n                              handlers: {\n                                image: imageHandler,\n                                video: videoHandler,\n                              },\n                            },\n                            clipboard: {\n                              matchVisual: false,\n                            },\n                          }}\n                          formats={[\n                            \"header\",\n                            \"font\",\n                            \"size\",\n                            \"bold\",\n                            \"italic\",\n                            \"underline\",\n                            \"strike\",\n                            \"blockquote\",\n                            \"list\",\n                            \"bullet\",\n                            \"indent\",\n                            \"link\",\n                            \"image\",\n                            \"video\",\n                            \"code-block\",\n                          ]}\n                        />\n                      </div>\n                    </div>\n\n                    <br />\n\n                    <Button type=\"submit\" className=\"btn-blue btn-lg btn-big\">\n                      <FaCloudUploadAlt /> &nbsp; ADD TO VIEW\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </form>\n            <br />\n            <div className=\"form-preview-container\">\n              <form className=\"form-preview\" >\n                <h3>HTML Preview depscription:</h3>\n                <div\n                  dangerouslySetInnerHTML={{ __html: decodeHTML(depscription) }}\n                />\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ProductAdd;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}