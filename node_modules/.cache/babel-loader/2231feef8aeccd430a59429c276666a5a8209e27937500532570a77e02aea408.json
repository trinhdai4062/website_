{"ast":null,"code":"import React,{useEffect,useState,useContext}from\"react\";import\"./style.css\";import Rating from\"@mui/material/Rating\";import{Button}from\"@mui/material\";import{Link}from\"react-router-dom\";import ShoppingCartOutlinedIcon from\"@mui/icons-material/ShoppingCartOutlined\";import FavoriteBorderOutlinedIcon from\"@mui/icons-material/FavoriteBorderOutlined\";import FavoriteOutlined from\"@mui/icons-material/FavoriteOutlined\";import CompareArrowsOutlinedIcon from\"@mui/icons-material/CompareArrowsOutlined\";import RemoveRedEyeOutlinedIcon from\"@mui/icons-material/RemoveRedEyeOutlined\";import{formatVND}from'../../../utils/formart';import{UserContext}from\"../../../pages/UserPage\";import{baseIMG_}from'../../../utils/env';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const Product=props=>{const[productData,setProductData]=useState();const[isAdded,setIsadded]=useState(false);const context=useContext(UserContext);useEffect(()=>{setProductData(props.item);},[props.item]);const setProductCat=()=>{sessionStorage.setItem(\"parentCat\",productData.parentCatName);sessionStorage.setItem(\"subCatName\",productData.subCatName);};const handleFavorite=()=>{console.log(\"handleFavorite\");};const addToCart=item=>{context.addToCart(item);setIsadded(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"productThumb\",onClick:setProductCat,children:[productData&&productData.discount>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"badge \".concat(productData.discount),children:[\"Gi\\u1EA3m gi\\xE1 \",productData.discount,\"%\"]}),productData&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/user/product/\".concat(productData._id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"imgWrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image-wrapper p-4 wrapper\",children:/*#__PURE__*/_jsx(\"img\",{src:baseIMG_+productData.imageUrl,className:\"w-100\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"overlay transition\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list list-inline mb-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item\",children:/*#__PURE__*/_jsx(\"a\",{link:\"favorite\",className:\"cursor\",tooltip:\"Add to Wishlist\",onClick:()=>handleFavorite(),children:/*#__PURE__*/_jsx(FavoriteBorderOutlinedIcon,{})})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"cursor\",tooltip:\"Compare\",children:/*#__PURE__*/_jsx(CompareArrowsOutlinedIcon,{})})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-inline-item\",children:/*#__PURE__*/_jsx(\"a\",{className:\"cursor\",tooltip:\"Quick View\",children:/*#__PURE__*/_jsx(RemoveRedEyeOutlinedIcon,{})})})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"d-block catName\",children:productData.brand}),/*#__PURE__*/_jsx(\"h4\",{className:\"title\",style:{wordWrap:\"break-word\",height:50},children:/*#__PURE__*/_jsx(Link,{children:productData.name.substr(0,50)+\"...\"})}),/*#__PURE__*/_jsx(Rating,{name:\"half-rating-read\",value:parseFloat(productData.star),precision:0.5,readOnly:true}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"oldPrice ml-auto\",children:[\"Gi\\xE1 ban \\u0111\\u1EA7u \",formatVND(productData.price)]})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center mt-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center w-100\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"price text-g font-weight-bold\",children:[\"Gi\\xE1 hi\\u1EC7n t\\u1EA1i \",\" \",productData.discount?formatVND(productData.price-productData.price*(productData.discount/100)):formatVND(productData.price)]})})}),/*#__PURE__*/_jsxs(Button,{className:\"w-100 transition mt-3\",onClick:()=>addToCart(productData),children:[/*#__PURE__*/_jsx(ShoppingCartOutlinedIcon,{}),isAdded===true?\"Đã mua\":\"Mua ngay\"]})]})]})]});};export default Product;","map":{"version":3,"names":["React","useEffect","useState","useContext","Rating","Button","Link","ShoppingCartOutlinedIcon","FavoriteBorderOutlinedIcon","FavoriteOutlined","CompareArrowsOutlinedIcon","RemoveRedEyeOutlinedIcon","formatVND","UserContext","baseIMG_","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Product","props","productData","setProductData","isAdded","setIsadded","context","item","setProductCat","sessionStorage","setItem","parentCatName","subCatName","handleFavorite","console","log","addToCart","className","onClick","children","discount","concat","to","_id","src","imageUrl","link","tooltip","brand","style","wordWrap","height","name","substr","value","parseFloat","star","precision","readOnly","price"],"sources":["/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/components/common/product/index.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport \"./style.css\";\r\nimport Rating from \"@mui/material/Rating\";\r\nimport { Button } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ShoppingCartOutlinedIcon from \"@mui/icons-material/ShoppingCartOutlined\";\r\nimport FavoriteBorderOutlinedIcon from \"@mui/icons-material/FavoriteBorderOutlined\";\r\nimport FavoriteOutlined from \"@mui/icons-material/FavoriteOutlined\";\r\nimport CompareArrowsOutlinedIcon from \"@mui/icons-material/CompareArrowsOutlined\";\r\nimport RemoveRedEyeOutlinedIcon from \"@mui/icons-material/RemoveRedEyeOutlined\";\r\nimport {formatVND} from '../../../utils/formart'\r\nimport { UserContext } from \"../../../pages/UserPage\";\r\nimport {baseIMG_} from '../../../utils/env';\r\n\r\nconst Product = (props) => {\r\n  const [productData, setProductData] = useState();\r\n  const [isAdded, setIsadded] = useState(false);\r\n\r\n  const context = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    setProductData(props.item);\r\n  }, [props.item]);\r\n\r\n  const setProductCat = () => {\r\n    sessionStorage.setItem(\"parentCat\", productData.parentCatName);\r\n    sessionStorage.setItem(\"subCatName\", productData.subCatName);\r\n  };\r\n  const handleFavorite=()=>{\r\n    console.log(\"handleFavorite\")\r\n  }\r\n  const addToCart = (item) => {\r\n    context.addToCart(item);\r\n    setIsadded(true);\r\n  };\r\n  return (\r\n    <div className=\"productThumb\" onClick={setProductCat}>\r\n      {productData && productData.discount > 0 && (\r\n        <span className={`badge ${productData.discount}`}>\r\n          Giảm giá {productData.discount}%\r\n        </span>\r\n      )}\r\n      {productData && (\r\n        <>\r\n          <Link to={`/user/product/${productData._id}`}>\r\n            <div className=\"imgWrapper\">\r\n              <div className=\"image-wrapper p-4 wrapper\">\r\n                <img src={baseIMG_+productData.imageUrl} className=\"w-100\" />\r\n              </div>\r\n              <div className=\"overlay transition\">\r\n                <ul className=\"list list-inline mb-0\">\r\n                  <li className=\"list-inline-item\">\r\n                      <a\r\n                        link=\"favorite\"\r\n                        className=\"cursor\"\r\n                        tooltip=\"Add to Wishlist\"\r\n                        onClick={() => handleFavorite()}\r\n                      >\r\n                        <FavoriteBorderOutlinedIcon />\r\n                      </a>\r\n                  </li>\r\n                  <li className=\"list-inline-item\">\r\n                    <a className=\"cursor\" tooltip=\"Compare\">\r\n                      <CompareArrowsOutlinedIcon />\r\n                    </a>\r\n                  </li>\r\n                  <li className=\"list-inline-item\">\r\n                    <a className=\"cursor\" tooltip=\"Quick View\">\r\n                      <RemoveRedEyeOutlinedIcon />\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n\r\n          <div className=\"info\">\r\n            <span className=\"d-block catName\">{productData.brand}</span>\r\n            <h4\r\n              className=\"title\"\r\n              style={{ wordWrap: \"break-word\", height: 50 }}\r\n            >\r\n              <Link>{productData.name.substr(0, 50) + \"...\"}</Link>\r\n            </h4>\r\n            <Rating\r\n              name=\"half-rating-read\"\r\n              value={parseFloat(productData.star)}\r\n              precision={0.5}\r\n              readOnly\r\n            />\r\n            <div>\r\n              <span className=\"oldPrice ml-auto\">\r\n                Giá ban đầu {formatVND(productData.price)}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"d-flex align-items-center mt-3\">\r\n              <div className=\"d-flex align-items-center w-100\">\r\n                <span className=\"price text-g font-weight-bold\">\r\n                  Giá hiện tại {\" \"}\r\n                  {productData.discount\r\n                    ? formatVND(\r\n                        productData.price -\r\n                          productData.price * (productData.discount / 100)\r\n                      )\r\n                    : formatVND(productData.price)}\r\n                </span>\r\n                {/* <span className='oldPrice ml-auto'>Sale {formatPrice(productData.price)}</span> */}\r\n              </div>\r\n            </div>\r\n            <Button\r\n              className=\"w-100 transition mt-3\"\r\n              onClick={() => addToCart(productData)}\r\n            >\r\n              <ShoppingCartOutlinedIcon />\r\n              {isAdded === true ? \"Đã mua\" : \"Mua ngay\"}\r\n            </Button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}