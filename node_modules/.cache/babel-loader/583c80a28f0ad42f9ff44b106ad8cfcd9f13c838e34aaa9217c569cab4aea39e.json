{"ast":null,"code":"var _jsxFileName = \"/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/components/admin/Products/ProductUpload.js\",\n  _s = $RefreshSig$();\nimport Breadcrumbs from \"@mui/material/Breadcrumbs\";\nimport HomeIcon from \"@mui/icons-material/Home\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { emphasize, styled } from \"@mui/material/styles\";\nimport Chip from \"@mui/material/Chip\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport { useEffect, useState, useCallback, useRef } from \"react\";\nimport Rating from \"@mui/material/Rating\";\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\nimport { Icon } from \"@mui/material\";\nimport Button from \"@mui/material/Button\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport api from \"../../../api/api\";\nimport { useParams } from \"react-router-dom\";\nimport TurndownService from \"turndown\";\nimport Loading from \"../../../components/loading\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { normalizeFileName, convertToWords } from \"../../../utils/formart\";\nimport Markdown from \"markdown-to-jsx\";\nimport MarkdownIt from \"markdown-it\";\n\n//breadcrumb code\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledBreadcrumb = styled(Chip)(({\n  theme\n}) => {\n  const backgroundColor = theme.palette.mode === \"light\" ? theme.palette.grey[100] : theme.palette.grey[800];\n  return {\n    backgroundColor,\n    height: theme.spacing(3),\n    color: theme.palette.text.primary,\n    fontWeight: theme.typography.fontWeightRegular,\n    \"&:hover, &:focus\": {\n      backgroundColor: emphasize(backgroundColor, 0.06)\n    },\n    \"&:active\": {\n      boxShadow: theme.shadows[1],\n      backgroundColor: emphasize(backgroundColor, 0.12)\n    }\n  };\n});\n_c = StyledBreadcrumb;\nconst ProductUpload = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const turndownService = new TurndownService();\n  const md = new MarkdownIt();\n  const reactQuillRef = useRef();\n  const [name, setName] = useState(\"\");\n  const [dataCategory, setdataCategory] = useState();\n  const [brand, setBrand] = useState(\"\");\n  const [quantity, setQuantity] = useState(0);\n  const [discount, setDiscount] = useState(0);\n  const [price, setPrice] = useState(0);\n  const [ratingsValue, setRatingValue] = useState(1);\n  const [description, setDescription] = useState(\"\");\n  const [selectedCategoryOption, setSelectedCategoryOption] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [inputColor, setInputColor] = useState(\"\");\n  const [inputSize, setInputSize] = useState(\"\");\n  const [sizeValue, setSizeValue] = useState([]);\n  const [colorValue, setColorValue] = useState([]);\n  const [array_img, setArray_Img] = useState();\n  const [formFields, setFormFields] = useState({\n    color: [],\n    size: [],\n    url: []\n  });\n  const url = \"http://192.168.10.110:6969/v1\";\n  const baseURL = \"http://192.168.10.110:6969/images/\";\n  const UrlIMG = \"http://192.168.10.110:6969\";\n  const getDataCate = async () => {\n    try {\n      const responsive = await api.get(`${url}/categori/`);\n      if (responsive.data.status === true) {\n        setdataCategory(responsive.data.data);\n      }\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  };\n  useEffect(() => {\n    getDataCate();\n  }, [id]);\n  useEffect(() => {\n    dataProducts();\n  }, [id]);\n  const dataProducts = async () => {\n    const products = await api.get(`${url}/shose/${id}`);\n    const dataProduct = products.data.data;\n    const arr_img = products.data.imgShose.map(img => img.images).flat();\n    const initialImagesWithURLs = arr_img.map(name => ({\n      url: `${baseURL}${name}`,\n      name\n    }));\n\n    // console.log(\"dataProduct\", dataProduct.parentCategory._id);\n    setArray_Img(products.data.imgShose);\n    setName(dataProduct.name);\n    setDiscount(dataProduct.discount);\n    setBrand(dataProduct.brand);\n    setQuantity(dataProduct.quantity);\n    setPrice(dataProduct.price);\n    setColorValue(dataProduct.color);\n    setSizeValue(dataProduct.size);\n    setImages(initialImagesWithURLs);\n    setSelectedCategoryOption(dataProduct.parentCategory ? dataProduct.parentCategory._id : null);\n    // const htmlDescription = md.render(dataProduct.description);\n    // turndownService.turndown(description)\n\n    setDescription(dataProduct.description);\n    setFormFields(prevFields => ({\n      ...prevFields,\n      color: dataProduct.color,\n      size: dataProduct.size,\n      url: initialImagesWithURLs\n    }));\n    // console.log(\"description\", htmlDescription);\n  };\n  const handleKeyColor = e => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      if (inputColor.trim() !== \"\") {\n        const newColors = inputColor.split(\",\").map(color => color.trim()).filter(color => color !== \"\");\n        const uniqueColors = newColors.filter(i => !colorValue.includes(i));\n        setColorValue(prevColors => [...prevColors, ...uniqueColors]);\n        setInputColor(\"\");\n        setFormFields(prevFields => ({\n          ...prevFields,\n          color: [...new Set([...prevFields.color, ...uniqueColors])]\n        }));\n      }\n    }\n  };\n  const removeColor = index => {\n    setColorValue(prevColors => prevColors.filter((_, i) => i !== index));\n    setFormFields(prevFields => ({\n      ...prevFields,\n      color: prevFields.color.filter((_, i) => i !== index)\n    }));\n  };\n\n  // size\n  const handleKeySize = e => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      if (inputSize.trim() !== \"\") {\n        const newSize = inputSize.split(\",\").map(size => size.trim()).filter(size => size !== \"\");\n        const uniqueSize = newSize.filter(i => !sizeValue.includes(i));\n        setSizeValue(prev => [...prev, ...uniqueSize]);\n        setFormFields(prevFields => ({\n          ...prevFields,\n          size: [...new Set([...prevFields.size, ...uniqueSize])]\n        }));\n        setInputSize(\"\");\n      }\n    }\n  };\n\n  // Hàm để xóa màu khỏi mảng colors\n  const removeSize = index => {\n    setSizeValue(prev => prev.filter((_, i) => i !== index));\n    setFormFields(prevFields => ({\n      ...prevFields,\n      size: prevFields.size.filter((_, i) => i !== index)\n    }));\n  };\n  const onChangeImages = e => {\n    const files = Array.from(e.target.files);\n    const newImagesWithRenamed = files.map(file => {\n      const renamedFile = new File([file], normalizeFileName(file.name), {\n        type: file.type\n      });\n      return renamedFile;\n    });\n    // console.log('New image name:',newImagesWithRenamed);\n    const newImages = newImagesWithRenamed.filter(file => !images.some(image => image.name === file.name));\n    const newImagesWithURLs = newImages.map(file => ({\n      url: `${baseURL}${file.name}`,\n      name: file.name\n    }));\n    setImages(prevImages => [...prevImages, ...newImagesWithURLs]);\n    setFormFields(prevFields => ({\n      ...prevFields,\n      url: [...prevFields.url, ...newImagesWithURLs]\n    }));\n  };\n  const handleRemoveImage = index => {\n    setImages(prevImages => prevImages.filter((_, i) => i !== index));\n    setFormFields(prevFields => ({\n      ...prevFields,\n      url: formFields.url.filter((_, i) => i !== index)\n    }));\n  };\n  const upfile = async () => {\n    const formData = new FormData();\n    // Thêm các file từ formFields.url vào FormData\n    formFields.url.forEach(image => {\n      formData.append(\"files\", image);\n    });\n    try {\n      const response = await api.post(`${url}/uploads`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      return response.status;\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n    }\n  };\n  const updateImg = async idProduct => {\n    try {\n      const response = await api.put(`${url}/imgshose/${idProduct}`, {\n        images: formFields.url.slice(1).map(image => image.name)\n      });\n      return response.status;\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n    }\n  };\n  // console.log(\"Upload\",formFields)\n  // console.log(\"formFields.url\",formFields.url.slice(1).map((image) => image.name))\n\n  const submitForm = async e => {\n    e.preventDefault();\n    if (name === \"\") {\n      return window.alert(\"Please input name enter\");\n    }\n    if (brand === \"\") {\n      return window.alert(\"Please input brand enter\");\n    }\n    if (quantity === 0) {\n      return window.alert(\"Please input quantity enter\");\n    }\n    if (colorValue.length === 0) {\n      return window.alert(\"Please input color enter\");\n    }\n    if (images.length === 0) {\n      return window.alert(\"Please input images enter\");\n    }\n    if (sizeValue.length === 0) {\n      return window.alert(\"Please input size enter\");\n    }\n    if (selectedCategoryOption === \"\") {\n      return window.alert(\"Please input dataCategory enter\");\n    }\n    try {\n      setIsLoading(true);\n      const file = await upfile();\n      const jsonData = {\n        parentCategory: selectedCategoryOption,\n        name: name,\n        brand: brand,\n        price: price,\n        quantity: parseInt(quantity),\n        discount: parseFloat(discount !== 0 ? discount : 0),\n        color: formFields.color.filter(color => color.trim() !== \"\"),\n        description: description,\n        size: formFields.size.filter(color => color.trim() !== \"\"),\n        imageUrl: formFields.url[0].name\n      };\n      console.log(\"jsonData\", jsonData);\n      console.log(\"color\", jsonData.color);\n      console.log(\"description\", jsonData.description);\n      console.log(\"imageUrl\", jsonData.imageUrl);\n      console.log(\"parentCategory\", jsonData.parentCategory);\n      const response = await api.put(`${url}/shose/${id}`, jsonData, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (response.data.status === true) {\n        const img = await updateImg(id);\n        if (img === 200) {\n          window.alert(\"Cập nhật sản phẩm thành công\");\n          navigate('/products');\n        } else {\n          window.alert(\"Error\");\n        }\n      }\n      // console.log(response.data);\n    } catch (error) {\n      console.error(\"Cấu hình lỗi:\", error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const decodeHTML = html => {\n    const txt = document.createElement(\"textarea\");\n    txt.innerHTML = html;\n    return txt.value;\n  };\n  const handleFileUpload = async (file, endpoint) => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const response = await fetch(`${url}${endpoint}`, {\n      method: \"POST\",\n      body: formData\n    });\n    if (response.ok) {\n      const data = await response.json();\n      return data.url;\n    } else {\n      throw new Error(\"Failed to upload file\");\n    }\n  };\n  const imageHandler = useCallback(() => {\n    const input = document.createElement(\"input\");\n    input.setAttribute(\"type\", \"file\");\n    input.setAttribute(\"accept\", \"image/*\");\n    input.setAttribute(\"multiple\", true);\n    input.click();\n    input.onchange = async () => {\n      if (input.files !== null && input.files.length > 0) {\n        const file = input.files[0];\n        const renamedFile = new File([file], normalizeFileName(file.name), {\n          type: file.type\n        });\n        // Đọc ảnh và hiển thị ngay lập tức\n        const reader = new FileReader();\n        reader.onload = () => {\n          const dataURL = reader.result;\n          const quill = reactQuillRef.current.getEditor();\n          const cursorPosition = quill.getSelection().index || 0;\n          quill.insertEmbed(cursorPosition, \"image\", dataURL, \"user\");\n          // Tải ảnh lên server và thay thế base64 bằng URL\n          handleFileUpload(renamedFile, \"/upload-image\").then(Purl => {\n            console.log('Purl', Purl);\n            const editor = quill.root;\n            const images = editor.getElementsByTagName(\"img\");\n            for (let i = 0; i < images.length; i++) {\n              if (images[i].src === dataURL) {\n                images[i].src = UrlIMG + Purl;\n                break;\n              }\n            }\n          }).catch(error => {\n            console.error(\"Error uploading image:\", error);\n            // Tìm và xóa ảnh base64 đã chèn\n            const editor = quill.root;\n            const images = editor.getElementsByTagName(\"img\");\n            for (let i = 0; i < images.length; i++) {\n              if (images[i].src === dataURL) {\n                images[i].parentNode.removeChild(images[i]);\n                break;\n              }\n            }\n            alert(\"Lỗi update ảnh.\");\n          });\n        };\n        reader.readAsDataURL(renamedFile);\n      }\n    };\n  }, [reactQuillRef]);\n  const videoHandler = useCallback(() => {\n    const url = prompt(\"Please enter the video URL (YouTube, TikTok) or choose a file to upload:\");\n    if (url) {\n      let embedUrl = \"\";\n      if (url.includes(\"youtube.com\") || url.includes(\"youtu.be\")) {\n        var _url$split$;\n        const videoId = ((_url$split$ = url.split(\"v=\")[1]) === null || _url$split$ === void 0 ? void 0 : _url$split$.split(\"&\")[0]) || url.split(\"/\").pop();\n        embedUrl = `https://www.youtube.com/embed/${videoId}`;\n      } else if (url.includes(\"tiktok.com\")) {\n        var _url$split$2;\n        const videoId = (_url$split$2 = url.split(\"/video/\")[1]) === null || _url$split$2 === void 0 ? void 0 : _url$split$2.split(\"?\")[0];\n        embedUrl = `https://www.tiktok.com/embed/v2/${videoId}`;\n      } else {\n        alert(\"Invalid URL format. Please enter a valid YouTube or TikTok URL.\");\n        return;\n      }\n      const range = reactQuillRef.current.getEditor().getSelection();\n      reactQuillRef.current.getEditor().insertEmbed(range.index, \"video\", embedUrl);\n    } else {\n      const input = document.createElement(\"input\");\n      input.setAttribute(\"type\", \"file\");\n      input.setAttribute(\"accept\", \"video/*\");\n      input.click();\n      input.onchange = async () => {\n        const file = input.files[0];\n        const renamedFile = new File([file], normalizeFileName(file.name), {\n          type: file.type\n        });\n        // console.log(\"Uploading video\", file);\n        try {\n          // Handle the video file upload\n          const PathUrl = await handleFileUpload(renamedFile, \"/upload-video\");\n          const range = reactQuillRef.current.getEditor().getSelection();\n          reactQuillRef.current.getEditor().insertEmbed(range.index, \"video\", `${UrlIMG}/video` + PathUrl);\n        } catch (error) {\n          alert(\"Error uploading video.\");\n          console.error(\"Error uploading video:\", error);\n        }\n      };\n    }\n  }, [reactQuillRef]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-content w-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card shadow border-0 w-100 flex-row p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: \"Product Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Breadcrumbs, {\n          \"aria-label\": \"breadcrumb\",\n          className: \"ml-auto breadcrumbs_\",\n          children: [/*#__PURE__*/_jsxDEV(StyledBreadcrumb, {\n            component: \"a\",\n            href: \"#\",\n            label: \"Dashboard\",\n            icon: /*#__PURE__*/_jsxDEV(HomeIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledBreadcrumb, {\n            component: \"a\",\n            label: \"Products\",\n            href: \"#\",\n            deleteIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledBreadcrumb, {\n            label: \"Product Upload\",\n            deleteIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row22\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form\",\n          onSubmit: submitForm,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"mb-4\",\n                  children: \"Product Information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \"Name Product\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 481,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"nameProduct\",\n                    value: name,\n                    onChange: e => setName(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 482,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \" Category Option\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 490,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    name: \"options\",\n                    value: selectedCategoryOption,\n                    onChange: e => setSelectedCategoryOption(e.target.value),\n                    className: \"form-control\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"--Please choose an option--\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 499,\n                      columnNumber: 23\n                    }, this), dataCategory !== undefined && dataCategory.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: `${category._id}`,\n                      children: category.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 27\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: \"Discount\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 512,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        name: \"discount\",\n                        value: discount,\n                        onChange: e => setDiscount(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 513,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 511,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 510,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: \"Brand\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 524,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"brand\",\n                        value: brand,\n                        onChange: e => setBrand(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 525,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 523,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 522,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 509,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: \"Quantity\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 538,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"number\",\n                        name: \"quantity\",\n                        value: quantity,\n                        onChange: e => setQuantity(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 539,\n                        columnNumber: 25\n                      }, this), quantity && !isNaN(parseInt(quantity)) && /*#__PURE__*/_jsxDEV(\"p\", {\n                        style: {\n                          color: \"red\"\n                        },\n                        children: convertToWords(parseInt(quantity))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 546,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 537,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 536,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: \"Price \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 555,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        value: price,\n                        name: \"price\",\n                        onChange: e => setPrice(e.target.value)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 556,\n                        columnNumber: 25\n                      }, this), price && !isNaN(parseInt(price)) && /*#__PURE__*/_jsxDEV(\"p\", {\n                        style: {\n                          color: \"red\"\n                        },\n                        children: convertToWords(parseInt(price))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 563,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \"Color\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 572,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: \"flex\",\n                      flexWrap: \"wrap\",\n                      border: \"1px solid #ccc\",\n                      padding: \"5px\",\n                      borderRadius: \"4px\"\n                    },\n                    children: [colorValue.map((color, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        margin: \"2px\",\n                        padding: \"2px 5px\",\n                        background: `${color}`,\n                        borderRadius: \"3px\",\n                        border: \"1px solid #ccc\"\n                      },\n                      children: [color, /*#__PURE__*/_jsxDEV(Icon, {\n                        component: CloseIcon,\n                        sx: {\n                          marginLeft: 3,\n                          height: 20\n                        },\n                        onClick: () => removeColor(index)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 596,\n                        columnNumber: 27\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 583,\n                      columnNumber: 25\n                    }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n                      name: \"color\",\n                      type: \"text\",\n                      value: inputColor,\n                      onChange: e => setInputColor(e.target.value),\n                      onKeyPress: handleKeyColor,\n                      placeholder: \"Please enter data, separated by commas, then press enter: green,red,blue,...\",\n                      style: {\n                        border: \"none\",\n                        outline: \"none\",\n                        flexGrow: 1,\n                        minWidth: \"100px\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 603,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 573,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 618,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: \"Size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    flexWrap: \"wrap\",\n                    border: \"1px solid #ccc\",\n                    padding: \"5px\",\n                    borderRadius: \"4px\"\n                  },\n                  children: [sizeValue.map((size, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      margin: \"2px\",\n                      padding: \"2px 5px\",\n                      background: `#f0f0f0`,\n                      borderRadius: \"3px\",\n                      border: \"1px solid #ccc\"\n                    },\n                    children: [size, /*#__PURE__*/_jsxDEV(Icon, {\n                      component: CloseIcon,\n                      sx: {\n                        marginLeft: 3,\n                        height: 20\n                      },\n                      onClick: () => removeSize(index)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 644,\n                      columnNumber: 25\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 631,\n                    columnNumber: 23\n                  }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n                    name: \"size\",\n                    type: \"text\",\n                    value: inputSize,\n                    onChange: e => setInputSize(e.target.value),\n                    onKeyPress: handleKeySize,\n                    placeholder: \"Please enter data, separated by commas, then press enter: XL,XX,XS,S,L,SM\",\n                    style: {\n                      border: \"none\",\n                      outline: \"none\",\n                      flexGrow: 1,\n                      minWidth: \"100px\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 651,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \"Upload Image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 669,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    accept: \"image/*\",\n                    onChange: onChangeImages,\n                    className: \"form-control\",\n                    multiple: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 670,\n                    columnNumber: 21\n                  }, this), images !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"image-list\",\n                    style: {\n                      display: \"flex\",\n                      flexWrap: \"wrap\"\n                    },\n                    children: images.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"image-item\",\n                      style: {\n                        position: \"relative\",\n                        margin: 5\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        className: \"img-preview\",\n                        style: {\n                          height: 100,\n                          width: 100\n                        },\n                        src: image.url,\n                        alt: `Image ${index}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 688,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(Icon, {\n                        component: CloseIcon,\n                        sx: {\n                          position: \"absolute\",\n                          top: 5,\n                          right: 5,\n                          cursor: \"pointer\"\n                        },\n                        onClick: () => handleRemoveImage(index)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 694,\n                        columnNumber: 29\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 683,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 678,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 668,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  id: \"editor-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \"Depscription\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 711,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      height: \"auto\",\n                      marginBottom: \"50px\"\n                    },\n                    children: /*#__PURE__*/_jsxDEV(ReactQuill, {\n                      ref: reactQuillRef,\n                      theme: \"snow\",\n                      style: {\n                        height: \"100%\",\n                        width: \"100%\"\n                      },\n                      value: description,\n                      placeholder: \"Ch\\xFA \\xFD : Khi th\\xEAm youtube th\\xEC d\\xF9ng iframe src=https://www.youtube.com/embed/+ m\\xE3 tr\\xEAn youtube \",\n                      onChange: setDescription,\n                      modules: {\n                        toolbar: {\n                          container: [[{\n                            header: \"1\"\n                          }, {\n                            header: \"2\"\n                          }, {\n                            font: []\n                          }], [{\n                            size: []\n                          }], [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"], [{\n                            list: \"ordered\"\n                          }, {\n                            list: \"bullet\"\n                          }, {\n                            indent: \"-1\"\n                          }, {\n                            indent: \"+1\"\n                          }], [\"link\", \"image\", \"video\"], [\"code-block\"], [\"clean\"]],\n                          handlers: {\n                            image: imageHandler,\n                            video: videoHandler\n                          }\n                        },\n                        clipboard: {\n                          matchVisual: false\n                        }\n                      },\n                      formats: [\"header\", \"font\", \"size\", \"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\", \"list\", \"bullet\", \"indent\", \"link\", \"image\", \"video\", \"code-block\"]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 713,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 712,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 710,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 772,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  className: \"btn-blue btn-lg btn-big\",\n                  children: [/*#__PURE__*/_jsxDEV(FaCloudUploadAlt, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 775,\n                    columnNumber: 21\n                  }, this), \" \\xA0 UPDATE TO VIEW\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 774,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-preview-container\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form-preview\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"HTML Preview depscription:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 784,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              dangerouslySetInnerHTML: {\n                __html: decodeHTML(description)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 785,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 783,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 782,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(ProductUpload, \"HzsNAMx2Zu5sB7HBbbIuoV8gH0o=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c2 = ProductUpload;\nexport default ProductUpload;\nvar _c, _c2;\n$RefreshReg$(_c, \"StyledBreadcrumb\");\n$RefreshReg$(_c2, \"ProductUpload\");","map":{"version":3,"names":["Breadcrumbs","HomeIcon","ExpandMoreIcon","emphasize","styled","Chip","MenuItem","Select","useEffect","useState","useCallback","useRef","Rating","FaCloudUploadAlt","Icon","Button","CloseIcon","api","useParams","TurndownService","Loading","ReactQuill","useNavigate","normalizeFileName","convertToWords","Markdown","MarkdownIt","jsxDEV","_jsxDEV","Fragment","_Fragment","StyledBreadcrumb","theme","backgroundColor","palette","mode","grey","height","spacing","color","text","primary","fontWeight","typography","fontWeightRegular","boxShadow","shadows","_c","ProductUpload","_s","id","navigate","turndownService","md","reactQuillRef","name","setName","dataCategory","setdataCategory","brand","setBrand","quantity","setQuantity","discount","setDiscount","price","setPrice","ratingsValue","setRatingValue","description","setDescription","selectedCategoryOption","setSelectedCategoryOption","images","setImages","isLoading","setIsLoading","inputColor","setInputColor","inputSize","setInputSize","sizeValue","setSizeValue","colorValue","setColorValue","array_img","setArray_Img","formFields","setFormFields","size","url","baseURL","UrlIMG","getDataCate","responsive","get","data","status","error","console","log","dataProducts","products","dataProduct","arr_img","imgShose","map","img","flat","initialImagesWithURLs","parentCategory","_id","prevFields","handleKeyColor","e","key","preventDefault","trim","newColors","split","filter","uniqueColors","i","includes","prevColors","Set","removeColor","index","_","handleKeySize","newSize","uniqueSize","prev","removeSize","onChangeImages","files","Array","from","target","newImagesWithRenamed","file","renamedFile","File","type","newImages","some","image","newImagesWithURLs","prevImages","handleRemoveImage","upfile","formData","FormData","forEach","append","response","post","headers","updateImg","idProduct","put","slice","submitForm","window","alert","length","jsonData","parseInt","parseFloat","imageUrl","message","decodeHTML","html","txt","document","createElement","innerHTML","value","handleFileUpload","endpoint","fetch","method","body","ok","json","Error","imageHandler","input","setAttribute","click","onchange","reader","FileReader","onload","dataURL","result","quill","current","getEditor","cursorPosition","getSelection","insertEmbed","then","Purl","editor","root","getElementsByTagName","src","catch","parentNode","removeChild","readAsDataURL","videoHandler","prompt","embedUrl","_url$split$","videoId","pop","_url$split$2","range","PathUrl","children","fileName","_jsxFileName","lineNumber","columnNumber","className","component","href","label","icon","fontSize","deleteIcon","onSubmit","onChange","undefined","category","isNaN","style","display","flexWrap","border","padding","borderRadius","alignItems","margin","background","sx","marginLeft","onClick","onKeyPress","placeholder","outline","flexGrow","minWidth","accept","multiple","position","width","alt","top","right","cursor","marginBottom","ref","modules","toolbar","container","header","font","list","indent","handlers","video","clipboard","matchVisual","formats","dangerouslySetInnerHTML","__html","_c2","$RefreshReg$"],"sources":["/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/components/admin/Products/ProductUpload.js"],"sourcesContent":["import Breadcrumbs from \"@mui/material/Breadcrumbs\";\r\nimport HomeIcon from \"@mui/icons-material/Home\";\r\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\r\nimport { emphasize, styled } from \"@mui/material/styles\";\r\nimport Chip from \"@mui/material/Chip\";\r\n\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport Select from \"@mui/material/Select\";\r\nimport { useEffect, useState, useCallback, useRef } from \"react\";\r\nimport Rating from \"@mui/material/Rating\";\r\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\r\nimport { Icon } from \"@mui/material\";\r\nimport Button from \"@mui/material/Button\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport api from \"../../../api/api\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport TurndownService from \"turndown\";\r\nimport Loading from \"../../../components/loading\";\r\n\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { normalizeFileName, convertToWords } from \"../../../utils/formart\";\r\nimport Markdown from \"markdown-to-jsx\";\r\nimport MarkdownIt from \"markdown-it\";\r\n\r\n//breadcrumb code\r\nconst StyledBreadcrumb = styled(Chip)(({ theme }) => {\r\n  const backgroundColor =\r\n    theme.palette.mode === \"light\"\r\n      ? theme.palette.grey[100]\r\n      : theme.palette.grey[800];\r\n  return {\r\n    backgroundColor,\r\n    height: theme.spacing(3),\r\n    color: theme.palette.text.primary,\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n    \"&:hover, &:focus\": {\r\n      backgroundColor: emphasize(backgroundColor, 0.06),\r\n    },\r\n    \"&:active\": {\r\n      boxShadow: theme.shadows[1],\r\n      backgroundColor: emphasize(backgroundColor, 0.12),\r\n    },\r\n  };\r\n});\r\n\r\nconst ProductUpload = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const turndownService = new TurndownService();\r\n  const md = new MarkdownIt();\r\n  const reactQuillRef = useRef();\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [dataCategory, setdataCategory] = useState();\r\n  const [brand, setBrand] = useState(\"\");\r\n  const [quantity, setQuantity] = useState(0);\r\n  const [discount, setDiscount] = useState(0);\r\n\r\n  const [price, setPrice] = useState(0);\r\n\r\n  const [ratingsValue, setRatingValue] = useState(1);\r\n\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const [selectedCategoryOption, setSelectedCategoryOption] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [inputColor, setInputColor] = useState(\"\");\r\n  const [inputSize, setInputSize] = useState(\"\");\r\n\r\n  const [sizeValue, setSizeValue] = useState([]);\r\n  const [colorValue, setColorValue] = useState([]);\r\n  const [array_img, setArray_Img] = useState();\r\n\r\n  const [formFields, setFormFields] = useState({\r\n    color: [],\r\n    size: [],\r\n    url: [],\r\n  });\r\n  const url = \"http://192.168.10.110:6969/v1\";\r\n  const baseURL = \"http://192.168.10.110:6969/images/\";\r\n  const UrlIMG = \"http://192.168.10.110:6969\";\r\n\r\n  const getDataCate = async () => {\r\n    try {\r\n      const responsive = await api.get(`${url}/categori/`);\r\n      if (responsive.data.status === true) {\r\n        setdataCategory(responsive.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.log(\"error\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getDataCate();\r\n  }, [id]);\r\n  useEffect(() => {\r\n    dataProducts();\r\n  }, [id]);\r\n\r\n  const dataProducts = async () => {\r\n    const products = await api.get(`${url}/shose/${id}`);\r\n    const dataProduct = products.data.data;\r\n    const arr_img = products.data.imgShose.map((img) => img.images).flat();\r\n    const initialImagesWithURLs = arr_img.map((name) => ({\r\n      url: `${baseURL}${name}`,\r\n      name,\r\n    }));\r\n\r\n    // console.log(\"dataProduct\", dataProduct.parentCategory._id);\r\n    setArray_Img(products.data.imgShose);\r\n\r\n    setName(dataProduct.name);\r\n    setDiscount(dataProduct.discount);\r\n    setBrand(dataProduct.brand);\r\n    setQuantity(dataProduct.quantity);\r\n    setPrice(dataProduct.price);\r\n    setColorValue(dataProduct.color);\r\n    setSizeValue(dataProduct.size);\r\n    setImages(initialImagesWithURLs);\r\n    setSelectedCategoryOption(\r\n      dataProduct.parentCategory ? dataProduct.parentCategory._id : null\r\n    );\r\n    // const htmlDescription = md.render(dataProduct.description);\r\n    // turndownService.turndown(description)\r\n\r\n    setDescription(dataProduct.description);\r\n    setFormFields((prevFields) => ({\r\n      ...prevFields,\r\n      color: dataProduct.color,\r\n      size: dataProduct.size,\r\n      url: initialImagesWithURLs,\r\n    }));\r\n    // console.log(\"description\", htmlDescription);\r\n  };\r\n\r\n  const handleKeyColor = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      if (inputColor.trim() !== \"\") {\r\n        const newColors = inputColor\r\n          .split(\",\")\r\n          .map((color) => color.trim())\r\n          .filter((color) => color !== \"\");\r\n\r\n        const uniqueColors = newColors.filter((i) => !colorValue.includes(i));\r\n\r\n        setColorValue((prevColors) => [...prevColors, ...uniqueColors]);\r\n        setInputColor(\"\");\r\n        setFormFields((prevFields) => ({\r\n          ...prevFields,\r\n          color: [...new Set([...prevFields.color, ...uniqueColors])],\r\n        }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const removeColor = (index) => {\r\n    setColorValue((prevColors) => prevColors.filter((_, i) => i !== index));\r\n    setFormFields((prevFields) => ({\r\n      ...prevFields,\r\n      color: prevFields.color.filter((_, i) => i !== index),\r\n    }));\r\n  };\r\n\r\n  // size\r\n  const handleKeySize = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      e.preventDefault();\r\n      if (inputSize.trim() !== \"\") {\r\n        const newSize = inputSize\r\n          .split(\",\")\r\n          .map((size) => size.trim())\r\n          .filter((size) => size !== \"\");\r\n\r\n        const uniqueSize = newSize.filter((i) => !sizeValue.includes(i));\r\n\r\n        setSizeValue((prev) => [...prev, ...uniqueSize]);\r\n        setFormFields((prevFields) => ({\r\n          ...prevFields,\r\n          size: [...new Set([...prevFields.size, ...uniqueSize])],\r\n        }));\r\n        setInputSize(\"\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // Hàm để xóa màu khỏi mảng colors\r\n  const removeSize = (index) => {\r\n    setSizeValue((prev) => prev.filter((_, i) => i !== index));\r\n    setFormFields((prevFields) => ({\r\n      ...prevFields,\r\n      size: prevFields.size.filter((_, i) => i !== index),\r\n    }));\r\n  };\r\n  const onChangeImages = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    const newImagesWithRenamed = files.map((file) => {\r\n      const renamedFile = new File([file], normalizeFileName(file.name), {\r\n        type: file.type,\r\n      });\r\n      return renamedFile;\r\n    });\r\n    // console.log('New image name:',newImagesWithRenamed);\r\n    const newImages = newImagesWithRenamed.filter(\r\n      (file) => !images.some((image) => image.name === file.name)\r\n    );\r\n\r\n    const newImagesWithURLs = newImages.map((file) => ({\r\n      url: `${baseURL}${file.name}`,\r\n      name:file.name,\r\n    }));\r\n\r\n    setImages((prevImages) => [...prevImages, ...newImagesWithURLs]);\r\n    setFormFields((prevFields) => ({\r\n      ...prevFields,\r\n      url: [...prevFields.url, ...newImagesWithURLs],\r\n    }));\r\n  };\r\n\r\n  const handleRemoveImage = (index) => {\r\n    setImages((prevImages) => prevImages.filter((_, i) => i !== index));\r\n    setFormFields((prevFields) => ({\r\n      ...prevFields,\r\n      url: formFields.url.filter((_, i) => i !== index),\r\n    }));\r\n  };\r\n\r\n  const upfile = async () => {\r\n    const formData = new FormData();\r\n    // Thêm các file từ formFields.url vào FormData\r\n    formFields.url.forEach((image) => {\r\n      formData.append(\"files\", image);\r\n    });\r\n    try {\r\n      const response = await api.post(`${url}/uploads`, formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      });\r\n      return response.status;\r\n    } catch (error) {\r\n      console.error(\"Upload failed\", error);\r\n    }\r\n  };\r\n  const updateImg = async (idProduct) => {\r\n    try {\r\n      const response = await api.put(`${url}/imgshose/${idProduct}`, {\r\n        images: formFields.url.slice(1).map((image) => image.name),\r\n      });\r\n      return response.status;\r\n    } catch (error) {\r\n      console.error(\"Upload failed\", error);\r\n    }\r\n  };\r\n  // console.log(\"Upload\",formFields)\r\n  // console.log(\"formFields.url\",formFields.url.slice(1).map((image) => image.name))\r\n\r\n  const submitForm = async (e) => {\r\n    e.preventDefault();\r\n    if (name === \"\") {\r\n      return window.alert(\"Please input name enter\");\r\n    }\r\n    if (brand === \"\") {\r\n      return window.alert(\"Please input brand enter\");\r\n    }\r\n    if (quantity === 0) {\r\n      return window.alert(\"Please input quantity enter\");\r\n    }\r\n    if (colorValue.length === 0) {\r\n      return window.alert(\"Please input color enter\");\r\n    }\r\n    if (images.length === 0) {\r\n      return window.alert(\"Please input images enter\");\r\n    }\r\n    if (sizeValue.length === 0) {\r\n      return window.alert(\"Please input size enter\");\r\n    }\r\n    if (selectedCategoryOption === \"\") {\r\n      return window.alert(\"Please input dataCategory enter\");\r\n    }\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      const file = await upfile();\r\n\r\n      const jsonData = {\r\n        parentCategory: selectedCategoryOption,\r\n        name: name,\r\n        brand: brand,\r\n        price: price,\r\n        quantity: parseInt(quantity),\r\n        discount: parseFloat(discount !== 0 ? discount : 0),\r\n        color: formFields.color.filter((color) => color.trim() !== \"\"),\r\n        description: description,\r\n        size: formFields.size.filter((color) => color.trim() !== \"\"),\r\n        imageUrl: formFields.url[0].name,\r\n      };\r\n      console.log(\"jsonData\", jsonData);\r\n      console.log(\"color\", jsonData.color);\r\n      console.log(\"description\", jsonData.description);\r\n      console.log(\"imageUrl\", jsonData.imageUrl);\r\n      console.log(\"parentCategory\", jsonData.parentCategory);\r\n      const response = await api.put(`${url}/shose/${id}`, jsonData, {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n      if (response.data.status === true) {\r\n        const img = await updateImg(id);\r\n        if (img === 200) {\r\n          window.alert(\"Cập nhật sản phẩm thành công\");\r\n          navigate('/products')\r\n        } else {\r\n          window.alert(\"Error\");\r\n        }\r\n      }\r\n      // console.log(response.data);\r\n    } catch (error) {\r\n      console.error(\"Cấu hình lỗi:\", error.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  const decodeHTML = (html) => {\r\n    const txt = document.createElement(\"textarea\");\r\n    txt.innerHTML = html;\r\n    return txt.value;\r\n  };\r\n  const handleFileUpload = async (file, endpoint) => {\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n\r\n    const response = await fetch(`${url}${endpoint}`, {\r\n      method: \"POST\",\r\n      body: formData,\r\n    });\r\n    if (response.ok) {\r\n      const data = await response.json();\r\n      return data.url;\r\n    } else {\r\n      throw new Error(\"Failed to upload file\");\r\n    }\r\n  };\r\n\r\n  const imageHandler = useCallback(() => {\r\n    const input = document.createElement(\"input\");\r\n    input.setAttribute(\"type\", \"file\");\r\n    input.setAttribute(\"accept\", \"image/*\");\r\n    input.setAttribute(\"multiple\", true);\r\n    input.click();\r\n\r\n    input.onchange = async () => {\r\n      if (input.files !== null && input.files.length > 0) {\r\n        const file = input.files[0];\r\n        const renamedFile = new File([file], normalizeFileName(file.name), { type: file.type });\r\n        // Đọc ảnh và hiển thị ngay lập tức\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n          const dataURL = reader.result;\r\n          const quill = reactQuillRef.current.getEditor();\r\n          const cursorPosition = quill.getSelection().index || 0;\r\n          quill.insertEmbed(cursorPosition, \"image\", dataURL, \"user\");\r\n          // Tải ảnh lên server và thay thế base64 bằng URL\r\n          handleFileUpload(renamedFile, \"/upload-image\")\r\n            .then((Purl) => {\r\n              console.log('Purl',Purl)\r\n              const editor = quill.root;\r\n              const images = editor.getElementsByTagName(\"img\");\r\n              for (let i = 0; i < images.length; i++) {\r\n                if (images[i].src === dataURL) {\r\n                  images[i].src = UrlIMG + Purl;\r\n                  break;\r\n                }\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              console.error(\"Error uploading image:\", error);\r\n              // Tìm và xóa ảnh base64 đã chèn\r\n              const editor = quill.root;\r\n              const images = editor.getElementsByTagName(\"img\");\r\n              for (let i = 0; i < images.length; i++) {\r\n                if (images[i].src === dataURL) {\r\n                  images[i].parentNode.removeChild(images[i]);\r\n                  break;\r\n                }\r\n              }\r\n              alert(\"Lỗi update ảnh.\");\r\n            });\r\n        };\r\n        reader.readAsDataURL(renamedFile);\r\n      }\r\n    };\r\n  }, [reactQuillRef]);\r\n\r\n  const videoHandler = useCallback(() => {\r\n    const url = prompt(\r\n      \"Please enter the video URL (YouTube, TikTok) or choose a file to upload:\"\r\n    );\r\n    if (url) {\r\n      let embedUrl = \"\";\r\n      if (url.includes(\"youtube.com\") || url.includes(\"youtu.be\")) {\r\n        const videoId =\r\n          url.split(\"v=\")[1]?.split(\"&\")[0] || url.split(\"/\").pop();\r\n        embedUrl = `https://www.youtube.com/embed/${videoId}`;\r\n      } else if (url.includes(\"tiktok.com\")) {\r\n        const videoId = url.split(\"/video/\")[1]?.split(\"?\")[0];\r\n        embedUrl = `https://www.tiktok.com/embed/v2/${videoId}`;\r\n      } else {\r\n        alert(\r\n          \"Invalid URL format. Please enter a valid YouTube or TikTok URL.\"\r\n        );\r\n        return;\r\n      }\r\n      const range = reactQuillRef.current.getEditor().getSelection();\r\n      reactQuillRef.current\r\n        .getEditor()\r\n        .insertEmbed(range.index, \"video\", embedUrl);\r\n    } else {\r\n      const input = document.createElement(\"input\");\r\n      input.setAttribute(\"type\", \"file\");\r\n      input.setAttribute(\"accept\", \"video/*\");\r\n      input.click();\r\n\r\n      input.onchange = async () => {\r\n        const file = input.files[0];\r\n        const renamedFile = new File([file], normalizeFileName(file.name), { type: file.type });\r\n        // console.log(\"Uploading video\", file);\r\n        try {\r\n          // Handle the video file upload\r\n          const PathUrl = await handleFileUpload(renamedFile, \"/upload-video\");\r\n          const range = reactQuillRef.current.getEditor().getSelection();\r\n          reactQuillRef.current\r\n            .getEditor()\r\n            .insertEmbed(range.index, \"video\", `${UrlIMG}/video` + PathUrl);\r\n        } catch (error) {\r\n          alert(\"Error uploading video.\");\r\n          console.error(\"Error uploading video:\", error);\r\n        }\r\n      };\r\n    }\r\n  }, [reactQuillRef]);\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <Loading />\r\n      ) : (\r\n      <div className=\"right-content w-100\">\r\n        <div className=\"card shadow border-0 w-100 flex-row p-4\">\r\n          <h5 className=\"mb-0\">Product Upload</h5>\r\n          <Breadcrumbs aria-label=\"breadcrumb\" className=\"ml-auto breadcrumbs_\">\r\n            <StyledBreadcrumb\r\n              component=\"a\"\r\n              href=\"#\"\r\n              label=\"Dashboard\"\r\n              icon={<HomeIcon fontSize=\"small\" />}\r\n            />\r\n\r\n            <StyledBreadcrumb\r\n              component=\"a\"\r\n              label=\"Products\"\r\n              href=\"#\"\r\n              deleteIcon={<ExpandMoreIcon />}\r\n            />\r\n            <StyledBreadcrumb\r\n              label=\"Product Upload\"\r\n              deleteIcon={<ExpandMoreIcon />}\r\n            />\r\n          </Breadcrumbs>\r\n        </div>\r\n\r\n        <div className=\"row22\">\r\n          <form className=\"form\" onSubmit={submitForm}>\r\n            <div className=\"row\">\r\n              <div className=\"col-sm\">\r\n                <div className=\"card p-4\">\r\n                  <h5 className=\"mb-4\">Product Information</h5>\r\n                  <div className=\"form-group\">\r\n                    <h6>Name Product</h6>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"nameProduct\"\r\n                      value={name}\r\n                      onChange={(e) => setName(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <h6> Category Option</h6>\r\n                    <select\r\n                      name=\"options\"\r\n                      value={selectedCategoryOption}\r\n                      onChange={(e) =>\r\n                        setSelectedCategoryOption(e.target.value)\r\n                      }\r\n                      className=\"form-control\"\r\n                    >\r\n                      <option value=\"\">--Please choose an option--</option>\r\n                      {dataCategory !== undefined &&\r\n                        dataCategory.map((category) => (\r\n                          <option value={`${category._id}`}>\r\n                            {category.name}\r\n                          </option>\r\n                        ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm\">\r\n                      <div className=\"form-group\">\r\n                        <h6>Discount</h6>\r\n                        <input\r\n                          type=\"number\"\r\n                          name=\"discount\"\r\n                          value={discount}\r\n                          onChange={(e) => setDiscount(e.target.value)}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-sm\">\r\n                      <div className=\"form-group\">\r\n                        <h6>Brand</h6>\r\n                        <input\r\n                          type=\"text\"\r\n                          name=\"brand\"\r\n                          value={brand}\r\n                          onChange={(e) => setBrand(e.target.value)}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"row\">\r\n                    <div className=\"col-sm\">\r\n                      <div className=\"form-group\">\r\n                        <h6>Quantity</h6>\r\n                        <input\r\n                          type=\"number\"\r\n                          name=\"quantity\"\r\n                          value={quantity}\r\n                          onChange={(e) => setQuantity(e.target.value)}\r\n                        />\r\n                        {quantity && !isNaN(parseInt(quantity)) && (\r\n                          <p style={{ color: \"red\" }}>\r\n                            {convertToWords(parseInt(quantity))}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"col\">\r\n                      <div className=\"form-group\">\r\n                        <h6>Price </h6>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={price}\r\n                          name=\"price\"\r\n                          onChange={(e) => setPrice(e.target.value)}\r\n                        />\r\n                        {price && !isNaN(parseInt(price)) && (\r\n                          <p style={{ color: \"red\" }}>\r\n                            {convertToWords(parseInt(price))}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <h6>Color</h6>\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flexWrap: \"wrap\",\r\n                        border: \"1px solid #ccc\",\r\n                        padding: \"5px\",\r\n                        borderRadius: \"4px\",\r\n                      }}\r\n                    >\r\n                      {colorValue.map((color, index) => (\r\n                        <span\r\n                          key={index}\r\n                          style={{\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            margin: \"2px\",\r\n                            padding: \"2px 5px\",\r\n                            background: `${color}`,\r\n                            borderRadius: \"3px\",\r\n                            border: \"1px solid #ccc\",\r\n                          }}\r\n                        >\r\n                          {color}\r\n                          <Icon\r\n                            component={CloseIcon}\r\n                            sx={{ marginLeft: 3, height: 20 }}\r\n                            onClick={() => removeColor(index)}\r\n                          />\r\n                        </span>\r\n                      ))}\r\n                      <input\r\n                        name=\"color\"\r\n                        type=\"text\"\r\n                        value={inputColor}\r\n                        onChange={(e) => setInputColor(e.target.value)}\r\n                        onKeyPress={handleKeyColor}\r\n                        placeholder=\"Please enter data, separated by commas, then press enter: green,red,blue,...\"\r\n                        style={{\r\n                          border: \"none\",\r\n                          outline: \"none\",\r\n                          flexGrow: 1,\r\n                          minWidth: \"100px\",\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <br />\r\n                  </div>\r\n                  <h6>Size</h6>\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexWrap: \"wrap\",\r\n                      border: \"1px solid #ccc\",\r\n                      padding: \"5px\",\r\n                      borderRadius: \"4px\",\r\n                    }}\r\n                  >\r\n                    {sizeValue.map((size, index) => (\r\n                      <span\r\n                        key={index}\r\n                        style={{\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                          margin: \"2px\",\r\n                          padding: \"2px 5px\",\r\n                          background: `#f0f0f0`,\r\n                          borderRadius: \"3px\",\r\n                          border: \"1px solid #ccc\",\r\n                        }}\r\n                      >\r\n                        {size}\r\n                        <Icon\r\n                          component={CloseIcon}\r\n                          sx={{ marginLeft: 3, height: 20 }}\r\n                          onClick={() => removeSize(index)}\r\n                        />\r\n                      </span>\r\n                    ))}\r\n                    <input\r\n                      name=\"size\"\r\n                      type=\"text\"\r\n                      value={inputSize}\r\n                      onChange={(e) => setInputSize(e.target.value)}\r\n                      onKeyPress={handleKeySize}\r\n                      placeholder=\"Please enter data, separated by commas, then press enter: XL,XX,XS,S,L,SM\"\r\n                      style={{\r\n                        border: \"none\",\r\n                        outline: \"none\",\r\n                        flexGrow: 1,\r\n                        minWidth: \"100px\",\r\n                      }}\r\n                    />\r\n                  </div>\r\n                  <br />\r\n\r\n                  <div className=\"form-group\">\r\n                    <h6>Upload Image</h6>\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={onChangeImages}\r\n                      className=\"form-control\"\r\n                      multiple\r\n                    />\r\n                    {images !== undefined && (\r\n                      <div\r\n                        className=\"image-list\"\r\n                        style={{ display: \"flex\", flexWrap: \"wrap\" }}\r\n                      >\r\n                        {images.map((image, index) => (\r\n                          <div\r\n                            key={index}\r\n                            className=\"image-item\"\r\n                            style={{ position: \"relative\", margin: 5 }}\r\n                          >\r\n                            <img\r\n                              className=\"img-preview\"\r\n                              style={{ height: 100, width: 100 }}\r\n                              src={image.url}\r\n                              alt={`Image ${index}`}\r\n                            />\r\n                            <Icon\r\n                              component={CloseIcon}\r\n                              sx={{\r\n                                position: \"absolute\",\r\n                                top: 5,\r\n                                right: 5,\r\n                                cursor: \"pointer\",\r\n                              }}\r\n                              onClick={() => handleRemoveImage(index)}\r\n                            />\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"form-group\" id=\"editor-container\">\r\n                    <h6>Depscription</h6>\r\n                    <div style={{ height: \"auto\", marginBottom: \"50px\" }}>\r\n                      <ReactQuill\r\n                        ref={reactQuillRef}\r\n                        theme=\"snow\"\r\n                        style={{ height: \"100%\", width: \"100%\" }}\r\n                        value={description}\r\n                        placeholder=\"Chú ý : Khi thêm youtube thì dùng iframe src=https://www.youtube.com/embed/+ mã trên youtube \"\r\n                        onChange={setDescription}\r\n                        modules={{\r\n                          toolbar: {\r\n                            container: [\r\n                              [{ header: \"1\" }, { header: \"2\" }, { font: [] }],\r\n                              [{ size: [] }],\r\n                              [\r\n                                \"bold\",\r\n                                \"italic\",\r\n                                \"underline\",\r\n                                \"strike\",\r\n                                \"blockquote\",\r\n                              ],\r\n                              [\r\n                                { list: \"ordered\" },\r\n                                { list: \"bullet\" },\r\n                                { indent: \"-1\" },\r\n                                { indent: \"+1\" },\r\n                              ],\r\n                              [\"link\", \"image\", \"video\"],\r\n                              [\"code-block\"],\r\n                              [\"clean\"],\r\n                            ],\r\n                            handlers: {\r\n                              image: imageHandler,\r\n                              video: videoHandler,\r\n                            },\r\n                          },\r\n                          clipboard: {\r\n                            matchVisual: false,\r\n                          },\r\n                        }}\r\n                        formats={[\r\n                          \"header\",\r\n                          \"font\",\r\n                          \"size\",\r\n                          \"bold\",\r\n                          \"italic\",\r\n                          \"underline\",\r\n                          \"strike\",\r\n                          \"blockquote\",\r\n                          \"list\",\r\n                          \"bullet\",\r\n                          \"indent\",\r\n                          \"link\",\r\n                          \"image\",\r\n                          \"video\",\r\n                          \"code-block\",\r\n                        ]}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <br />\r\n\r\n                  <Button type=\"submit\" className=\"btn-blue btn-lg btn-big\">\r\n                    <FaCloudUploadAlt /> &nbsp; UPDATE TO VIEW\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <br />\r\n          <div className=\"form-preview-container\">\r\n            <form className=\"form-preview\">\r\n              <h3>HTML Preview depscription:</h3>\r\n              <div\r\n                dangerouslySetInnerHTML={{ __html: decodeHTML(description) }}\r\n              />\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductUpload;\r\n"],"mappings":";;AAAA,OAAOA,WAAW,MAAM,2BAA2B;AACnD,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C,OAAOC,cAAc,MAAM,gCAAgC;AAC3D,SAASC,SAAS,EAAEC,MAAM,QAAQ,sBAAsB;AACxD,OAAOC,IAAI,MAAM,oBAAoB;AAErC,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;AAChE,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,gBAAgB,QAAQ,gBAAgB;AACjD,SAASC,IAAI,QAAQ,eAAe;AACpC,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,SAAS,MAAM,2BAA2B;AACjD,OAAOC,GAAG,MAAM,kBAAkB;AAClC,SAASC,SAAS,QAAQ,kBAAkB;AAE5C,OAAOC,eAAe,MAAM,UAAU;AACtC,OAAOC,OAAO,MAAM,6BAA6B;AAEjD,OAAOC,UAAU,MAAM,aAAa;AACpC,OAAO,iCAAiC;AACxC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,iBAAiB,EAAEC,cAAc,QAAQ,wBAAwB;AAC1E,OAAOC,QAAQ,MAAM,iBAAiB;AACtC,OAAOC,UAAU,MAAM,aAAa;;AAEpC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,MAAMC,gBAAgB,GAAG3B,MAAM,CAACC,IAAI,CAAC,CAAC,CAAC;EAAE2B;AAAM,CAAC,KAAK;EACnD,MAAMC,eAAe,GACnBD,KAAK,CAACE,OAAO,CAACC,IAAI,KAAK,OAAO,GAC1BH,KAAK,CAACE,OAAO,CAACE,IAAI,CAAC,GAAG,CAAC,GACvBJ,KAAK,CAACE,OAAO,CAACE,IAAI,CAAC,GAAG,CAAC;EAC7B,OAAO;IACLH,eAAe;IACfI,MAAM,EAAEL,KAAK,CAACM,OAAO,CAAC,CAAC,CAAC;IACxBC,KAAK,EAAEP,KAAK,CAACE,OAAO,CAACM,IAAI,CAACC,OAAO;IACjCC,UAAU,EAAEV,KAAK,CAACW,UAAU,CAACC,iBAAiB;IAC9C,kBAAkB,EAAE;MAClBX,eAAe,EAAE9B,SAAS,CAAC8B,eAAe,EAAE,IAAI;IAClD,CAAC;IACD,UAAU,EAAE;MACVY,SAAS,EAAEb,KAAK,CAACc,OAAO,CAAC,CAAC,CAAC;MAC3Bb,eAAe,EAAE9B,SAAS,CAAC8B,eAAe,EAAE,IAAI;IAClD;EACF,CAAC;AACH,CAAC,CAAC;AAACc,EAAA,GAlBGhB,gBAAgB;AAoBtB,MAAMiB,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM;IAAEC;EAAG,CAAC,GAAGhC,SAAS,CAAC,CAAC;EAC1B,MAAMiC,QAAQ,GAAG7B,WAAW,CAAC,CAAC;EAC9B,MAAM8B,eAAe,GAAG,IAAIjC,eAAe,CAAC,CAAC;EAC7C,MAAMkC,EAAE,GAAG,IAAI3B,UAAU,CAAC,CAAC;EAC3B,MAAM4B,aAAa,GAAG3C,MAAM,CAAC,CAAC;EAE9B,MAAM,CAAC4C,IAAI,EAAEC,OAAO,CAAC,GAAG/C,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACgD,YAAY,EAAEC,eAAe,CAAC,GAAGjD,QAAQ,CAAC,CAAC;EAClD,MAAM,CAACkD,KAAK,EAAEC,QAAQ,CAAC,GAAGnD,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACoD,QAAQ,EAAEC,WAAW,CAAC,GAAGrD,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACsD,QAAQ,EAAEC,WAAW,CAAC,GAAGvD,QAAQ,CAAC,CAAC,CAAC;EAE3C,MAAM,CAACwD,KAAK,EAAEC,QAAQ,CAAC,GAAGzD,QAAQ,CAAC,CAAC,CAAC;EAErC,MAAM,CAAC0D,YAAY,EAAEC,cAAc,CAAC,GAAG3D,QAAQ,CAAC,CAAC,CAAC;EAElD,MAAM,CAAC4D,WAAW,EAAEC,cAAc,CAAC,GAAG7D,QAAQ,CAAC,EAAE,CAAC;EAElD,MAAM,CAAC8D,sBAAsB,EAAEC,yBAAyB,CAAC,GAAG/D,QAAQ,CAAC,EAAE,CAAC;EACxE,MAAM,CAACgE,MAAM,EAAEC,SAAS,CAAC,GAAGjE,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACkE,SAAS,EAAEC,YAAY,CAAC,GAAGnE,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAM,CAACoE,UAAU,EAAEC,aAAa,CAAC,GAAGrE,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACsE,SAAS,EAAEC,YAAY,CAAC,GAAGvE,QAAQ,CAAC,EAAE,CAAC;EAE9C,MAAM,CAACwE,SAAS,EAAEC,YAAY,CAAC,GAAGzE,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC0E,UAAU,EAAEC,aAAa,CAAC,GAAG3E,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC4E,SAAS,EAAEC,YAAY,CAAC,GAAG7E,QAAQ,CAAC,CAAC;EAE5C,MAAM,CAAC8E,UAAU,EAAEC,aAAa,CAAC,GAAG/E,QAAQ,CAAC;IAC3C8B,KAAK,EAAE,EAAE;IACTkD,IAAI,EAAE,EAAE;IACRC,GAAG,EAAE;EACP,CAAC,CAAC;EACF,MAAMA,GAAG,GAAG,+BAA+B;EAC3C,MAAMC,OAAO,GAAG,oCAAoC;EACpD,MAAMC,MAAM,GAAG,4BAA4B;EAE3C,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAMC,UAAU,GAAG,MAAM7E,GAAG,CAAC8E,GAAG,CAAE,GAAEL,GAAI,YAAW,CAAC;MACpD,IAAII,UAAU,CAACE,IAAI,CAACC,MAAM,KAAK,IAAI,EAAE;QACnCvC,eAAe,CAACoC,UAAU,CAACE,IAAI,CAACA,IAAI,CAAC;MACvC;IACF,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC;IAC7B;EACF,CAAC;EAED1F,SAAS,CAAC,MAAM;IACdqF,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAAC3C,EAAE,CAAC,CAAC;EACR1C,SAAS,CAAC,MAAM;IACd6F,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACnD,EAAE,CAAC,CAAC;EAER,MAAMmD,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,MAAMC,QAAQ,GAAG,MAAMrF,GAAG,CAAC8E,GAAG,CAAE,GAAEL,GAAI,UAASxC,EAAG,EAAC,CAAC;IACpD,MAAMqD,WAAW,GAAGD,QAAQ,CAACN,IAAI,CAACA,IAAI;IACtC,MAAMQ,OAAO,GAAGF,QAAQ,CAACN,IAAI,CAACS,QAAQ,CAACC,GAAG,CAAEC,GAAG,IAAKA,GAAG,CAAClC,MAAM,CAAC,CAACmC,IAAI,CAAC,CAAC;IACtE,MAAMC,qBAAqB,GAAGL,OAAO,CAACE,GAAG,CAAEnD,IAAI,KAAM;MACnDmC,GAAG,EAAG,GAAEC,OAAQ,GAAEpC,IAAK,EAAC;MACxBA;IACF,CAAC,CAAC,CAAC;;IAEH;IACA+B,YAAY,CAACgB,QAAQ,CAACN,IAAI,CAACS,QAAQ,CAAC;IAEpCjD,OAAO,CAAC+C,WAAW,CAAChD,IAAI,CAAC;IACzBS,WAAW,CAACuC,WAAW,CAACxC,QAAQ,CAAC;IACjCH,QAAQ,CAAC2C,WAAW,CAAC5C,KAAK,CAAC;IAC3BG,WAAW,CAACyC,WAAW,CAAC1C,QAAQ,CAAC;IACjCK,QAAQ,CAACqC,WAAW,CAACtC,KAAK,CAAC;IAC3BmB,aAAa,CAACmB,WAAW,CAAChE,KAAK,CAAC;IAChC2C,YAAY,CAACqB,WAAW,CAACd,IAAI,CAAC;IAC9Bf,SAAS,CAACmC,qBAAqB,CAAC;IAChCrC,yBAAyB,CACvB+B,WAAW,CAACO,cAAc,GAAGP,WAAW,CAACO,cAAc,CAACC,GAAG,GAAG,IAChE,CAAC;IACD;IACA;;IAEAzC,cAAc,CAACiC,WAAW,CAAClC,WAAW,CAAC;IACvCmB,aAAa,CAAEwB,UAAU,KAAM;MAC7B,GAAGA,UAAU;MACbzE,KAAK,EAAEgE,WAAW,CAAChE,KAAK;MACxBkD,IAAI,EAAEc,WAAW,CAACd,IAAI;MACtBC,GAAG,EAAEmB;IACP,CAAC,CAAC,CAAC;IACH;EACF,CAAC;EAED,MAAMI,cAAc,GAAIC,CAAC,IAAK;IAC5B,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,EAAE;MACrBD,CAAC,CAACE,cAAc,CAAC,CAAC;MAClB,IAAIvC,UAAU,CAACwC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;QAC5B,MAAMC,SAAS,GAAGzC,UAAU,CACzB0C,KAAK,CAAC,GAAG,CAAC,CACVb,GAAG,CAAEnE,KAAK,IAAKA,KAAK,CAAC8E,IAAI,CAAC,CAAC,CAAC,CAC5BG,MAAM,CAAEjF,KAAK,IAAKA,KAAK,KAAK,EAAE,CAAC;QAElC,MAAMkF,YAAY,GAAGH,SAAS,CAACE,MAAM,CAAEE,CAAC,IAAK,CAACvC,UAAU,CAACwC,QAAQ,CAACD,CAAC,CAAC,CAAC;QAErEtC,aAAa,CAAEwC,UAAU,IAAK,CAAC,GAAGA,UAAU,EAAE,GAAGH,YAAY,CAAC,CAAC;QAC/D3C,aAAa,CAAC,EAAE,CAAC;QACjBU,aAAa,CAAEwB,UAAU,KAAM;UAC7B,GAAGA,UAAU;UACbzE,KAAK,EAAE,CAAC,GAAG,IAAIsF,GAAG,CAAC,CAAC,GAAGb,UAAU,CAACzE,KAAK,EAAE,GAAGkF,YAAY,CAAC,CAAC;QAC5D,CAAC,CAAC,CAAC;MACL;IACF;EACF,CAAC;EAED,MAAMK,WAAW,GAAIC,KAAK,IAAK;IAC7B3C,aAAa,CAAEwC,UAAU,IAAKA,UAAU,CAACJ,MAAM,CAAC,CAACQ,CAAC,EAAEN,CAAC,KAAKA,CAAC,KAAKK,KAAK,CAAC,CAAC;IACvEvC,aAAa,CAAEwB,UAAU,KAAM;MAC7B,GAAGA,UAAU;MACbzE,KAAK,EAAEyE,UAAU,CAACzE,KAAK,CAACiF,MAAM,CAAC,CAACQ,CAAC,EAAEN,CAAC,KAAKA,CAAC,KAAKK,KAAK;IACtD,CAAC,CAAC,CAAC;EACL,CAAC;;EAED;EACA,MAAME,aAAa,GAAIf,CAAC,IAAK;IAC3B,IAAIA,CAAC,CAACC,GAAG,KAAK,OAAO,EAAE;MACrBD,CAAC,CAACE,cAAc,CAAC,CAAC;MAClB,IAAIrC,SAAS,CAACsC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;QAC3B,MAAMa,OAAO,GAAGnD,SAAS,CACtBwC,KAAK,CAAC,GAAG,CAAC,CACVb,GAAG,CAAEjB,IAAI,IAAKA,IAAI,CAAC4B,IAAI,CAAC,CAAC,CAAC,CAC1BG,MAAM,CAAE/B,IAAI,IAAKA,IAAI,KAAK,EAAE,CAAC;QAEhC,MAAM0C,UAAU,GAAGD,OAAO,CAACV,MAAM,CAAEE,CAAC,IAAK,CAACzC,SAAS,CAAC0C,QAAQ,CAACD,CAAC,CAAC,CAAC;QAEhExC,YAAY,CAAEkD,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE,GAAGD,UAAU,CAAC,CAAC;QAChD3C,aAAa,CAAEwB,UAAU,KAAM;UAC7B,GAAGA,UAAU;UACbvB,IAAI,EAAE,CAAC,GAAG,IAAIoC,GAAG,CAAC,CAAC,GAAGb,UAAU,CAACvB,IAAI,EAAE,GAAG0C,UAAU,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC;QACHnD,YAAY,CAAC,EAAE,CAAC;MAClB;IACF;EACF,CAAC;;EAED;EACA,MAAMqD,UAAU,GAAIN,KAAK,IAAK;IAC5B7C,YAAY,CAAEkD,IAAI,IAAKA,IAAI,CAACZ,MAAM,CAAC,CAACQ,CAAC,EAAEN,CAAC,KAAKA,CAAC,KAAKK,KAAK,CAAC,CAAC;IAC1DvC,aAAa,CAAEwB,UAAU,KAAM;MAC7B,GAAGA,UAAU;MACbvB,IAAI,EAAEuB,UAAU,CAACvB,IAAI,CAAC+B,MAAM,CAAC,CAACQ,CAAC,EAAEN,CAAC,KAAKA,CAAC,KAAKK,KAAK;IACpD,CAAC,CAAC,CAAC;EACL,CAAC;EACD,MAAMO,cAAc,GAAIpB,CAAC,IAAK;IAC5B,MAAMqB,KAAK,GAAGC,KAAK,CAACC,IAAI,CAACvB,CAAC,CAACwB,MAAM,CAACH,KAAK,CAAC;IACxC,MAAMI,oBAAoB,GAAGJ,KAAK,CAAC7B,GAAG,CAAEkC,IAAI,IAAK;MAC/C,MAAMC,WAAW,GAAG,IAAIC,IAAI,CAAC,CAACF,IAAI,CAAC,EAAErH,iBAAiB,CAACqH,IAAI,CAACrF,IAAI,CAAC,EAAE;QACjEwF,IAAI,EAAEH,IAAI,CAACG;MACb,CAAC,CAAC;MACF,OAAOF,WAAW;IACpB,CAAC,CAAC;IACF;IACA,MAAMG,SAAS,GAAGL,oBAAoB,CAACnB,MAAM,CAC1CoB,IAAI,IAAK,CAACnE,MAAM,CAACwE,IAAI,CAAEC,KAAK,IAAKA,KAAK,CAAC3F,IAAI,KAAKqF,IAAI,CAACrF,IAAI,CAC5D,CAAC;IAED,MAAM4F,iBAAiB,GAAGH,SAAS,CAACtC,GAAG,CAAEkC,IAAI,KAAM;MACjDlD,GAAG,EAAG,GAAEC,OAAQ,GAAEiD,IAAI,CAACrF,IAAK,EAAC;MAC7BA,IAAI,EAACqF,IAAI,CAACrF;IACZ,CAAC,CAAC,CAAC;IAEHmB,SAAS,CAAE0E,UAAU,IAAK,CAAC,GAAGA,UAAU,EAAE,GAAGD,iBAAiB,CAAC,CAAC;IAChE3D,aAAa,CAAEwB,UAAU,KAAM;MAC7B,GAAGA,UAAU;MACbtB,GAAG,EAAE,CAAC,GAAGsB,UAAU,CAACtB,GAAG,EAAE,GAAGyD,iBAAiB;IAC/C,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAME,iBAAiB,GAAItB,KAAK,IAAK;IACnCrD,SAAS,CAAE0E,UAAU,IAAKA,UAAU,CAAC5B,MAAM,CAAC,CAACQ,CAAC,EAAEN,CAAC,KAAKA,CAAC,KAAKK,KAAK,CAAC,CAAC;IACnEvC,aAAa,CAAEwB,UAAU,KAAM;MAC7B,GAAGA,UAAU;MACbtB,GAAG,EAAEH,UAAU,CAACG,GAAG,CAAC8B,MAAM,CAAC,CAACQ,CAAC,EAAEN,CAAC,KAAKA,CAAC,KAAKK,KAAK;IAClD,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMuB,MAAM,GAAG,MAAAA,CAAA,KAAY;IACzB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/B;IACAjE,UAAU,CAACG,GAAG,CAAC+D,OAAO,CAAEP,KAAK,IAAK;MAChCK,QAAQ,CAACG,MAAM,CAAC,OAAO,EAAER,KAAK,CAAC;IACjC,CAAC,CAAC;IACF,IAAI;MACF,MAAMS,QAAQ,GAAG,MAAM1I,GAAG,CAAC2I,IAAI,CAAE,GAAElE,GAAI,UAAS,EAAE6D,QAAQ,EAAE;QAC1DM,OAAO,EAAE;UAAE,cAAc,EAAE;QAAsB;MACnD,CAAC,CAAC;MACF,OAAOF,QAAQ,CAAC1D,MAAM;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACvC;EACF,CAAC;EACD,MAAM4D,SAAS,GAAG,MAAOC,SAAS,IAAK;IACrC,IAAI;MACF,MAAMJ,QAAQ,GAAG,MAAM1I,GAAG,CAAC+I,GAAG,CAAE,GAAEtE,GAAI,aAAYqE,SAAU,EAAC,EAAE;QAC7DtF,MAAM,EAAEc,UAAU,CAACG,GAAG,CAACuE,KAAK,CAAC,CAAC,CAAC,CAACvD,GAAG,CAAEwC,KAAK,IAAKA,KAAK,CAAC3F,IAAI;MAC3D,CAAC,CAAC;MACF,OAAOoG,QAAQ,CAAC1D,MAAM;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACvC;EACF,CAAC;EACD;EACA;;EAEA,MAAMgE,UAAU,GAAG,MAAOhD,CAAC,IAAK;IAC9BA,CAAC,CAACE,cAAc,CAAC,CAAC;IAClB,IAAI7D,IAAI,KAAK,EAAE,EAAE;MACf,OAAO4G,MAAM,CAACC,KAAK,CAAC,yBAAyB,CAAC;IAChD;IACA,IAAIzG,KAAK,KAAK,EAAE,EAAE;MAChB,OAAOwG,MAAM,CAACC,KAAK,CAAC,0BAA0B,CAAC;IACjD;IACA,IAAIvG,QAAQ,KAAK,CAAC,EAAE;MAClB,OAAOsG,MAAM,CAACC,KAAK,CAAC,6BAA6B,CAAC;IACpD;IACA,IAAIjF,UAAU,CAACkF,MAAM,KAAK,CAAC,EAAE;MAC3B,OAAOF,MAAM,CAACC,KAAK,CAAC,0BAA0B,CAAC;IACjD;IACA,IAAI3F,MAAM,CAAC4F,MAAM,KAAK,CAAC,EAAE;MACvB,OAAOF,MAAM,CAACC,KAAK,CAAC,2BAA2B,CAAC;IAClD;IACA,IAAInF,SAAS,CAACoF,MAAM,KAAK,CAAC,EAAE;MAC1B,OAAOF,MAAM,CAACC,KAAK,CAAC,yBAAyB,CAAC;IAChD;IACA,IAAI7F,sBAAsB,KAAK,EAAE,EAAE;MACjC,OAAO4F,MAAM,CAACC,KAAK,CAAC,iCAAiC,CAAC;IACxD;IAEA,IAAI;MACFxF,YAAY,CAAC,IAAI,CAAC;MAClB,MAAMgE,IAAI,GAAG,MAAMU,MAAM,CAAC,CAAC;MAE3B,MAAMgB,QAAQ,GAAG;QACfxD,cAAc,EAAEvC,sBAAsB;QACtChB,IAAI,EAAEA,IAAI;QACVI,KAAK,EAAEA,KAAK;QACZM,KAAK,EAAEA,KAAK;QACZJ,QAAQ,EAAE0G,QAAQ,CAAC1G,QAAQ,CAAC;QAC5BE,QAAQ,EAAEyG,UAAU,CAACzG,QAAQ,KAAK,CAAC,GAAGA,QAAQ,GAAG,CAAC,CAAC;QACnDxB,KAAK,EAAEgD,UAAU,CAAChD,KAAK,CAACiF,MAAM,CAAEjF,KAAK,IAAKA,KAAK,CAAC8E,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;QAC9DhD,WAAW,EAAEA,WAAW;QACxBoB,IAAI,EAAEF,UAAU,CAACE,IAAI,CAAC+B,MAAM,CAAEjF,KAAK,IAAKA,KAAK,CAAC8E,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;QAC5DoD,QAAQ,EAAElF,UAAU,CAACG,GAAG,CAAC,CAAC,CAAC,CAACnC;MAC9B,CAAC;MACD4C,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEkE,QAAQ,CAAC;MACjCnE,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEkE,QAAQ,CAAC/H,KAAK,CAAC;MACpC4D,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEkE,QAAQ,CAACjG,WAAW,CAAC;MAChD8B,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEkE,QAAQ,CAACG,QAAQ,CAAC;MAC1CtE,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEkE,QAAQ,CAACxD,cAAc,CAAC;MACtD,MAAM6C,QAAQ,GAAG,MAAM1I,GAAG,CAAC+I,GAAG,CAAE,GAAEtE,GAAI,UAASxC,EAAG,EAAC,EAAEoH,QAAQ,EAAE;QAC7DT,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB;MAChD,CAAC,CAAC;MACF,IAAIF,QAAQ,CAAC3D,IAAI,CAACC,MAAM,KAAK,IAAI,EAAE;QACjC,MAAMU,GAAG,GAAG,MAAMmD,SAAS,CAAC5G,EAAE,CAAC;QAC/B,IAAIyD,GAAG,KAAK,GAAG,EAAE;UACfwD,MAAM,CAACC,KAAK,CAAC,8BAA8B,CAAC;UAC5CjH,QAAQ,CAAC,WAAW,CAAC;QACvB,CAAC,MAAM;UACLgH,MAAM,CAACC,KAAK,CAAC,OAAO,CAAC;QACvB;MACF;MACA;IACF,CAAC,CAAC,OAAOlE,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAACwE,OAAO,CAAC;IAC/C,CAAC,SAAS;MACR9F,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EACD,MAAM+F,UAAU,GAAIC,IAAI,IAAK;IAC3B,MAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;IAC9CF,GAAG,CAACG,SAAS,GAAGJ,IAAI;IACpB,OAAOC,GAAG,CAACI,KAAK;EAClB,CAAC;EACD,MAAMC,gBAAgB,GAAG,MAAAA,CAAOtC,IAAI,EAAEuC,QAAQ,KAAK;IACjD,MAAM5B,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACG,MAAM,CAAC,MAAM,EAAEd,IAAI,CAAC;IAE7B,MAAMe,QAAQ,GAAG,MAAMyB,KAAK,CAAE,GAAE1F,GAAI,GAAEyF,QAAS,EAAC,EAAE;MAChDE,MAAM,EAAE,MAAM;MACdC,IAAI,EAAE/B;IACR,CAAC,CAAC;IACF,IAAII,QAAQ,CAAC4B,EAAE,EAAE;MACf,MAAMvF,IAAI,GAAG,MAAM2D,QAAQ,CAAC6B,IAAI,CAAC,CAAC;MAClC,OAAOxF,IAAI,CAACN,GAAG;IACjB,CAAC,MAAM;MACL,MAAM,IAAI+F,KAAK,CAAC,uBAAuB,CAAC;IAC1C;EACF,CAAC;EAED,MAAMC,YAAY,GAAGhL,WAAW,CAAC,MAAM;IACrC,MAAMiL,KAAK,GAAGb,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;IAC7CY,KAAK,CAACC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;IAClCD,KAAK,CAACC,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC;IACvCD,KAAK,CAACC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;IACpCD,KAAK,CAACE,KAAK,CAAC,CAAC;IAEbF,KAAK,CAACG,QAAQ,GAAG,YAAY;MAC3B,IAAIH,KAAK,CAACpD,KAAK,KAAK,IAAI,IAAIoD,KAAK,CAACpD,KAAK,CAAC8B,MAAM,GAAG,CAAC,EAAE;QAClD,MAAMzB,IAAI,GAAG+C,KAAK,CAACpD,KAAK,CAAC,CAAC,CAAC;QAC3B,MAAMM,WAAW,GAAG,IAAIC,IAAI,CAAC,CAACF,IAAI,CAAC,EAAErH,iBAAiB,CAACqH,IAAI,CAACrF,IAAI,CAAC,EAAE;UAAEwF,IAAI,EAAEH,IAAI,CAACG;QAAK,CAAC,CAAC;QACvF;QACA,MAAMgD,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;QAC/BD,MAAM,CAACE,MAAM,GAAG,MAAM;UACpB,MAAMC,OAAO,GAAGH,MAAM,CAACI,MAAM;UAC7B,MAAMC,KAAK,GAAG9I,aAAa,CAAC+I,OAAO,CAACC,SAAS,CAAC,CAAC;UAC/C,MAAMC,cAAc,GAAGH,KAAK,CAACI,YAAY,CAAC,CAAC,CAACzE,KAAK,IAAI,CAAC;UACtDqE,KAAK,CAACK,WAAW,CAACF,cAAc,EAAE,OAAO,EAAEL,OAAO,EAAE,MAAM,CAAC;UAC3D;UACAhB,gBAAgB,CAACrC,WAAW,EAAE,eAAe,CAAC,CAC3C6D,IAAI,CAAEC,IAAI,IAAK;YACdxG,OAAO,CAACC,GAAG,CAAC,MAAM,EAACuG,IAAI,CAAC;YACxB,MAAMC,MAAM,GAAGR,KAAK,CAACS,IAAI;YACzB,MAAMpI,MAAM,GAAGmI,MAAM,CAACE,oBAAoB,CAAC,KAAK,CAAC;YACjD,KAAK,IAAIpF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjD,MAAM,CAAC4F,MAAM,EAAE3C,CAAC,EAAE,EAAE;cACtC,IAAIjD,MAAM,CAACiD,CAAC,CAAC,CAACqF,GAAG,KAAKb,OAAO,EAAE;gBAC7BzH,MAAM,CAACiD,CAAC,CAAC,CAACqF,GAAG,GAAGnH,MAAM,GAAG+G,IAAI;gBAC7B;cACF;YACF;UACF,CAAC,CAAC,CACDK,KAAK,CAAE9G,KAAK,IAAK;YAChBC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;YAC9C;YACA,MAAM0G,MAAM,GAAGR,KAAK,CAACS,IAAI;YACzB,MAAMpI,MAAM,GAAGmI,MAAM,CAACE,oBAAoB,CAAC,KAAK,CAAC;YACjD,KAAK,IAAIpF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjD,MAAM,CAAC4F,MAAM,EAAE3C,CAAC,EAAE,EAAE;cACtC,IAAIjD,MAAM,CAACiD,CAAC,CAAC,CAACqF,GAAG,KAAKb,OAAO,EAAE;gBAC7BzH,MAAM,CAACiD,CAAC,CAAC,CAACuF,UAAU,CAACC,WAAW,CAACzI,MAAM,CAACiD,CAAC,CAAC,CAAC;gBAC3C;cACF;YACF;YACA0C,KAAK,CAAC,iBAAiB,CAAC;UAC1B,CAAC,CAAC;QACN,CAAC;QACD2B,MAAM,CAACoB,aAAa,CAACtE,WAAW,CAAC;MACnC;IACF,CAAC;EACH,CAAC,EAAE,CAACvF,aAAa,CAAC,CAAC;EAEnB,MAAM8J,YAAY,GAAG1M,WAAW,CAAC,MAAM;IACrC,MAAMgF,GAAG,GAAG2H,MAAM,CAChB,0EACF,CAAC;IACD,IAAI3H,GAAG,EAAE;MACP,IAAI4H,QAAQ,GAAG,EAAE;MACjB,IAAI5H,GAAG,CAACiC,QAAQ,CAAC,aAAa,CAAC,IAAIjC,GAAG,CAACiC,QAAQ,CAAC,UAAU,CAAC,EAAE;QAAA,IAAA4F,WAAA;QAC3D,MAAMC,OAAO,GACX,EAAAD,WAAA,GAAA7H,GAAG,CAAC6B,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,cAAAgG,WAAA,uBAAlBA,WAAA,CAAoBhG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAI7B,GAAG,CAAC6B,KAAK,CAAC,GAAG,CAAC,CAACkG,GAAG,CAAC,CAAC;QAC3DH,QAAQ,GAAI,iCAAgCE,OAAQ,EAAC;MACvD,CAAC,MAAM,IAAI9H,GAAG,CAACiC,QAAQ,CAAC,YAAY,CAAC,EAAE;QAAA,IAAA+F,YAAA;QACrC,MAAMF,OAAO,IAAAE,YAAA,GAAGhI,GAAG,CAAC6B,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,cAAAmG,YAAA,uBAAvBA,YAAA,CAAyBnG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACtD+F,QAAQ,GAAI,mCAAkCE,OAAQ,EAAC;MACzD,CAAC,MAAM;QACLpD,KAAK,CACH,iEACF,CAAC;QACD;MACF;MACA,MAAMuD,KAAK,GAAGrK,aAAa,CAAC+I,OAAO,CAACC,SAAS,CAAC,CAAC,CAACE,YAAY,CAAC,CAAC;MAC9DlJ,aAAa,CAAC+I,OAAO,CAClBC,SAAS,CAAC,CAAC,CACXG,WAAW,CAACkB,KAAK,CAAC5F,KAAK,EAAE,OAAO,EAAEuF,QAAQ,CAAC;IAChD,CAAC,MAAM;MACL,MAAM3B,KAAK,GAAGb,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;MAC7CY,KAAK,CAACC,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;MAClCD,KAAK,CAACC,YAAY,CAAC,QAAQ,EAAE,SAAS,CAAC;MACvCD,KAAK,CAACE,KAAK,CAAC,CAAC;MAEbF,KAAK,CAACG,QAAQ,GAAG,YAAY;QAC3B,MAAMlD,IAAI,GAAG+C,KAAK,CAACpD,KAAK,CAAC,CAAC,CAAC;QAC3B,MAAMM,WAAW,GAAG,IAAIC,IAAI,CAAC,CAACF,IAAI,CAAC,EAAErH,iBAAiB,CAACqH,IAAI,CAACrF,IAAI,CAAC,EAAE;UAAEwF,IAAI,EAAEH,IAAI,CAACG;QAAK,CAAC,CAAC;QACvF;QACA,IAAI;UACF;UACA,MAAM6E,OAAO,GAAG,MAAM1C,gBAAgB,CAACrC,WAAW,EAAE,eAAe,CAAC;UACpE,MAAM8E,KAAK,GAAGrK,aAAa,CAAC+I,OAAO,CAACC,SAAS,CAAC,CAAC,CAACE,YAAY,CAAC,CAAC;UAC9DlJ,aAAa,CAAC+I,OAAO,CAClBC,SAAS,CAAC,CAAC,CACXG,WAAW,CAACkB,KAAK,CAAC5F,KAAK,EAAE,OAAO,EAAG,GAAEnC,MAAO,QAAO,GAAGgI,OAAO,CAAC;QACnE,CAAC,CAAC,OAAO1H,KAAK,EAAE;UACdkE,KAAK,CAAC,wBAAwB,CAAC;UAC/BjE,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAChD;MACF,CAAC;IACH;EACF,CAAC,EAAE,CAAC5C,aAAa,CAAC,CAAC;EAEnB,oBACE1B,OAAA,CAAAE,SAAA;IAAA+L,QAAA,EACGlJ,SAAS,gBACR/C,OAAA,CAACR,OAAO;MAAA0M,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAEbrM,OAAA;MAAKsM,SAAS,EAAC,qBAAqB;MAAAL,QAAA,gBAClCjM,OAAA;QAAKsM,SAAS,EAAC,yCAAyC;QAAAL,QAAA,gBACtDjM,OAAA;UAAIsM,SAAS,EAAC,MAAM;UAAAL,QAAA,EAAC;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxCrM,OAAA,CAAC5B,WAAW;UAAC,cAAW,YAAY;UAACkO,SAAS,EAAC,sBAAsB;UAAAL,QAAA,gBACnEjM,OAAA,CAACG,gBAAgB;YACfoM,SAAS,EAAC,GAAG;YACbC,IAAI,EAAC,GAAG;YACRC,KAAK,EAAC,WAAW;YACjBC,IAAI,eAAE1M,OAAA,CAAC3B,QAAQ;cAACsO,QAAQ,EAAC;YAAO;cAAAT,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC,eAEFrM,OAAA,CAACG,gBAAgB;YACfoM,SAAS,EAAC,GAAG;YACbE,KAAK,EAAC,UAAU;YAChBD,IAAI,EAAC,GAAG;YACRI,UAAU,eAAE5M,OAAA,CAAC1B,cAAc;cAAA4N,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChC,CAAC,eACFrM,OAAA,CAACG,gBAAgB;YACfsM,KAAK,EAAC,gBAAgB;YACtBG,UAAU,eAAE5M,OAAA,CAAC1B,cAAc;cAAA4N,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAE;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACS,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACX,CAAC,eAENrM,OAAA;QAAKsM,SAAS,EAAC,OAAO;QAAAL,QAAA,gBACpBjM,OAAA;UAAMsM,SAAS,EAAC,MAAM;UAACO,QAAQ,EAAEvE,UAAW;UAAA2D,QAAA,eAC1CjM,OAAA;YAAKsM,SAAS,EAAC,KAAK;YAAAL,QAAA,eAClBjM,OAAA;cAAKsM,SAAS,EAAC,QAAQ;cAAAL,QAAA,eACrBjM,OAAA;gBAAKsM,SAAS,EAAC,UAAU;gBAAAL,QAAA,gBACvBjM,OAAA;kBAAIsM,SAAS,EAAC,MAAM;kBAAAL,QAAA,EAAC;gBAAmB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC7CrM,OAAA;kBAAKsM,SAAS,EAAC,YAAY;kBAAAL,QAAA,gBACzBjM,OAAA;oBAAAiM,QAAA,EAAI;kBAAY;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACrBrM,OAAA;oBACEmH,IAAI,EAAC,MAAM;oBACXxF,IAAI,EAAC,aAAa;oBAClB0H,KAAK,EAAE1H,IAAK;oBACZmL,QAAQ,EAAGxH,CAAC,IAAK1D,OAAO,CAAC0D,CAAC,CAACwB,MAAM,CAACuC,KAAK;kBAAE;oBAAA6C,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1C,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC,eACNrM,OAAA;kBAAKsM,SAAS,EAAC,YAAY;kBAAAL,QAAA,gBACzBjM,OAAA;oBAAAiM,QAAA,EAAI;kBAAgB;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACzBrM,OAAA;oBACE2B,IAAI,EAAC,SAAS;oBACd0H,KAAK,EAAE1G,sBAAuB;oBAC9BmK,QAAQ,EAAGxH,CAAC,IACV1C,yBAAyB,CAAC0C,CAAC,CAACwB,MAAM,CAACuC,KAAK,CACzC;oBACDiD,SAAS,EAAC,cAAc;oBAAAL,QAAA,gBAExBjM,OAAA;sBAAQqJ,KAAK,EAAC,EAAE;sBAAA4C,QAAA,EAAC;oBAA2B;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAQ,CAAC,EACpDxK,YAAY,KAAKkL,SAAS,IACzBlL,YAAY,CAACiD,GAAG,CAAEkI,QAAQ,iBACxBhN,OAAA;sBAAQqJ,KAAK,EAAG,GAAE2D,QAAQ,CAAC7H,GAAI,EAAE;sBAAA8G,QAAA,EAC9Be,QAAQ,CAACrL;oBAAI;sBAAAuK,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACR,CACT,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACE,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN,CAAC,eAENrM,OAAA;kBAAKsM,SAAS,EAAC,KAAK;kBAAAL,QAAA,gBAClBjM,OAAA;oBAAKsM,SAAS,EAAC,QAAQ;oBAAAL,QAAA,eACrBjM,OAAA;sBAAKsM,SAAS,EAAC,YAAY;sBAAAL,QAAA,gBACzBjM,OAAA;wBAAAiM,QAAA,EAAI;sBAAQ;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,eACjBrM,OAAA;wBACEmH,IAAI,EAAC,QAAQ;wBACbxF,IAAI,EAAC,UAAU;wBACf0H,KAAK,EAAElH,QAAS;wBAChB2K,QAAQ,EAAGxH,CAAC,IAAKlD,WAAW,CAACkD,CAAC,CAACwB,MAAM,CAACuC,KAAK;sBAAE;wBAAA6C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC9C,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACC;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC,eAENrM,OAAA;oBAAKsM,SAAS,EAAC,QAAQ;oBAAAL,QAAA,eACrBjM,OAAA;sBAAKsM,SAAS,EAAC,YAAY;sBAAAL,QAAA,gBACzBjM,OAAA;wBAAAiM,QAAA,EAAI;sBAAK;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,eACdrM,OAAA;wBACEmH,IAAI,EAAC,MAAM;wBACXxF,IAAI,EAAC,OAAO;wBACZ0H,KAAK,EAAEtH,KAAM;wBACb+K,QAAQ,EAAGxH,CAAC,IAAKtD,QAAQ,CAACsD,CAAC,CAACwB,MAAM,CAACuC,KAAK;sBAAE;wBAAA6C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC3C,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACC;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eAENrM,OAAA;kBAAKsM,SAAS,EAAC,KAAK;kBAAAL,QAAA,gBAClBjM,OAAA;oBAAKsM,SAAS,EAAC,QAAQ;oBAAAL,QAAA,eACrBjM,OAAA;sBAAKsM,SAAS,EAAC,YAAY;sBAAAL,QAAA,gBACzBjM,OAAA;wBAAAiM,QAAA,EAAI;sBAAQ;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,eACjBrM,OAAA;wBACEmH,IAAI,EAAC,QAAQ;wBACbxF,IAAI,EAAC,UAAU;wBACf0H,KAAK,EAAEpH,QAAS;wBAChB6K,QAAQ,EAAGxH,CAAC,IAAKpD,WAAW,CAACoD,CAAC,CAACwB,MAAM,CAACuC,KAAK;sBAAE;wBAAA6C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC9C,CAAC,EACDpK,QAAQ,IAAI,CAACgL,KAAK,CAACtE,QAAQ,CAAC1G,QAAQ,CAAC,CAAC,iBACrCjC,OAAA;wBAAGkN,KAAK,EAAE;0BAAEvM,KAAK,EAAE;wBAAM,CAAE;wBAAAsL,QAAA,EACxBrM,cAAc,CAAC+I,QAAQ,CAAC1G,QAAQ,CAAC;sBAAC;wBAAAiK,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAClC,CACJ;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC,eAENrM,OAAA;oBAAKsM,SAAS,EAAC,KAAK;oBAAAL,QAAA,eAClBjM,OAAA;sBAAKsM,SAAS,EAAC,YAAY;sBAAAL,QAAA,gBACzBjM,OAAA;wBAAAiM,QAAA,EAAI;sBAAM;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAI,CAAC,eACfrM,OAAA;wBACEmH,IAAI,EAAC,MAAM;wBACXkC,KAAK,EAAEhH,KAAM;wBACbV,IAAI,EAAC,OAAO;wBACZmL,QAAQ,EAAGxH,CAAC,IAAKhD,QAAQ,CAACgD,CAAC,CAACwB,MAAM,CAACuC,KAAK;sBAAE;wBAAA6C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC3C,CAAC,EACDhK,KAAK,IAAI,CAAC4K,KAAK,CAACtE,QAAQ,CAACtG,KAAK,CAAC,CAAC,iBAC/BrC,OAAA;wBAAGkN,KAAK,EAAE;0BAAEvM,KAAK,EAAE;wBAAM,CAAE;wBAAAsL,QAAA,EACxBrM,cAAc,CAAC+I,QAAQ,CAACtG,KAAK,CAAC;sBAAC;wBAAA6J,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC/B,CACJ;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eAENrM,OAAA;kBAAAiM,QAAA,gBACEjM,OAAA;oBAAAiM,QAAA,EAAI;kBAAK;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACdrM,OAAA;oBACEkN,KAAK,EAAE;sBACLC,OAAO,EAAE,MAAM;sBACfC,QAAQ,EAAE,MAAM;sBAChBC,MAAM,EAAE,gBAAgB;sBACxBC,OAAO,EAAE,KAAK;sBACdC,YAAY,EAAE;oBAChB,CAAE;oBAAAtB,QAAA,GAED1I,UAAU,CAACuB,GAAG,CAAC,CAACnE,KAAK,EAAEwF,KAAK,kBAC3BnG,OAAA;sBAEEkN,KAAK,EAAE;wBACLC,OAAO,EAAE,MAAM;wBACfK,UAAU,EAAE,QAAQ;wBACpBC,MAAM,EAAE,KAAK;wBACbH,OAAO,EAAE,SAAS;wBAClBI,UAAU,EAAG,GAAE/M,KAAM,EAAC;wBACtB4M,YAAY,EAAE,KAAK;wBACnBF,MAAM,EAAE;sBACV,CAAE;sBAAApB,QAAA,GAEDtL,KAAK,eACNX,OAAA,CAACd,IAAI;wBACHqN,SAAS,EAAEnN,SAAU;wBACrBuO,EAAE,EAAE;0BAAEC,UAAU,EAAE,CAAC;0BAAEnN,MAAM,EAAE;wBAAG,CAAE;wBAClCoN,OAAO,EAAEA,CAAA,KAAM3H,WAAW,CAACC,KAAK;sBAAE;wBAAA+F,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACnC,CAAC;oBAAA,GAhBGlG,KAAK;sBAAA+F,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAiBN,CACP,CAAC,eACFrM,OAAA;sBACE2B,IAAI,EAAC,OAAO;sBACZwF,IAAI,EAAC,MAAM;sBACXkC,KAAK,EAAEpG,UAAW;sBAClB6J,QAAQ,EAAGxH,CAAC,IAAKpC,aAAa,CAACoC,CAAC,CAACwB,MAAM,CAACuC,KAAK,CAAE;sBAC/CyE,UAAU,EAAEzI,cAAe;sBAC3B0I,WAAW,EAAC,8EAA8E;sBAC1Fb,KAAK,EAAE;wBACLG,MAAM,EAAE,MAAM;wBACdW,OAAO,EAAE,MAAM;wBACfC,QAAQ,EAAE,CAAC;wBACXC,QAAQ,EAAE;sBACZ;oBAAE;sBAAAhC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC,eACNrM,OAAA;oBAAAkM,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACNrM,OAAA;kBAAAiM,QAAA,EAAI;gBAAI;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACbrM,OAAA;kBACEkN,KAAK,EAAE;oBACLC,OAAO,EAAE,MAAM;oBACfC,QAAQ,EAAE,MAAM;oBAChBC,MAAM,EAAE,gBAAgB;oBACxBC,OAAO,EAAE,KAAK;oBACdC,YAAY,EAAE;kBAChB,CAAE;kBAAAtB,QAAA,GAED5I,SAAS,CAACyB,GAAG,CAAC,CAACjB,IAAI,EAAEsC,KAAK,kBACzBnG,OAAA;oBAEEkN,KAAK,EAAE;sBACLC,OAAO,EAAE,MAAM;sBACfK,UAAU,EAAE,QAAQ;sBACpBC,MAAM,EAAE,KAAK;sBACbH,OAAO,EAAE,SAAS;sBAClBI,UAAU,EAAG,SAAQ;sBACrBH,YAAY,EAAE,KAAK;sBACnBF,MAAM,EAAE;oBACV,CAAE;oBAAApB,QAAA,GAEDpI,IAAI,eACL7D,OAAA,CAACd,IAAI;sBACHqN,SAAS,EAAEnN,SAAU;sBACrBuO,EAAE,EAAE;wBAAEC,UAAU,EAAE,CAAC;wBAAEnN,MAAM,EAAE;sBAAG,CAAE;sBAClCoN,OAAO,EAAEA,CAAA,KAAMpH,UAAU,CAACN,KAAK;oBAAE;sBAAA+F,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAClC,CAAC;kBAAA,GAhBGlG,KAAK;oBAAA+F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAiBN,CACP,CAAC,eACFrM,OAAA;oBACE2B,IAAI,EAAC,MAAM;oBACXwF,IAAI,EAAC,MAAM;oBACXkC,KAAK,EAAElG,SAAU;oBACjB2J,QAAQ,EAAGxH,CAAC,IAAKlC,YAAY,CAACkC,CAAC,CAACwB,MAAM,CAACuC,KAAK,CAAE;oBAC9CyE,UAAU,EAAEzH,aAAc;oBAC1B0H,WAAW,EAAC,2EAA2E;oBACvFb,KAAK,EAAE;sBACLG,MAAM,EAAE,MAAM;sBACdW,OAAO,EAAE,MAAM;sBACfC,QAAQ,EAAE,CAAC;sBACXC,QAAQ,EAAE;oBACZ;kBAAE;oBAAAhC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC,eACNrM,OAAA;kBAAAkM,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAENrM,OAAA;kBAAKsM,SAAS,EAAC,YAAY;kBAAAL,QAAA,gBACzBjM,OAAA;oBAAAiM,QAAA,EAAI;kBAAY;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACrBrM,OAAA;oBACEmH,IAAI,EAAC,MAAM;oBACXgH,MAAM,EAAC,SAAS;oBAChBrB,QAAQ,EAAEpG,cAAe;oBACzB4F,SAAS,EAAC,cAAc;oBACxB8B,QAAQ;kBAAA;oBAAAlC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACT,CAAC,EACDxJ,MAAM,KAAKkK,SAAS,iBACnB/M,OAAA;oBACEsM,SAAS,EAAC,YAAY;oBACtBY,KAAK,EAAE;sBAAEC,OAAO,EAAE,MAAM;sBAAEC,QAAQ,EAAE;oBAAO,CAAE;oBAAAnB,QAAA,EAE5CpJ,MAAM,CAACiC,GAAG,CAAC,CAACwC,KAAK,EAAEnB,KAAK,kBACvBnG,OAAA;sBAEEsM,SAAS,EAAC,YAAY;sBACtBY,KAAK,EAAE;wBAAEmB,QAAQ,EAAE,UAAU;wBAAEZ,MAAM,EAAE;sBAAE,CAAE;sBAAAxB,QAAA,gBAE3CjM,OAAA;wBACEsM,SAAS,EAAC,aAAa;wBACvBY,KAAK,EAAE;0BAAEzM,MAAM,EAAE,GAAG;0BAAE6N,KAAK,EAAE;wBAAI,CAAE;wBACnCnD,GAAG,EAAE7D,KAAK,CAACxD,GAAI;wBACfyK,GAAG,EAAG,SAAQpI,KAAM;sBAAE;wBAAA+F,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACvB,CAAC,eACFrM,OAAA,CAACd,IAAI;wBACHqN,SAAS,EAAEnN,SAAU;wBACrBuO,EAAE,EAAE;0BACFU,QAAQ,EAAE,UAAU;0BACpBG,GAAG,EAAE,CAAC;0BACNC,KAAK,EAAE,CAAC;0BACRC,MAAM,EAAE;wBACV,CAAE;wBACFb,OAAO,EAAEA,CAAA,KAAMpG,iBAAiB,CAACtB,KAAK;sBAAE;wBAAA+F,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACzC,CAAC;oBAAA,GAnBGlG,KAAK;sBAAA+F,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAoBP,CACN;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CACN;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC,eAENrM,OAAA;kBAAKsM,SAAS,EAAC,YAAY;kBAAChL,EAAE,EAAC,kBAAkB;kBAAA2K,QAAA,gBAC/CjM,OAAA;oBAAAiM,QAAA,EAAI;kBAAY;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACrBrM,OAAA;oBAAKkN,KAAK,EAAE;sBAAEzM,MAAM,EAAE,MAAM;sBAAEkO,YAAY,EAAE;oBAAO,CAAE;oBAAA1C,QAAA,eACnDjM,OAAA,CAACP,UAAU;sBACTmP,GAAG,EAAElN,aAAc;sBACnBtB,KAAK,EAAC,MAAM;sBACZ8M,KAAK,EAAE;wBAAEzM,MAAM,EAAE,MAAM;wBAAE6N,KAAK,EAAE;sBAAO,CAAE;sBACzCjF,KAAK,EAAE5G,WAAY;sBACnBsL,WAAW,EAAC,oHAA+F;sBAC3GjB,QAAQ,EAAEpK,cAAe;sBACzBmM,OAAO,EAAE;wBACPC,OAAO,EAAE;0BACPC,SAAS,EAAE,CACT,CAAC;4BAAEC,MAAM,EAAE;0BAAI,CAAC,EAAE;4BAAEA,MAAM,EAAE;0BAAI,CAAC,EAAE;4BAAEC,IAAI,EAAE;0BAAG,CAAC,CAAC,EAChD,CAAC;4BAAEpL,IAAI,EAAE;0BAAG,CAAC,CAAC,EACd,CACE,MAAM,EACN,QAAQ,EACR,WAAW,EACX,QAAQ,EACR,YAAY,CACb,EACD,CACE;4BAAEqL,IAAI,EAAE;0BAAU,CAAC,EACnB;4BAAEA,IAAI,EAAE;0BAAS,CAAC,EAClB;4BAAEC,MAAM,EAAE;0BAAK,CAAC,EAChB;4BAAEA,MAAM,EAAE;0BAAK,CAAC,CACjB,EACD,CAAC,MAAM,EAAE,OAAO,EAAE,OAAO,CAAC,EAC1B,CAAC,YAAY,CAAC,EACd,CAAC,OAAO,CAAC,CACV;0BACDC,QAAQ,EAAE;4BACR9H,KAAK,EAAEwC,YAAY;4BACnBuF,KAAK,EAAE7D;0BACT;wBACF,CAAC;wBACD8D,SAAS,EAAE;0BACTC,WAAW,EAAE;wBACf;sBACF,CAAE;sBACFC,OAAO,EAAE,CACP,QAAQ,EACR,MAAM,EACN,MAAM,EACN,MAAM,EACN,QAAQ,EACR,WAAW,EACX,QAAQ,EACR,YAAY,EACZ,MAAM,EACN,QAAQ,EACR,QAAQ,EACR,MAAM,EACN,OAAO,EACP,OAAO,EACP,YAAY;oBACZ;sBAAAtD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACH;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACC,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eAENrM,OAAA;kBAAAkM,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAENrM,OAAA,CAACb,MAAM;kBAACgI,IAAI,EAAC,QAAQ;kBAACmF,SAAS,EAAC,yBAAyB;kBAAAL,QAAA,gBACvDjM,OAAA,CAACf,gBAAgB;oBAAAiN,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,wBACtB;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC,eACPrM,OAAA;UAAAkM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACNrM,OAAA;UAAKsM,SAAS,EAAC,wBAAwB;UAAAL,QAAA,eACrCjM,OAAA;YAAMsM,SAAS,EAAC,cAAc;YAAAL,QAAA,gBAC5BjM,OAAA;cAAAiM,QAAA,EAAI;YAA0B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACnCrM,OAAA;cACEyP,uBAAuB,EAAE;gBAAEC,MAAM,EAAE3G,UAAU,CAACtG,WAAW;cAAE;YAAE;cAAAyJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9D,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EACJ,gBACD,CAAC;AAEP,CAAC;AAAChL,EAAA,CA1uBID,aAAa;EAAA,QACF9B,SAAS,EACPI,WAAW;AAAA;AAAAiQ,GAAA,GAFxBvO,aAAa;AA4uBnB,eAAeA,aAAa;AAAC,IAAAD,EAAA,EAAAwO,GAAA;AAAAC,YAAA,CAAAzO,EAAA;AAAAyO,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}