{"ast":null,"code":"import{Button}from'@mui/material';import TextField from'@mui/material/TextField';import React,{useContext,useState}from'react';import{UserContext}from'../../../pages/UserPage';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Checkout=()=>{const[formFields,setformFields]=useState({name:'',pincode:'',address:'',phoneNumber:''});const context=useContext(UserContext);const history=useNavigate();const placeOrder=()=>{if(formFields.name===\"\"||formFields.address==\"\"||formFields.pincode==\"\"||formFields.phoneNumber==\"\"){alert(\"All fields Required\");return false;}const addressInfo={name:formFields.name,phoneNumber:formFields.phoneNumber,address:formFields.address,pincode:formFields.pincode,date:new Date().toLocaleString(\"en-US\",{month:\"short\",day:\"2-digit\",year:\"numeric\"})};var options={key:\"\",key_secret:\"\",amount:parseInt(context.cartTotalAmount*100),currency:\"INR\",order_receipt:'order_rcptid_'+formFields.name,name:\"E-Bharat\",description:\"for testing purpose\",handler:function(response){// console.log(response)\nconst paymentId=response.razorpay_payment_id;// store in firebase \nconst orderInfo={cartItems:context.cartItems,addressInfo:addressInfo,date:new Date().toLocaleString(\"en-US\",{month:\"short\",day:\"2-digit\",year:\"numeric\"}),email:localStorage.getItem(\"userEmail\"),userid:localStorage.getItem(\"userId\"),paymentId};history('/');},theme:{color:\"#3399cc\"}};var pay=new window.Razorpay(options);pay.open();};const changeInput=e=>{const{name,value}=e.target;setformFields(()=>({...formFields,[name]:value}));};return/*#__PURE__*/_jsx(\"section\",{className:\"cartSection mb-5 checkoutPage\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form w-75 mt-4 shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Shopping Address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-3 mt-4\",children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Enter Full Name\",variant:\"outlined\",className:\"w-100\",value:formFields.name,onChange:changeInput,name:\"name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-3\",children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Enter Pincode\",variant:\"outlined\",className:\"w-100\",value:formFields.pincode,onChange:changeInput,name:\"pincode\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group mb-3\",children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Enter Phone Number.\",variant:\"outlined\",className:\"w-100\",value:formFields.phoneNumber,onChange:changeInput,name:\"phoneNumber\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\"Enter Full Address\",variant:\"outlined\",className:\"w-100\",multiline:true,rows:4,value:formFields.address,onChange:changeInput,name:\"address\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 cartRightBox pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 text-light\",children:\"Subtotal\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"ml-auto mb-0 font-weight-bold\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-g\",children:context.cartTotalAmount})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 text-light\",children:\"Shipping\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"ml-auto mb-0 font-weight-bold\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Free\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0 text-light\",children:\"Total\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"ml-auto mb-0 font-weight-bold\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-g\",children:context.cartTotalAmount})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{className:\"btn-g btn-lg\",onClick:placeOrder,children:\"Place Order\"})]})})]})})})});};export default Checkout;","map":{"version":3,"names":["Button","TextField","React","useContext","useState","UserContext","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Checkout","formFields","setformFields","name","pincode","address","phoneNumber","context","history","placeOrder","alert","addressInfo","date","Date","toLocaleString","month","day","year","options","key","key_secret","amount","parseInt","cartTotalAmount","currency","order_receipt","description","handler","response","paymentId","razorpay_payment_id","orderInfo","cartItems","email","localStorage","getItem","userid","theme","color","pay","window","Razorpay","open","changeInput","e","value","target","className","children","id","label","variant","onChange","multiline","rows","onClick"],"sources":["/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/components/user/checkout/index.js"],"sourcesContent":["\r\nimport { Button } from '@mui/material';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport React, { useContext, useState } from 'react';\r\nimport { UserContext } from '../../../pages/UserPage';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport axios from 'axios';\r\n\r\nconst Checkout = () => {\r\n\r\n    const [formFields, setformFields] = useState({\r\n        name: '',\r\n        pincode: '',\r\n        address: '',\r\n        phoneNumber: ''\r\n    })\r\n\r\n    const context = useContext(UserContext);\r\n    const history = useNavigate();\r\n\r\n\r\n\r\n    const placeOrder = () => {\r\n\r\n        if (formFields.name === \"\" || formFields.address == \"\" || formFields.pincode == \"\" || formFields.phoneNumber == \"\") {\r\n            alert(\"All fields Required\");\r\n            return false;\r\n        }\r\n\r\n\r\n\r\n        const addressInfo = {\r\n            name: formFields.name,\r\n            phoneNumber: formFields.phoneNumber,\r\n            address: formFields.address,\r\n            pincode: formFields.pincode,\r\n            date: new Date().toLocaleString(\r\n                \"en-US\",\r\n                {\r\n                    month: \"short\",\r\n                    day: \"2-digit\",\r\n                    year: \"numeric\",\r\n                }\r\n            )\r\n        }\r\n\r\n\r\n\r\n        var options = {\r\n            key: \"\",\r\n            key_secret: \"\",\r\n            amount: parseInt(context.cartTotalAmount * 100),\r\n            currency: \"INR\",\r\n            order_receipt: 'order_rcptid_' + formFields.name,\r\n            name: \"E-Bharat\",\r\n            description: \"for testing purpose\",\r\n            handler: function (response) {\r\n\r\n                // console.log(response)\r\n\r\n\r\n                const paymentId = response.razorpay_payment_id\r\n                // store in firebase \r\n                const orderInfo = {\r\n                    cartItems: context.cartItems,\r\n                    addressInfo: addressInfo,\r\n                    date: new Date().toLocaleString(\r\n                        \"en-US\",\r\n                        {\r\n                            month: \"short\",\r\n                            day: \"2-digit\",\r\n                            year: \"numeric\",\r\n                        }\r\n                    ),\r\n                    email: localStorage.getItem(\"userEmail\"),\r\n                    userid:localStorage.getItem(\"userId\"),\r\n                    paymentId\r\n                }\r\n                  \r\n                \r\n\r\n\r\n                history('/')\r\n\r\n\r\n            },\r\n\r\n            theme: {\r\n                color: \"#3399cc\"\r\n            }\r\n        };\r\n\r\n\r\n        var pay = new window.Razorpay(options);\r\n        pay.open();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    const changeInput = (e) => {\r\n        const { name, value } = e.target;\r\n\r\n        setformFields(() => ({\r\n            ...formFields,\r\n            [name]: value\r\n        }))\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <section className='cartSection mb-5 checkoutPage'>\r\n            <div className='container'>\r\n                <form>\r\n                    <div className='row'>\r\n                        <div className='col-md-8'>\r\n                            <div className='form w-75 mt-4 shadow'>\r\n                                <h3>Shopping Address</h3>\r\n                                <div className='form-group mb-3 mt-4'>\r\n                                    <TextField id=\"outlined-basic\" label=\"Enter Full Name\" variant=\"outlined\" className='w-100' value={formFields.name} onChange={changeInput} name=\"name\" />\r\n                                </div>\r\n                                <div className='form-group mb-3'>\r\n                                    <TextField id=\"outlined-basic\" label=\"Enter Pincode\" variant=\"outlined\" className='w-100' value={formFields.pincode} onChange={changeInput} name=\"pincode\" />\r\n                                </div>\r\n                                <div className='form-group mb-3'>\r\n                                    <TextField id=\"outlined-basic\" label=\"Enter Phone Number.\" variant=\"outlined\" className='w-100' value={formFields.phoneNumber} onChange={changeInput} name=\"phoneNumber\" />\r\n                                </div>\r\n                                <div className='form-group'>\r\n                                    <TextField id=\"outlined-basic\" label=\"Enter Full Address\" variant=\"outlined\" className='w-100' multiline\r\n                                        rows={4} value={formFields.address} onChange={changeInput} name=\"address\" />\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n\r\n\r\n\r\n                        <div className='col-md-4 cartRightBox pt-4'>\r\n                            <div className='card p-4 '>\r\n                                <div className='d-flex align-items-center mb-4'>\r\n                                    <h5 className='mb-0 text-light'>Subtotal</h5>\r\n                                    <h3 className='ml-auto mb-0 font-weight-bold'><span className='text-g'>\r\n                                        {context.cartTotalAmount}\r\n                                    </span></h3>\r\n                                </div>\r\n\r\n                                <div className='d-flex align-items-center mb-4'>\r\n                                    <h5 className='mb-0 text-light'>Shipping</h5>\r\n                                    <h3 className='ml-auto mb-0 font-weight-bold'><span >Free</span></h3>\r\n                                </div>\r\n\r\n\r\n\r\n\r\n                                <div className='d-flex align-items-center mb-4'>\r\n                                    <h5 className='mb-0 text-light'>Total</h5>\r\n                                    <h3 className='ml-auto mb-0 font-weight-bold'><span className='text-g'>\r\n                                        {context.cartTotalAmount}\r\n                                    </span></h3>\r\n                                </div>\r\n\r\n\r\n                                <br />\r\n                                <Button className='btn-g btn-lg' onClick={placeOrder}>Place Order</Button>\r\n\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Checkout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}