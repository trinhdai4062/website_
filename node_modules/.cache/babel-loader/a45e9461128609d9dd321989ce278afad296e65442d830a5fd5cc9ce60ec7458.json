{"ast":null,"code":"import{useContext,useEffect,useState,useCallback}from\"react\";// import Logo from \"../../assets/images/logo.webp\";\nimport patern from\"../../assets/images/pattern.webp\";// import { MyContext } from \"../../App\";\nimport{AdminContext}from\"../../App\";import{MdEmail}from\"react-icons/md\";import{RiLockPasswordFill}from\"react-icons/ri\";import{IoMdEye,IoMdEyeOff}from\"react-icons/io\";import Button from\"@mui/material/Button\";import{Link}from\"react-router-dom\";import axios from\"axios\";import googleIcon from\"../../assets/images/googleIcon.png\";import api from\"../../api/api\";import{useNavigate}from\"react-router-dom\";import Backdrop from\"@mui/material/Backdrop\";import CircularProgress from\"@mui/material/CircularProgress\";import{initializeApp}from\"firebase/app\";import{getAuth,signInWithEmailAndPassword,GoogleAuthProvider,signInWithPopup}from\"firebase/auth\";import{baseURL_}from\"../../utils/env\";import{app}from\"../../firebase\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const auth=getAuth(app);const googleProvider=new GoogleAuthProvider();const Login=()=>{const[inputIndex,setInputIndex]=useState(null);const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[isShowPassword,setisShowPassword]=useState(false);const[emailError,setEmailError]=useState(\"\");const[passwordError,setPasswordError]=useState(\"\");const[showLoader,setShowLoader]=useState(false);const context=useContext(AdminContext);const navigate=useNavigate();console.log(\"context\",context);//   console.log(\"email\", email);\n//   console.log(\"password\", password);\nconst handleMK=useCallback(event=>{const value=event.target.value;setPassword(value);if(value.length>=8){setPasswordError(\"\");}else{setPasswordError(\"Mật khẩu phải từ 8 ký tự trở lên\");}},[]);const handleChange=useCallback(event=>{const value=event.target.value;const re=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(re.test(String(value).toLowerCase())){setEmailError(\"\");}else{setEmailError(\"Email không hợp lệ\");}setEmail(value);},[]);useEffect(()=>{context.setisHideSidebarAndHeader(true);},[context]);const focusInput=index=>{setInputIndex(index);};const handleLogin=async()=>{console.log('baseURL_',baseURL_);if(!emailError&&!passwordError&&email&&password){axios.post(\"\".concat(baseURL_,\"/auth/login\"),{email,password}// { withCredentials: true }\n).then(response=>{// console.log(\"response\", response.data);\nif(response.data.status===true){localStorage.setItem(\"accessToken\",response.data.accessToken);localStorage.setItem(\"_id\",response.data.data._id);localStorage.setItem(\"userData\",JSON.stringify(response.data.data));localStorage.setItem(\"shop\",response.data.data.shop);// console.log(\"login\", response.data.data.shop);\nconst role=response.data.data.role;context.setIsLogin(true);context.setShop(response.data.data.shop);// navigate(role==='admin'?'/admin':'/user');\nnavigate(\"/admin\");}}).catch(error=>{console.log(\"error\",error);// console.log(\"error\", error.response.data.message);\n// window.alert(error.response.data.message);\n});}else{if(!email)setEmailError(\"Vui lòng nhập email\");if(!password)setPasswordError(\"Vui lòng nhập mật khẩu\");}};const signInWithGoogle=async()=>{setShowLoader(true);try{const result=await signInWithPopup(auth,googleProvider);const credential=GoogleAuthProvider.credentialFromResult(result);const user=result.user;const data={username:user.email,email:user.email,fullName:user.displayName,avatar:user.photoURL};const res=await axios.post(\"\".concat(baseURL_,\"/auth/loginsocial\"),{data});console.log('Response from server:',res.data);setShowLoader(false);if(res.data.status===true){localStorage.setItem(\"accessToken\",res.data.accessToken);localStorage.setItem(\"_id\",res.data.data._id);localStorage.setItem(\"userData\",JSON.stringify(res.data.data));localStorage.setItem(\"shop\",res.data.data.shop);// console.log(\"login\", response.data.data.shop);\nconst role=res.data.data.role;context.setIsLogin(true);context.setShop(res.data.data.shop);navigate(role==='admin'?'/admin':'/user');// navigate(\"/admin\");\n}}catch(error){setShowLoader(false);console.error('Error signing in with Google:',error);const errorCode=error.code;const errorMessage=error.message;const email=error.customData.email;const credential=GoogleAuthProvider.credentialFromError(error);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"loginWrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow\",children:[/*#__PURE__*/_jsx(Backdrop,{sx:{color:\"#000\",zIndex:theme=>theme.zIndex.drawer+1},open:showLoader,className:\"formLoader\",children:/*#__PURE__*/_jsx(CircularProgress,{color:\"inherit\"})}),/*#__PURE__*/_jsx(\"img\",{src:patern,className:\"loginPatern\",alt:\"Pattern\"}),/*#__PURE__*/_jsx(\"section\",{className:\"loginSection\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginBox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:require('../../assets/images/logo_background.png'),width:\"120px\",alt:\"Logo\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"font-weight-bold\",children:\"Login to BigShose\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"wrapper mt-3 card border\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group position-relative \".concat(inputIndex===0&&\"focus\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:/*#__PURE__*/_jsx(MdEmail,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"enter your email\",onFocus:()=>focusInput(0),onBlur:event=>handleChange(event),onChange:event=>handleChange(event),value:email,autoFocus:true}),inputIndex===0&&emailError&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:emailError})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group position-relative \".concat(inputIndex===1&&\"focus\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon\",children:/*#__PURE__*/_jsx(RiLockPasswordFill,{})}),/*#__PURE__*/_jsx(\"input\",{type:isShowPassword?\"text\":\"password\",className:\"form-control\",placeholder:\"enter your password\",onFocus:()=>focusInput(1),onBlur:event=>handleMK(event),onChange:event=>handleMK(event),value:password}),inputIndex===1&&passwordError&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:passwordError}),/*#__PURE__*/_jsx(\"span\",{className:\"toggleShowPassword\",onClick:()=>setisShowPassword(!isShowPassword),children:isShowPassword?/*#__PURE__*/_jsx(IoMdEyeOff,{}):/*#__PURE__*/_jsx(IoMdEye,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(Button,{onClick:handleLogin,className:\"btn-blue btn-lg w-100 btn-big\",children:\"Sign In\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group text-center mb-0\",children:[/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",className:\"link\",children:\"FORGOT PASSWORD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-center or mt-3 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"line\"}),/*#__PURE__*/_jsx(\"span\",{className:\"txt\",children:\"or\"}),/*#__PURE__*/_jsx(\"span\",{className:\"line\"})]}),/*#__PURE__*/_jsxs(Button,{variant:\"outlined\",className:\"w-100 btn-lg btn-big loginWithGoogle\",onClick:signInWithGoogle,children:[/*#__PURE__*/_jsx(\"img\",{src:googleIcon,width:\"25px\",alt:\"Google Icon\"}),\" \",\"\\xA0 Sign In with Google\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"wrapper mt-3 card border footer p-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-center\",children:[\"Don't have an account?\",/*#__PURE__*/_jsx(Link,{to:\"/signUp\",className:\"link color ml-2\",children:\"Register\"})]})})]})})]})})});};export default Login;","map":{"version":3,"names":["useContext","useEffect","useState","useCallback","patern","AdminContext","MdEmail","RiLockPasswordFill","IoMdEye","IoMdEyeOff","Button","Link","axios","googleIcon","api","useNavigate","Backdrop","CircularProgress","initializeApp","getAuth","signInWithEmailAndPassword","GoogleAuthProvider","signInWithPopup","baseURL_","app","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","auth","googleProvider","Login","inputIndex","setInputIndex","email","setEmail","password","setPassword","isShowPassword","setisShowPassword","emailError","setEmailError","passwordError","setPasswordError","showLoader","setShowLoader","context","navigate","console","log","handleMK","event","value","target","length","handleChange","re","test","String","toLowerCase","setisHideSidebarAndHeader","focusInput","index","handleLogin","post","concat","then","response","data","status","localStorage","setItem","accessToken","_id","JSON","stringify","shop","role","setIsLogin","setShop","catch","error","signInWithGoogle","result","credential","credentialFromResult","user","username","fullName","displayName","avatar","photoURL","res","errorCode","code","errorMessage","message","customData","credentialFromError","children","className","sx","color","zIndex","theme","drawer","open","src","alt","require","width","type","placeholder","onFocus","onBlur","onChange","autoFocus","style","onClick","to","variant"],"sources":["/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/components/Auth/Login.js"],"sourcesContent":["import { useContext, useEffect, useState, useCallback } from \"react\";\r\n// import Logo from \"../../assets/images/logo.webp\";\r\nimport patern from \"../../assets/images/pattern.webp\";\r\n// import { MyContext } from \"../../App\";\r\nimport { AdminContext } from \"../../App\";\r\nimport { MdEmail } from \"react-icons/md\";\r\nimport { RiLockPasswordFill } from \"react-icons/ri\";\r\nimport { IoMdEye, IoMdEyeOff } from \"react-icons/io\";\r\nimport Button from \"@mui/material/Button\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport googleIcon from \"../../assets/images/googleIcon.png\";\r\nimport api from \"../../api/api\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport Backdrop from \"@mui/material/Backdrop\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {\r\n  getAuth,\r\n  signInWithEmailAndPassword,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n} from \"firebase/auth\";\r\nimport { baseURL_ } from \"../../utils/env\";\r\n\r\nimport { app } from \"../../firebase\";\r\nconst auth = getAuth(app);\r\nconst googleProvider = new GoogleAuthProvider();\r\n\r\nconst Login = () => {\r\n  const [inputIndex, setInputIndex] = useState(null);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isShowPassword, setisShowPassword] = useState(false);\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState(\"\");\r\n  const [showLoader, setShowLoader] = useState(false);\r\n\r\n  const context = useContext(AdminContext);\r\n  const navigate = useNavigate();\r\n\r\n\r\n  console.log(\"context\", context);\r\n  //   console.log(\"email\", email);\r\n  //   console.log(\"password\", password);\r\n\r\n  const handleMK = useCallback((event) => {\r\n    const value = event.target.value;\r\n    setPassword(value);\r\n    if (value.length >= 8) {\r\n      setPasswordError(\"\");\r\n    } else {\r\n      setPasswordError(\"Mật khẩu phải từ 8 ký tự trở lên\");\r\n    }\r\n  }, []);\r\n\r\n  const handleChange = useCallback((event) => {\r\n    const value = event.target.value;\r\n    const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (re.test(String(value).toLowerCase())) {\r\n      setEmailError(\"\");\r\n    } else {\r\n      setEmailError(\"Email không hợp lệ\");\r\n    }\r\n    setEmail(value);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    context.setisHideSidebarAndHeader(true);\r\n  }, [context]);\r\n\r\n  const focusInput = (index) => {\r\n    setInputIndex(index);\r\n  };\r\n\r\n  const handleLogin = async () => {\r\n\r\n\r\n    console.log('baseURL_',baseURL_)\r\n\r\n\r\n    if (!emailError && !passwordError && email && password) {\r\n\r\n      axios\r\n        .post(\r\n          `${baseURL_}/auth/login`,\r\n          { email, password },\r\n          // { withCredentials: true }\r\n        )\r\n        .then((response) => {\r\n          // console.log(\"response\", response.data);\r\n          if (response.data.status === true) {\r\n            localStorage.setItem(\"accessToken\", response.data.accessToken);\r\n            localStorage.setItem(\"_id\", response.data.data._id);\r\n            localStorage.setItem(\r\n              \"userData\",\r\n              JSON.stringify(response.data.data)\r\n            );\r\n            localStorage.setItem(\"shop\", response.data.data.shop);\r\n            // console.log(\"login\", response.data.data.shop);\r\n            const role = response.data.data.role;\r\n            context.setIsLogin(true);\r\n            context.setShop(response.data.data.shop);\r\n            // navigate(role==='admin'?'/admin':'/user');\r\n            navigate(\"/admin\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"error\", error)\r\n          // console.log(\"error\", error.response.data.message);\r\n          // window.alert(error.response.data.message);\r\n        });\r\n    } else {\r\n      if (!email) setEmailError(\"Vui lòng nhập email\");\r\n      if (!password) setPasswordError(\"Vui lòng nhập mật khẩu\");\r\n    }\r\n  };\r\n  const signInWithGoogle = async () => {\r\n    setShowLoader(true); \r\n    try {\r\n      const result = await signInWithPopup(auth, googleProvider);\r\n      \r\n      const credential = GoogleAuthProvider.credentialFromResult(result);\r\n  \r\n      const user = result.user;\r\n      const data = {\r\n        username: user.email,\r\n        email: user.email,\r\n        fullName: user.displayName,\r\n        avatar: user.photoURL,\r\n      };\r\n  \r\n      const res = await axios.post(`${baseURL_}/auth/loginsocial`, { data });\r\n      console.log('Response from server:', res.data);\r\n  \r\n      setShowLoader(false); \r\n      if (res.data.status === true) {\r\n        localStorage.setItem(\"accessToken\", res.data.accessToken);\r\n        localStorage.setItem(\"_id\", res.data.data._id);\r\n        localStorage.setItem(\r\n          \"userData\",\r\n          JSON.stringify(res.data.data)\r\n        );\r\n        localStorage.setItem(\"shop\", res.data.data.shop);\r\n        // console.log(\"login\", response.data.data.shop);\r\n        const role = res.data.data.role;\r\n        context.setIsLogin(true);\r\n        context.setShop(res.data.data.shop);\r\n        navigate(role==='admin'?'/admin':'/user');\r\n        // navigate(\"/admin\");\r\n      }\r\n    \r\n    } catch (error) {\r\n      setShowLoader(false); \r\n      console.error('Error signing in with Google:', error);\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      const email = error.customData.email;\r\n      const credential = GoogleAuthProvider.credentialFromError(error);\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <>\r\n      <div className=\"loginWrapper\">\r\n        <div className=\"card shadow\">\r\n          <Backdrop\r\n            sx={{ color: \"#000\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n            open={showLoader}\r\n            className=\"formLoader\"\r\n          >\r\n            <CircularProgress color=\"inherit\" />\r\n          </Backdrop>\r\n          <img src={patern} className=\"loginPatern\" alt=\"Pattern\" />\r\n          <section className=\"loginSection\">\r\n            <div className=\"loginBox\">\r\n              <div className=\"logo text-center\">\r\n                <img src={require('../../assets/images/logo_background.png')} width=\"120px\" alt=\"Logo\" />\r\n                <h5 className=\"font-weight-bold\">Login to BigShose</h5>\r\n              </div>\r\n\r\n              <div className=\"wrapper mt-3 card border\">\r\n                <form>\r\n                  <div\r\n                    className={`form-group position-relative ${\r\n                      inputIndex === 0 && \"focus\"\r\n                    }`}\r\n                  >\r\n                    <span className=\"icon\">\r\n                      <MdEmail />\r\n                    </span>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"enter your email\"\r\n                      onFocus={() => focusInput(0)}\r\n                      onBlur={(event) => handleChange(event)}\r\n                      onChange={(event) => handleChange(event)}\r\n                      value={email}\r\n                      autoFocus\r\n                    />\r\n                    {inputIndex === 0 && emailError && (\r\n                      <span style={{ color: \"red\" }}>{emailError}</span>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div\r\n                    className={`form-group position-relative ${\r\n                      inputIndex === 1 && \"focus\"\r\n                    }`}\r\n                  >\r\n                    <span className=\"icon\">\r\n                      <RiLockPasswordFill />\r\n                    </span>\r\n                    <input\r\n                      type={isShowPassword ? \"text\" : \"password\"}\r\n                      className=\"form-control\"\r\n                      placeholder=\"enter your password\"\r\n                      onFocus={() => focusInput(1)}\r\n                      onBlur={(event) => handleMK(event)}\r\n                      onChange={(event) => handleMK(event)}\r\n                      value={password}\r\n                    />\r\n                    {inputIndex === 1 && passwordError && (\r\n                      <span style={{ color: \"red\" }}>{passwordError}</span>\r\n                    )}\r\n\r\n                    <span\r\n                      className=\"toggleShowPassword\"\r\n                      onClick={() => setisShowPassword(!isShowPassword)}\r\n                    >\r\n                      {isShowPassword ? <IoMdEyeOff /> : <IoMdEye />}\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <Button\r\n                      onClick={handleLogin}\r\n                      className=\"btn-blue btn-lg w-100 btn-big\"\r\n                    >\r\n                      Sign In\r\n                    </Button>\r\n                  </div>\r\n\r\n                  <div className=\"form-group text-center mb-0\">\r\n                    <Link to={\"/forgot-password\"} className=\"link\">\r\n                      FORGOT PASSWORD\r\n                    </Link>\r\n                    <div className=\"d-flex align-items-center justify-content-center or mt-3 mb-3\">\r\n                      <span className=\"line\"></span>\r\n                      <span className=\"txt\">or</span>\r\n                      <span className=\"line\"></span>\r\n                    </div>\r\n\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      className=\"w-100 btn-lg btn-big loginWithGoogle\"\r\n                      onClick={signInWithGoogle}\r\n                    >\r\n                      <img src={googleIcon} width=\"25px\" alt=\"Google Icon\" />{\" \"}\r\n                      &nbsp; Sign In with Google\r\n                    </Button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n\r\n              <div className=\"wrapper mt-3 card border footer p-3\">\r\n                <span className=\"text-center\">\r\n                  Don't have an account?\r\n                  <Link to={\"/signUp\"} className=\"link color ml-2\">\r\n                    Register\r\n                  </Link>\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}