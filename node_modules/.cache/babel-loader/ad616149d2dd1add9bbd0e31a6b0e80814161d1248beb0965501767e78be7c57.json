{"ast":null,"code":"import React,{useEffect,useState,createContext,useContext}from\"react\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"../components/user/user.css\";import\"../responsive.css\";import{BrowserRouter,Routes,Route}from\"react-router-dom\";import UserHeader from\"../components/common/Header/UserHeader\";import Footer from\"../components/common/footer/footer\";import Home from\"../components/user/Home/index\";import About from\"../components/user//About/index\";import Listing from\"../components/user//Listing\";import NotFound from\"./NotFound\";import DetailsPage from\"../components/user/Details\";import Checkout from\"../components/user/checkout\";import Cart from\"../components/user/cart\";// import SignIn from \"./pages/SignIn\";\n// import SignUp from \"./pages/SignUp\";\nimport Loader from\"../assets/images/loading.gif\";import api from\"../api/api\";import{AdminContext}from'../App';import Chat from\"../components/user/Chat/chat\";import{baseURL_}from'../utils/env';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserContext=/*#__PURE__*/createContext();const UserPage=()=>{const context=useContext(AdminContext);const[productData,setProductData]=useState([]);const[cartItems,setCartItems]=useState([]);const[categoriData,setCategoriData]=useState([]);const[isLoading,setIsloading]=useState(true);const[windowWidth,setWindowWidth]=useState(window.innerWidth);const[isopenNavigation,setIsopenNavigation]=useState(false);const[isLogin,setIsLogin]=useState(true);const[isOpenFilters,setIsopenFilters]=useState(false);const[cartTotalAmount,setCartTotalAmount]=useState();useEffect(()=>{getDataProduct(\"\".concat(baseURL_,\"/shose\"));getDataCateGori(\"\".concat(baseURL_,\"/categori\"));setIsLogin(true);setTimeout(()=>{setIsloading(false);},3000);},[]);useEffect(()=>{context.setisHideSidebarAndHeader(true);},[context]);// console.log('productData',productData)\n// console.log('categoriData',categoriData)\nconst getCartData=async url=>{try{await api.get(url).then(response=>{setCartItems(response.data);});}catch(error){console.log(error.message);}};const getDataCateGori=async url=>{try{await api.get(url).then(response=>{if(response.data.status){setCategoriData(response.data.data);}});}catch(error){console.log(error.message);}};const getDataProduct=async url=>{try{await api.get(url).then(response=>{if(response.data.status){setProductData(response.data.data);}});}catch(error){console.log(error.message);}};// const addToCart = async (item) => {\n//   item.quantity = 1;\n//   try {\n//     await api.post(\"http://localhost:5000/cartItems\", item).then((res) => {\n//       if (res !== undefined) {\n//         setCartItems([...cartItems, { ...item, quantity: 1 }]);\n//       }\n//     });\n//   } catch (error) {\n//     console.log(error);\n//   }\n// };\n// const removeItemsFromCart = async (id) => {\n//   const response = await api.delete(\n//     `http://localhost:3000/cartItems/${id}`\n//   );\n//   if (response !== null) {\n//     getCartData(\"http://localhost:3000/cartItems\");\n//   }\n// };\n// const emptyCart = () => {\n//   setCartItems([]);\n// };\n// const signIn = () => {\n//   const is_Login = localStorage.getItem(\"isLogin\");\n//   setIsLogin(is_Login);\n// };\n// const signOut = () => {\n//   localStorage.removeItem(\"isLogin\");\n//   setIsLogin(false);\n// };\n// const openFilters = () => {\n//   setIsopenFilters(!isOpenFilters);\n// };\nconst value={cartItems,isLogin,windowWidth,isOpenFilters,// addToCart,\n// removeItemsFromCart,\n// emptyCart,\n// signOut,\n// signIn,\n// openFilters,\nisopenNavigation,setIsLogin,setIsopenNavigation,setCartTotalAmount,cartTotalAmount,setCartItems,cartItems};// console.log('data.productData.length',value)\nconst data={productData,categoriData};return/*#__PURE__*/ (// data.productData.length !== 0 && (\n_jsxs(UserContext.Provider,{value:value,children:[isLoading===true&&/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:/*#__PURE__*/_jsx(\"img\",{src:Loader})}),/*#__PURE__*/_jsx(UserHeader,{data:data}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Home,{categoriData:categoriData,productData:productData})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/home\",element:/*#__PURE__*/_jsx(Home,{categoriData:categoriData,productData:productData})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/cat/:id\",element:/*#__PURE__*/_jsx(Listing,{categoriData:categoriData,single:true})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/product/:id\",element:/*#__PURE__*/_jsx(DetailsPage,{productData:productData})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/checkout\",element:/*#__PURE__*/_jsx(Checkout,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/chat\",element:/*#__PURE__*/_jsx(Chat,{})})]}),/*#__PURE__*/_jsx(Footer,{})]})// )\n);};export default UserPage;export{UserContext};","map":{"version":3,"names":["React","useEffect","useState","createContext","useContext","BrowserRouter","Routes","Route","UserHeader","Footer","Home","About","Listing","NotFound","DetailsPage","Checkout","Cart","Loader","api","AdminContext","Chat","baseURL_","jsx","_jsx","jsxs","_jsxs","UserContext","UserPage","context","productData","setProductData","cartItems","setCartItems","categoriData","setCategoriData","isLoading","setIsloading","windowWidth","setWindowWidth","window","innerWidth","isopenNavigation","setIsopenNavigation","isLogin","setIsLogin","isOpenFilters","setIsopenFilters","cartTotalAmount","setCartTotalAmount","getDataProduct","concat","getDataCateGori","setTimeout","setisHideSidebarAndHeader","getCartData","url","get","then","response","data","error","console","log","message","status","value","Provider","children","className","src","exact","path","element","single"],"sources":["/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/pages/UserPage.js"],"sourcesContent":["import React, { useEffect, useState, createContext, useContext } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"../components/user/user.css\";  \nimport \"../responsive.css\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\n\nimport UserHeader from \"../components/common/Header/UserHeader\";\nimport Footer from \"../components/common/footer/footer\";\nimport Home from \"../components/user/Home/index\";\nimport About from \"../components/user//About/index\";\nimport Listing from \"../components/user//Listing\";\nimport NotFound from \"./NotFound\";\nimport DetailsPage from \"../components/user/Details\";\nimport Checkout from \"../components/user/checkout\";\nimport Cart from \"../components/user/cart\";\n// import SignIn from \"./pages/SignIn\";\n// import SignUp from \"./pages/SignUp\";\nimport Loader from \"../assets/images/loading.gif\";\nimport api from \"../api/api\"\nimport {AdminContext} from '../App'\nimport Chat from \"../components/user/Chat/chat\";\nimport {baseURL_} from'../utils/env';\n\n\nconst UserContext = createContext();\n\nconst UserPage = () => {\n  const context=useContext(AdminContext)\n  const [productData, setProductData] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [categoriData, setCategoriData] = useState([]);\n  const [isLoading, setIsloading] = useState(true);\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n\n  const [isopenNavigation, setIsopenNavigation] = useState(false);\n\n  const [isLogin, setIsLogin] = useState(true);\n  const [isOpenFilters, setIsopenFilters] = useState(false);\n\n  const [cartTotalAmount, setCartTotalAmount] = useState();\n\n  useEffect(() => {\n    getDataProduct(`${baseURL_}/shose`);\n    getDataCateGori(`${baseURL_}/categori`);\n    setIsLogin(true);\n    setTimeout(() => {\n      setIsloading(false);\n    }, 3000);\n  }, []);\n  useEffect(() => {\n    context.setisHideSidebarAndHeader(true);\n  }, [context]);\n  // console.log('productData',productData)\n  // console.log('categoriData',categoriData)\n\n  const getCartData = async (url) => {\n    try {\n      await api.get(url).then((response) => {\n        setCartItems(response.data);\n      });\n    } catch (error) {\n      console.log(error.message);\n    } };\n  const getDataCateGori = async (url) => {\n    try {\n      await api.get(url).then((response) => {\n        if(response.data.status){\n          setCategoriData(response.data.data);\n        }\n      });\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n  const getDataProduct = async (url) => {\n    try {\n      await api.get(url).then((response) => {\n        if(response.data.status){\n          setProductData(response.data.data);\n        }\n      });\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  // const addToCart = async (item) => {\n  //   item.quantity = 1;\n\n  //   try {\n  //     await api.post(\"http://localhost:5000/cartItems\", item).then((res) => {\n  //       if (res !== undefined) {\n  //         setCartItems([...cartItems, { ...item, quantity: 1 }]);\n  //       }\n  //     });\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // };\n\n  // const removeItemsFromCart = async (id) => {\n  //   const response = await api.delete(\n  //     `http://localhost:3000/cartItems/${id}`\n  //   );\n  //   if (response !== null) {\n  //     getCartData(\"http://localhost:3000/cartItems\");\n  //   }\n  // };\n\n  // const emptyCart = () => {\n  //   setCartItems([]);\n  // };\n\n  // const signIn = () => {\n  //   const is_Login = localStorage.getItem(\"isLogin\");\n  //   setIsLogin(is_Login);\n  // };\n\n  // const signOut = () => {\n  //   localStorage.removeItem(\"isLogin\");\n  //   setIsLogin(false);\n  // };\n\n  // const openFilters = () => {\n  //   setIsopenFilters(!isOpenFilters);\n  // };\n\n  const value = {\n    cartItems,\n    isLogin,\n    windowWidth,\n    isOpenFilters,\n    // addToCart,\n    // removeItemsFromCart,\n    // emptyCart,\n    // signOut,\n    // signIn,\n    // openFilters,\n    isopenNavigation,\n    setIsLogin,\n    setIsopenNavigation,\n    setCartTotalAmount,\n    cartTotalAmount,\n    setCartItems,\n    cartItems,\n  };\n\n  // console.log('data.productData.length',value)\n  const data={\n    productData,\n    categoriData\n  }\n  return (\n    // data.productData.length !== 0 && (\n        <UserContext.Provider value={value}>\n          {isLoading === true && (\n            <div className=\"loader\">\n              <img src={Loader} />\n            </div>\n          )}\n\n          <UserHeader data={data} />\n          <Routes>\n            <Route\n              exact={true}\n              path=\"/\"\n              element={<Home categoriData={categoriData} productData={productData} />}\n            />\n            <Route\n              exact={true}\n              path=\"/home\"\n              element={<Home categoriData={categoriData} productData={productData} />}\n            />\n            <Route\n              exact={true}\n              path=\"/cat/:id\"\n              element={<Listing categoriData={categoriData}  single={true} />}\n            />\n            {/* <Route\n              exact={true}\n              path=\"/cat/:id/:id\"\n              element={<Listing data={data.productData} single={false} />}\n            /> */}\n            <Route\n              exact={true}\n              path=\"/product/:id\"\n              element={<DetailsPage productData={productData} />}\n            />\n            <Route exact={true} path=\"/cart\" element={<Cart />} />\n            {/* <Route exact={true} path=\"/signIn\" element={<SignIn />} />\n            <Route exact={true} path=\"/signUp\" element={<SignUp />} /> */}\n            <Route exact={true} path=\"/checkout\" element={<Checkout />} />\n            <Route exact={true} path=\"/chat\" element={<Chat />} />\n            {/* <Route exact={true} path=\"*\" element={<NotFound />} /> */}\n          </Routes>\n          <Footer />\n        </UserContext.Provider>\n    // )\n  );\n}\n \n\nexport default UserPage;\nexport { UserContext };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}