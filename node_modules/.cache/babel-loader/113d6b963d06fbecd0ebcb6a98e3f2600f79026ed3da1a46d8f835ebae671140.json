{"ast":null,"code":"var _jsxFileName = \"/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/components/admin/Notifications/Add.js\",\n  _s = $RefreshSig$();\nimport Breadcrumbs from \"@mui/material/Breadcrumbs\";\nimport HomeIcon from \"@mui/icons-material/Home\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { emphasize, styled } from \"@mui/material/styles\";\nimport Chip from \"@mui/material/Chip\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport React, { useEffect, useState, useRef, useCallback } from \"react\";\nimport Rating from \"@mui/material/Rating\";\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\nimport { Icon } from \"@mui/material\";\nimport Button from \"@mui/material/Button\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport api from \"../../../api/api\";\nimport { useParams } from \"react-router-dom\";\n// import { htmlToMarkdown } from 'html-to-markdown';\nimport TurndownService from \"turndown\";\nimport Loading from \"../../../components/loading\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { normalizeFileName, convertToWords } from \"../../../utils/formart\";\nimport { red } from \"@mui/material/colors\";\n\n//breadcrumb code\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledBreadcrumb = styled(Chip)(({\n  theme\n}) => {\n  const backgroundColor = theme.palette.mode === \"light\" ? theme.palette.grey[100] : theme.palette.grey[800];\n  return {\n    backgroundColor,\n    height: theme.spacing(3),\n    color: theme.palette.text.primary,\n    fontWeight: theme.typography.fontWeightRegular,\n    \"&:hover, &:focus\": {\n      backgroundColor: emphasize(backgroundColor, 0.06)\n    },\n    \"&:active\": {\n      boxShadow: theme.shadows[1],\n      backgroundColor: emphasize(backgroundColor, 0.12)\n    }\n  };\n});\n_c = StyledBreadcrumb;\nconst NotificationAdd = ({\n  history\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const reactQuillRef = useRef();\n  const [fileExcel, setFileExcel] = useState(null);\n  const [name, setName] = useState(\"\");\n  const [depscription, setDepscription] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [dataDevice, setdataDevice] = useState();\n  const [AllDevices, setAllDevices] = useState([]);\n  const [selectOption, setselectOption] = useState();\n  const [selectAll, setSelectAll] = useState(false);\n  const [selectEmailOnly, setSelectEmailOnly] = useState(false);\n  const [selectDevice, setSelectDevice] = useState(false);\n  const [dataNotification, setdataNotification] = useState();\n  const [selectedNotificationOption, setSelectedNotificationOption] = useState(\"\");\n  const [formFields, setFormFields] = useState({\n    url: []\n  });\n  const [dataUser, setdataUser] = useState();\n  const url = \"http://192.168.10.110:6969/v1\";\n  const UrlIMG = \"http://192.168.10.110:6969\";\n  // const id = \"661256cbb03b0c689798ad33\";\n  // const email = \"account8@gmail.com\";\n\n  const data = localStorage.getItem(\"userData\");\n  const id = localStorage.getItem(\"_id\");\n\n  // useEffect(() => {\n  //   if (data) {\n  //     setdataUser(JSON.parse(data));\n  //   }\n  // }, [id]);\n\n  // const getDataCate = async () => {\n  //   try {\n  //     const responsive = await api.get(`${url}/categori/`);\n  //     if (responsive.data.status === true) {\n  //       setdataNotification(responsive.data.data);\n  //     }\n  //   } catch (error) {\n  //     console.log(\"error\", error);\n  //   }\n  // };\n\n  useEffect(() => {\n    // getDataCate();\n    getDeviceToken();\n  }, [id]);\n  const onChangeImages = e => {\n    const files = Array.from(e.target.files);\n    const newImagesWithRenamed = files.map(file => {\n      const renamedFile = new File([file], normalizeFileName(file.name), {\n        type: file.type\n      });\n      return renamedFile;\n    });\n    // console.log('New image name:',newImagesWithRenamed);\n    const newImages = newImagesWithRenamed.filter(file => !images.some(image => image.name === file.name));\n    setImages(prevImages => [...prevImages, ...newImages]);\n    setFormFields(prevFields => ({\n      ...prevFields,\n      url: [...prevFields.url, ...newImagesWithRenamed]\n    }));\n  };\n  const handleRemoveImage = index => {\n    setImages(prevImages => prevImages.filter((_, i) => i !== index));\n    setFormFields(prevFields => ({\n      ...prevFields,\n      url: formFields.url.filter((_, i) => i !== index)\n    }));\n  };\n  const upfile = async () => {\n    const formData = new FormData();\n    // Thêm các file từ formFields.url vào FormData\n    formFields.url.forEach(image => {\n      formData.append(\"files\", image);\n    });\n    try {\n      const response = await api.post(`${url}/uploads`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      return response.status;\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n    }\n  };\n  // console.log(\"Upload\",formFields)\n  // console.log(\"formFields.url\",formFields.url.slice(1).map((image) => image))\n\n  const submitForm = async e => {\n    e.preventDefault();\n    if (name === \"\") {\n      return window.alert(\"Please input name enter\");\n    }\n    if (images.length === 0) {\n      return window.alert(\"Please input images enter\");\n    }\n    try {\n      setIsLoading(true);\n      // const file = await upfile();\n\n      const jsonData = {\n        userId: dataUser.email,\n        name: name,\n        description: depscription,\n        image: formFields.url[0].name\n      };\n      // console.log(\"jsonData\", jsonData);\n      console.log(\"depscription\", depscription);\n      const response = await api.post(`${url}/shose`, jsonData, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (response.data.status === true) {\n        window.alert(\"Đã thêm sản phẩm thành công\");\n        navigate(\"/notification\");\n      } else {\n        window.alert(\"Error\");\n      }\n      // console.log(response.data);\n    } catch (error) {\n      console.error(\"Cấu hình lỗi:\", error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const getDeviceToken = async () => {\n    try {\n      const response = await api.get(`${url}/notification/devicetoken`);\n      setdataDevice(response.data);\n      const AllDevices = response.data.reduce((all, device) => {\n        return all.concat(device.deviceToken);\n      }, []);\n      setAllDevices(AllDevices);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  // const handleEditorChange = (content, delta, source, editor) => {\n  //   console.log('handleEditorChange', content);\n  //   setDepscription(content);\n  // };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-content w-100\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card shadow border-0 w-100 flex-row p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0\",\n          children: \"Notification Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Breadcrumbs, {\n          \"aria-label\": \"breadcrumb\",\n          className: \"ml-auto breadcrumbs_\",\n          children: [/*#__PURE__*/_jsxDEV(StyledBreadcrumb, {\n            component: \"a\",\n            href: \"/admin/dashboard\",\n            label: \"Dashboard\",\n            icon: /*#__PURE__*/_jsxDEV(HomeIcon, {\n              fontSize: \"small\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledBreadcrumb, {\n            component: \"a\",\n            label: \"Notification\",\n            href: \"/admin/notification/\",\n            deleteIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledBreadcrumb, {\n            label: \"Notification Add\",\n            deleteIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row22\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form\",\n          onSubmit: submitForm,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"mb-4\",\n                  children: \"Notification Information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                      checked: selectAll,\n                      onChange: event => setSelectAll(event.target.checked),\n                      inputProps: {\n                        \"aria-label\": \"controlled\"\n                      },\n                      style: {\n                        color: \"red\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"All\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                      checked: selectEmailOnly,\n                      onChange: event => (setSelectEmailOnly(event.target.checked), setSelectAll(false), setSelectDevice(false)),\n                      inputProps: {\n                        \"aria-label\": \"controlled\"\n                      },\n                      style: {\n                        color: \"red\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Email Only\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                      checked: selectDevice,\n                      onChange: event => setSelectDevice(event.target.checked),\n                      inputProps: {\n                        \"aria-label\": \"controlled\"\n                      },\n                      style: {\n                        color: \"red\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 275,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Device\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \" Notification Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    name: \"options\",\n                    value: selectedNotificationOption,\n                    onChange: e => setSelectedNotificationOption(e.target.value),\n                    className: \"form-control\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: \"--Please choose an option--\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 25\n                    }, this), dataNotification !== undefined && dataNotification.map(notification => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: `${notification._id}`,\n                      children: notification.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 29\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \"Name Notification\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    name: \"nameProduct\",\n                    value: name,\n                    onChange: e => setName(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \"Upload Image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    accept: \"image/*\",\n                    onChange: onChangeImages,\n                    className: \"form-control\",\n                    multiple: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 23\n                  }, this), images !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"image-list\",\n                    style: {\n                      display: \"flex\",\n                      flexWrap: \"wrap\"\n                    },\n                    children: images.map((image, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"image-item\",\n                      style: {\n                        position: \"relative\",\n                        margin: 5\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        className: \"img-preview\",\n                        style: {\n                          height: 100,\n                          width: 100\n                        },\n                        src: URL.createObjectURL(image),\n                        alt: `Image ${index}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 341,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Icon, {\n                        component: CloseIcon,\n                        sx: {\n                          position: \"absolute\",\n                          top: 5,\n                          right: 5,\n                          cursor: \"pointer\"\n                        },\n                        onClick: () => handleRemoveImage(index)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 347,\n                        columnNumber: 31\n                      }, this)]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 29\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  id: \"editor-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: \"Depscription\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                    name: \"description\",\n                    value: depscription,\n                    style: {\n                      height: \"300px\"\n                    },\n                    onChange: a => setDepscription(a.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  className: \"btn-blue btn-lg btn-big\",\n                  children: [/*#__PURE__*/_jsxDEV(FaCloudUploadAlt, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 23\n                  }, this), \" \\xA0 ADD TO VIEW\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n_s(NotificationAdd, \"7eeMwBK129FfxZDXpX8vXpGWg88=\", false, function () {\n  return [useNavigate];\n});\n_c2 = NotificationAdd;\nexport default NotificationAdd;\nvar _c, _c2;\n$RefreshReg$(_c, \"StyledBreadcrumb\");\n$RefreshReg$(_c2, \"NotificationAdd\");","map":{"version":3,"names":["Breadcrumbs","HomeIcon","ExpandMoreIcon","emphasize","styled","Chip","MenuItem","Select","React","useEffect","useState","useRef","useCallback","Rating","FaCloudUploadAlt","Icon","Button","CloseIcon","api","useParams","TurndownService","Loading","Checkbox","ReactQuill","useNavigate","normalizeFileName","convertToWords","red","jsxDEV","_jsxDEV","Fragment","_Fragment","StyledBreadcrumb","theme","backgroundColor","palette","mode","grey","height","spacing","color","text","primary","fontWeight","typography","fontWeightRegular","boxShadow","shadows","_c","NotificationAdd","history","_s","navigate","reactQuillRef","fileExcel","setFileExcel","name","setName","depscription","setDepscription","images","setImages","isLoading","setIsLoading","dataDevice","setdataDevice","AllDevices","setAllDevices","selectOption","setselectOption","selectAll","setSelectAll","selectEmailOnly","setSelectEmailOnly","selectDevice","setSelectDevice","dataNotification","setdataNotification","selectedNotificationOption","setSelectedNotificationOption","formFields","setFormFields","url","dataUser","setdataUser","UrlIMG","data","localStorage","getItem","id","getDeviceToken","onChangeImages","e","files","Array","from","target","newImagesWithRenamed","map","file","renamedFile","File","type","newImages","filter","some","image","prevImages","prevFields","handleRemoveImage","index","_","i","upfile","formData","FormData","forEach","append","response","post","headers","status","error","console","submitForm","preventDefault","window","alert","length","jsonData","userId","email","description","log","message","get","reduce","all","device","concat","deviceToken","children","fileName","_jsxFileName","lineNumber","columnNumber","className","component","href","label","icon","fontSize","deleteIcon","onSubmit","checked","onChange","event","inputProps","style","value","undefined","notification","_id","accept","multiple","display","flexWrap","position","margin","width","src","URL","createObjectURL","alt","sx","top","right","cursor","onClick","a","_c2","$RefreshReg$"],"sources":["/Users/trinhdai/DATA/React_Native/BigShose2/client/website/src/components/admin/Notifications/Add.js"],"sourcesContent":["import Breadcrumbs from \"@mui/material/Breadcrumbs\";\nimport HomeIcon from \"@mui/icons-material/Home\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport { emphasize, styled } from \"@mui/material/styles\";\nimport Chip from \"@mui/material/Chip\";\n\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport React, { useEffect, useState, useRef, useCallback } from \"react\";\nimport Rating from \"@mui/material/Rating\";\nimport { FaCloudUploadAlt } from \"react-icons/fa\";\nimport { Icon } from \"@mui/material\";\nimport Button from \"@mui/material/Button\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport api from \"../../../api/api\";\nimport { useParams } from \"react-router-dom\";\n// import { htmlToMarkdown } from 'html-to-markdown';\nimport TurndownService from \"turndown\";\nimport Loading from \"../../../components/loading\";\nimport Checkbox from \"@mui/material/Checkbox\";\n\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { normalizeFileName, convertToWords } from \"../../../utils/formart\";\nimport { red } from \"@mui/material/colors\";\n\n//breadcrumb code\nconst StyledBreadcrumb = styled(Chip)(({ theme }) => {\n  const backgroundColor =\n    theme.palette.mode === \"light\"\n      ? theme.palette.grey[100]\n      : theme.palette.grey[800];\n  return {\n    backgroundColor,\n    height: theme.spacing(3),\n    color: theme.palette.text.primary,\n    fontWeight: theme.typography.fontWeightRegular,\n    \"&:hover, &:focus\": {\n      backgroundColor: emphasize(backgroundColor, 0.06),\n    },\n    \"&:active\": {\n      boxShadow: theme.shadows[1],\n      backgroundColor: emphasize(backgroundColor, 0.12),\n    },\n  };\n});\n\nconst NotificationAdd = ({ history }) => {\n  const navigate = useNavigate();\n\n  const reactQuillRef = useRef();\n\n  const [fileExcel, setFileExcel] = useState(null);\n\n  const [name, setName] = useState(\"\");\n  const [depscription, setDepscription] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [dataDevice, setdataDevice] = useState();\n  const [AllDevices, setAllDevices] = useState([]);\n  const [selectOption, setselectOption] = useState();\n\n\n\n  const [selectAll, setSelectAll] = useState(false);\n  const [selectEmailOnly, setSelectEmailOnly] = useState(false);\n  const [selectDevice, setSelectDevice] = useState(false);\n\n\n  const [dataNotification, setdataNotification] = useState();\n  const [selectedNotificationOption, setSelectedNotificationOption] =\n    useState(\"\");\n\n  const [formFields, setFormFields] = useState({\n    url: [],\n  });\n\n  const [dataUser, setdataUser] = useState();\n\n  const url = \"http://192.168.10.110:6969/v1\";\n  const UrlIMG = \"http://192.168.10.110:6969\";\n  // const id = \"661256cbb03b0c689798ad33\";\n  // const email = \"account8@gmail.com\";\n\n  const data = localStorage.getItem(\"userData\");\n  const id = localStorage.getItem(\"_id\");\n\n  // useEffect(() => {\n  //   if (data) {\n  //     setdataUser(JSON.parse(data));\n  //   }\n  // }, [id]);\n\n  // const getDataCate = async () => {\n  //   try {\n  //     const responsive = await api.get(`${url}/categori/`);\n  //     if (responsive.data.status === true) {\n  //       setdataNotification(responsive.data.data);\n  //     }\n  //   } catch (error) {\n  //     console.log(\"error\", error);\n  //   }\n  // };\n\n  useEffect(() => {\n    // getDataCate();\n    getDeviceToken();\n  }, [id]);\n\n  const onChangeImages = (e) => {\n    const files = Array.from(e.target.files);\n    const newImagesWithRenamed = files.map((file) => {\n      const renamedFile = new File([file], normalizeFileName(file.name), {\n        type: file.type,\n      });\n      return renamedFile;\n    });\n    // console.log('New image name:',newImagesWithRenamed);\n    const newImages = newImagesWithRenamed.filter(\n      (file) => !images.some((image) => image.name === file.name)\n    );\n    setImages((prevImages) => [...prevImages, ...newImages]);\n    setFormFields((prevFields) => ({\n      ...prevFields,\n      url: [...prevFields.url, ...newImagesWithRenamed],\n    }));\n  };\n\n  const handleRemoveImage = (index) => {\n    setImages((prevImages) => prevImages.filter((_, i) => i !== index));\n    setFormFields((prevFields) => ({\n      ...prevFields,\n      url: formFields.url.filter((_, i) => i !== index),\n    }));\n  };\n\n  const upfile = async () => {\n    const formData = new FormData();\n    // Thêm các file từ formFields.url vào FormData\n    formFields.url.forEach((image) => {\n      formData.append(\"files\", image);\n    });\n    try {\n      const response = await api.post(`${url}/uploads`, formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n      return response.status;\n    } catch (error) {\n      console.error(\"Upload failed\", error);\n    }\n  };\n  // console.log(\"Upload\",formFields)\n  // console.log(\"formFields.url\",formFields.url.slice(1).map((image) => image))\n\n  const submitForm = async (e) => {\n    e.preventDefault();\n    if (name === \"\") {\n      return window.alert(\"Please input name enter\");\n    }\n    if (images.length === 0) {\n      return window.alert(\"Please input images enter\");\n    }\n    try {\n      setIsLoading(true);\n      // const file = await upfile();\n\n      const jsonData = {\n        userId: dataUser.email,\n        name: name,\n        description: depscription,\n        image: formFields.url[0].name,\n      };\n      // console.log(\"jsonData\", jsonData);\n      console.log(\"depscription\", depscription);\n      const response = await api.post(`${url}/shose`, jsonData, {\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n      if (response.data.status === true) {\n        window.alert(\"Đã thêm sản phẩm thành công\");\n        navigate(\"/notification\");\n      } else {\n        window.alert(\"Error\");\n      }\n      // console.log(response.data);\n    } catch (error) {\n      console.error(\"Cấu hình lỗi:\", error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getDeviceToken = async () => {\n    try {\n      const response = await api.get(`${url}/notification/devicetoken`);\n      setdataDevice(response.data);\n      const AllDevices = response.data.reduce((all, device) => {\n        return all.concat(device.deviceToken);\n      }, []);\n      setAllDevices(AllDevices);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  // const handleEditorChange = (content, delta, source, editor) => {\n  //   console.log('handleEditorChange', content);\n  //   setDepscription(content);\n  // };\n\n  return (\n    <>\n      {isLoading ? (\n        <Loading />\n      ) : (\n        <div className=\"right-content w-100\">\n          <div className=\"card shadow border-0 w-100 flex-row p-4\">\n            <h5 className=\"mb-0\">Notification Add</h5>\n            <Breadcrumbs\n              aria-label=\"breadcrumb\"\n              className=\"ml-auto breadcrumbs_\"\n            >\n              <StyledBreadcrumb\n                component=\"a\"\n                href=\"/admin/dashboard\"\n                label=\"Dashboard\"\n                icon={<HomeIcon fontSize=\"small\" />}\n              />\n\n              <StyledBreadcrumb\n                component=\"a\"\n                label=\"Notification\"\n                href=\"/admin/notification/\"\n                deleteIcon={<ExpandMoreIcon />}\n              />\n              <StyledBreadcrumb\n                label=\"Notification Add\"\n                deleteIcon={<ExpandMoreIcon />}\n              />\n            </Breadcrumbs>\n          </div>\n\n          <div className=\"row22\">\n            <form className=\"form\" onSubmit={submitForm}>\n              <div className=\"row\">\n                <div className=\"col-sm\">\n                  <div className=\"card p-4\">\n                    <h5 className=\"mb-4\">Notification Information</h5>\n                    <div className=\"row\">\n                      <div className=\"col-sm\">\n                        <Checkbox\n                          checked={selectAll}\n                          onChange={(event) =>\n                            setSelectAll(event.target.checked)\n                          }\n                          inputProps={{ \"aria-label\": \"controlled\" }}\n                          style={{ color: \"red\" }}\n                        />\n                        <span>All</span>\n                      </div>\n                      <div className=\"col-sm\">\n                        <Checkbox\n                          checked={selectEmailOnly}\n                          onChange={(event) =>(\n                            setSelectEmailOnly(event.target.checked),\n                            setSelectAll(false),\n                            setSelectDevice(false))}\n                          inputProps={{ \"aria-label\": \"controlled\" }}\n                          style={{ color: \"red\" }}\n                        />\n                        <span>Email Only</span>\n                      </div>\n                      <div className=\"col-sm\">\n                        <Checkbox\n                          checked={selectDevice}\n                          onChange={(event) =>\n                            setSelectDevice(event.target.checked)\n                          }\n                          inputProps={{ \"aria-label\": \"controlled\" }}\n                          style={{ color: \"red\" }}\n                        />\n                        <span>Device</span>\n                      </div>\n                    </div>\n                    <br />\n\n                    <div className=\"form-group\">\n                      <h6> Notification Email</h6>\n                      <select\n                        name=\"options\"\n                        value={selectedNotificationOption}\n                        onChange={(e) =>\n                          setSelectedNotificationOption(e.target.value)\n                        }\n                        className=\"form-control\"\n                      >\n                        <option value=\"\">--Please choose an option--</option>\n                        {dataNotification !== undefined &&\n                          dataNotification.map((notification) => (\n                            <option value={`${notification._id}`}>\n                              {notification.name}\n                            </option>\n                          ))}\n                      </select>\n                    </div>\n\n                    <br />\n                    <div className=\"form-group\">\n                      <h6>Name Notification</h6>\n                      <input\n                        type=\"text\"\n                        name=\"nameProduct\"\n                        value={name}\n                        onChange={(e) => setName(e.target.value)}\n                      />\n                    </div>\n\n                    <br />\n\n                    <div className=\"form-group\">\n                      <h6>Upload Image</h6>\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={onChangeImages}\n                        className=\"form-control\"\n                        multiple\n                      />\n                      {images !== undefined && (\n                        <div\n                          className=\"image-list\"\n                          style={{ display: \"flex\", flexWrap: \"wrap\" }}\n                        >\n                          {images.map((image, index) => (\n                            <div\n                              key={index}\n                              className=\"image-item\"\n                              style={{ position: \"relative\", margin: 5 }}\n                            >\n                              <img\n                                className=\"img-preview\"\n                                style={{ height: 100, width: 100 }}\n                                src={URL.createObjectURL(image)}\n                                alt={`Image ${index}`}\n                              />\n                              <Icon\n                                component={CloseIcon}\n                                sx={{\n                                  position: \"absolute\",\n                                  top: 5,\n                                  right: 5,\n                                  cursor: \"pointer\",\n                                }}\n                                onClick={() => handleRemoveImage(index)}\n                              />\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n\n                    <div className=\"form-group\" id=\"editor-container\">\n                      <h6>Depscription</h6>\n                      <textarea\n                        name=\"description\"\n                        value={depscription}\n                        style={{ height: \"300px\" }}\n                        onChange={(a) => setDepscription(a.target.value)}\n                      />\n                    </div>\n\n                    <br />\n\n                    <Button type=\"submit\" className=\"btn-blue btn-lg btn-big\">\n                      <FaCloudUploadAlt /> &nbsp; ADD TO VIEW\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </form>\n            <br />\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default NotificationAdd;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}